{"version":3,"file":"js/app.8d2e0290.js","mappings":"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","sources":["webpack://super-ppt/./src/types/toolbar.ts","webpack://super-ppt/./src/configs/font.ts","webpack://super-ppt/./src/utils/prosemirror/utils.ts","webpack://super-ppt/./src/utils/font.ts","webpack://super-ppt/./src/mocks/slides.ts","webpack://super-ppt/./src/mocks/theme.ts","webpack://super-ppt/./src/mocks/layout.ts","webpack://super-ppt/./src/store/slides.ts","webpack://super-ppt/./src/store/main.ts","webpack://super-ppt/./src/configs/storage.ts","webpack://super-ppt/./src/utils/database.ts","webpack://super-ppt/./src/store/snapshot.ts","webpack://super-ppt/./src/store/keyboard.ts","webpack://super-ppt/./src/store/screen.ts","webpack://super-ppt/./src/utils/common.ts","webpack://super-ppt/./src/types/edit.ts","webpack://super-ppt/./src/configs/hotkey.ts","webpack://super-ppt/./src/utils/crypto.ts","webpack://super-ppt/./src/utils/clipboard.ts","webpack://super-ppt/./src/utils/element.ts","webpack://super-ppt/./src/utils/textParser.ts","webpack://super-ppt/./src/utils/image.ts","webpack://super-ppt/./src/configs/canvas.ts","webpack://super-ppt/./src/types/slides.ts","webpack://super-ppt/./src/configs/shapes.ts","webpack://super-ppt/./src/configs/chartTypes.ts","webpack://super-ppt/./src/hooks/useHistorySnapshot.ts","webpack://super-ppt/./src/hooks/useCreateElement.ts","webpack://super-ppt/./src/hooks/useAddSlidesOrElements.ts","webpack://super-ppt/./src/hooks/usePasteTextClipboardData.ts","webpack://super-ppt/./src/hooks/useSlideHandler.ts","webpack://super-ppt/./src/hooks/useLockElement.ts","webpack://super-ppt/./src/hooks/useDeleteElement.ts","webpack://super-ppt/./src/hooks/useCombineElement.ts","webpack://super-ppt/./src/hooks/useCopyAndPasteElement.ts","webpack://super-ppt/./src/hooks/useSelectAllElement.ts","webpack://super-ppt/./src/hooks/useMoveElement.ts","webpack://super-ppt/./src/hooks/useOrderElement.ts","webpack://super-ppt/./src/utils/fullscreen.ts","webpack://super-ppt/./src/hooks/useScreening.ts","webpack://super-ppt/./src/hooks/useScaleCanvas.ts","webpack://super-ppt/./src/hooks/useGlobalHotkey.ts","webpack://super-ppt/./src/hooks/usePasteEvent.ts","webpack://super-ppt/./src/hooks/useImport.ts","webpack://super-ppt/./src/views/Editor/EditorHeader/HotkeyDoc.vue?9352","webpack://super-ppt/./src/views/Editor/EditorHeader/HotkeyDoc.vue","webpack://super-ppt/./src/components/FileInput.vue?44c6","webpack://super-ppt/./src/components/FileInput.vue","webpack://super-ppt/./src/components/FullscreenSpin.vue?a88e","webpack://super-ppt/./src/components/FullscreenSpin.vue","webpack://super-ppt/./src/views/Editor/EditorHeader/index.vue?e4c2","webpack://super-ppt/./src/views/Editor/EditorHeader/index.vue","webpack://super-ppt/./src/types/injectKey.ts","webpack://super-ppt/./src/utils/selection.ts","webpack://super-ppt/./src/views/Editor/Canvas/hooks/useViewportSize.ts","webpack://super-ppt/./src/views/Editor/Canvas/hooks/useMouseSelection.ts","webpack://super-ppt/./src/views/Editor/Canvas/hooks/useDropImageOrText.ts","webpack://super-ppt/./src/views/Editor/Canvas/hooks/useRotateElement.ts","webpack://super-ppt/./src/configs/element.ts","webpack://super-ppt/./src/views/Editor/Canvas/hooks/useScaleElement.ts","webpack://super-ppt/./src/configs/imageClip.ts","webpack://super-ppt/./src/views/Editor/Canvas/hooks/useSelectElement.ts","webpack://super-ppt/./src/views/Editor/Canvas/hooks/useDragElement.ts","webpack://super-ppt/./src/views/Editor/Canvas/hooks/useDragLineElement.ts","webpack://super-ppt/./src/views/Editor/Canvas/hooks/useMoveShapeKeypoint.ts","webpack://super-ppt/./src/views/Editor/Canvas/hooks/useInsertFromCreateSelection.ts","webpack://super-ppt/./src/hooks/useAlignElementToCanvas.ts","webpack://super-ppt/./src/views/components/element/hooks/useElementShadow.ts","webpack://super-ppt/./src/views/components/element/hooks/useElementFlip.ts","webpack://super-ppt/./src/views/components/element/ImageElement/useClipImage.ts","webpack://super-ppt/./src/views/components/element/ImageElement/useFilter.ts","webpack://super-ppt/./src/views/components/element/hooks/useElementOutline.ts","webpack://super-ppt/./src/views/components/element/ImageElement/ImageOutline/ImageRectOutline.vue?9316","webpack://super-ppt/./src/views/components/element/ImageElement/ImageOutline/ImageRectOutline.vue","webpack://super-ppt/./src/views/components/element/ImageElement/ImageOutline/ImageEllipseOutline.vue?8e85","webpack://super-ppt/./src/views/components/element/ImageElement/ImageOutline/ImageEllipseOutline.vue","webpack://super-ppt/./src/views/components/element/ImageElement/ImageOutline/ImagePolygonOutline.vue?ae32","webpack://super-ppt/./src/views/components/element/ImageElement/ImageOutline/ImagePolygonOutline.vue","webpack://super-ppt/./src/views/components/element/ImageElement/ImageOutline/index.vue?944b","webpack://super-ppt/./src/views/components/element/ImageElement/ImageOutline/index.vue","webpack://super-ppt/./src/views/components/element/ImageElement/ImageClipHandler.vue?93a9","webpack://super-ppt/./src/views/components/element/ImageElement/ImageClipHandler.vue","webpack://super-ppt/./src/views/components/element/ImageElement/index.vue?0fe8","webpack://super-ppt/./src/views/components/element/ImageElement/index.vue","webpack://super-ppt/./src/views/components/element/ElementOutline.vue?2353","webpack://super-ppt/./src/views/components/element/ElementOutline.vue","webpack://super-ppt/./src/utils/prosemirror/plugins/keymap.ts","webpack://super-ppt/./src/utils/prosemirror/plugins/inputrules.ts","webpack://super-ppt/./src/utils/prosemirror/plugins/index.ts","webpack://super-ppt/./src/utils/prosemirror/schema/nodes.ts","webpack://super-ppt/./src/utils/prosemirror/schema/marks.ts","webpack://super-ppt/./src/utils/prosemirror/schema/index.ts","webpack://super-ppt/./src/utils/prosemirror/index.ts","webpack://super-ppt/./src/utils/emitter.ts","webpack://super-ppt/./src/utils/prosemirror/commands/setTextAlign.ts","webpack://super-ppt/./src/utils/prosemirror/commands/toggleList.ts","webpack://super-ppt/./src/utils/prosemirror/commands/setTextIndent.ts","webpack://super-ppt/./src/views/components/element/ProsemirrorEditor.vue?29d9","webpack://super-ppt/./src/views/components/element/ProsemirrorEditor.vue","webpack://super-ppt/./src/views/components/element/TextElement/index.vue?caca","webpack://super-ppt/./src/views/components/element/TextElement/index.vue","webpack://super-ppt/./src/views/components/element/ShapeElement/GradientDefs.vue?8b18","webpack://super-ppt/./src/views/components/element/ShapeElement/GradientDefs.vue","webpack://super-ppt/./src/views/components/element/ShapeElement/index.vue?a610","webpack://super-ppt/./src/views/components/element/ShapeElement/index.vue","webpack://super-ppt/./src/views/components/element/LineElement/LinePointMarker.vue?0b38","webpack://super-ppt/./src/views/components/element/LineElement/LinePointMarker.vue","webpack://super-ppt/./src/views/components/element/LineElement/index.vue?fc53","webpack://super-ppt/./src/views/components/element/LineElement/index.vue","webpack://super-ppt/./src/views/components/element/ChartElement/Chart.vue?57b8","webpack://super-ppt/./src/views/components/element/ChartElement/Chart.vue","webpack://super-ppt/./src/views/components/element/ChartElement/index.vue?1b58","webpack://super-ppt/./src/views/components/element/ChartElement/index.vue","webpack://super-ppt/./src/views/components/element/TableElement/utils.ts","webpack://super-ppt/./src/views/components/element/TableElement/useHideCells.ts","webpack://super-ppt/./src/views/components/element/TableElement/useSubThemeColor.ts","webpack://super-ppt/./src/views/components/element/TableElement/CustomTextarea.vue?b9f5","webpack://super-ppt/./src/views/components/element/TableElement/CustomTextarea.vue","webpack://super-ppt/./src/views/components/element/TableElement/EditableTable.vue?9b61","webpack://super-ppt/./src/views/components/element/TableElement/EditableTable.vue","webpack://super-ppt/./src/views/components/element/TableElement/index.vue?cc5f","webpack://super-ppt/./src/views/components/element/TableElement/index.vue","webpack://super-ppt/./src/views/components/element/LatexElement/index.vue?d3dd","webpack://super-ppt/./src/views/components/element/LatexElement/index.vue","webpack://super-ppt/./src/views/components/element/VideoElement/VideoPlayer/useMSE.ts","webpack://super-ppt/./src/views/components/element/VideoElement/VideoPlayer/index.vue?eeaa","webpack://super-ppt/./src/views/components/element/VideoElement/VideoPlayer/index.vue","webpack://super-ppt/./src/views/components/element/VideoElement/index.vue?fc73","webpack://super-ppt/./src/views/components/element/VideoElement/index.vue","webpack://super-ppt/./src/views/components/element/AudioElement/AudioPlayer.vue?ea2d","webpack://super-ppt/./src/views/components/element/AudioElement/AudioPlayer.vue","webpack://super-ppt/./src/views/components/element/AudioElement/index.vue?91e9","webpack://super-ppt/./src/views/components/element/AudioElement/index.vue","webpack://super-ppt/./src/views/Editor/Canvas/EditableElement.vue?8f8a","webpack://super-ppt/./src/views/Editor/Canvas/EditableElement.vue","webpack://super-ppt/./src/views/Editor/Canvas/MouseSelection.vue?95c7","webpack://super-ppt/./src/views/Editor/Canvas/MouseSelection.vue","webpack://super-ppt/./src/views/Editor/Canvas/GridLines.vue?ffd3","webpack://super-ppt/./src/views/Editor/Canvas/GridLines.vue","webpack://super-ppt/./src/hooks/useSlideBackgroundStyle.ts","webpack://super-ppt/./src/views/Editor/Canvas/ViewportBackground.vue?a892","webpack://super-ppt/./src/views/Editor/Canvas/ViewportBackground.vue","webpack://super-ppt/./src/views/Editor/Canvas/AlignmentLine.vue?0b9a","webpack://super-ppt/./src/views/Editor/Canvas/AlignmentLine.vue","webpack://super-ppt/./src/views/Editor/Canvas/Ruler.vue?93e8","webpack://super-ppt/./src/views/Editor/Canvas/Ruler.vue","webpack://super-ppt/./src/views/Editor/Canvas/ElementCreateSelection.vue?4156","webpack://super-ppt/./src/views/Editor/Canvas/ElementCreateSelection.vue","webpack://super-ppt/./src/views/Editor/Canvas/hooks/useCommonOperate.ts","webpack://super-ppt/./src/views/Editor/Canvas/Operate/ResizeHandler.vue?edb6","webpack://super-ppt/./src/views/Editor/Canvas/Operate/ResizeHandler.vue","webpack://super-ppt/./src/views/Editor/Canvas/Operate/BorderLine.vue?8cd4","webpack://super-ppt/./src/views/Editor/Canvas/Operate/BorderLine.vue","webpack://super-ppt/./src/views/Editor/Canvas/Operate/MultiSelectOperate.vue?edb0","webpack://super-ppt/./src/views/Editor/Canvas/Operate/MultiSelectOperate.vue","webpack://super-ppt/./src/views/Editor/Canvas/Operate/RotateHandler.vue","webpack://super-ppt/./src/views/Editor/Canvas/Operate/RotateHandler.vue?642f","webpack://super-ppt/./src/views/Editor/Canvas/Operate/ImageElementOperate.vue?753f","webpack://super-ppt/./src/views/Editor/Canvas/Operate/ImageElementOperate.vue","webpack://super-ppt/./src/views/Editor/Canvas/Operate/TextElementOperate.vue?b8da","webpack://super-ppt/./src/views/Editor/Canvas/Operate/TextElementOperate.vue","webpack://super-ppt/./src/views/Editor/Canvas/Operate/ShapeElementOperate.vue?013d","webpack://super-ppt/./src/views/Editor/Canvas/Operate/ShapeElementOperate.vue","webpack://super-ppt/./src/views/Editor/Canvas/Operate/LineElementOperate.vue?6121","webpack://super-ppt/./src/views/Editor/Canvas/Operate/LineElementOperate.vue","webpack://super-ppt/./src/views/Editor/Canvas/Operate/TableElementOperate.vue?a0dd","webpack://super-ppt/./src/views/Editor/Canvas/Operate/TableElementOperate.vue","webpack://super-ppt/./src/views/Editor/Canvas/Operate/CommonElementOperate.vue?457a","webpack://super-ppt/./src/views/Editor/Canvas/Operate/CommonElementOperate.vue","webpack://super-ppt/./src/hooks/useLink.ts","webpack://super-ppt/./src/views/Editor/Canvas/Operate/LinkHandler.vue?06fd","webpack://super-ppt/./src/views/Editor/Canvas/Operate/LinkHandler.vue","webpack://super-ppt/./src/views/Editor/Canvas/Operate/index.vue?b0ed","webpack://super-ppt/./src/views/Editor/Canvas/Operate/index.vue","webpack://super-ppt/./src/views/components/element/ImageElement/BaseImageElement.vue?6783","webpack://super-ppt/./src/views/components/element/ImageElement/BaseImageElement.vue","webpack://super-ppt/./src/views/components/element/TextElement/BaseTextElement.vue?177a","webpack://super-ppt/./src/views/components/element/TextElement/BaseTextElement.vue","webpack://super-ppt/./src/views/components/element/ShapeElement/BaseShapeElement.vue?4450","webpack://super-ppt/./src/views/components/element/ShapeElement/BaseShapeElement.vue","webpack://super-ppt/./src/views/components/element/LineElement/BaseLineElement.vue?3f0d","webpack://super-ppt/./src/views/components/element/LineElement/BaseLineElement.vue","webpack://super-ppt/./src/views/components/element/ChartElement/BaseChartElement.vue?5194","webpack://super-ppt/./src/views/components/element/ChartElement/BaseChartElement.vue","webpack://super-ppt/./src/views/components/element/TableElement/StaticTable.vue?3a90","webpack://super-ppt/./src/views/components/element/TableElement/StaticTable.vue","webpack://super-ppt/./src/views/components/element/TableElement/BaseTableElement.vue?6086","webpack://super-ppt/./src/views/components/element/TableElement/BaseTableElement.vue","webpack://super-ppt/./src/views/components/element/LatexElement/BaseLatexElement.vue?3c46","webpack://super-ppt/./src/views/components/element/LatexElement/BaseLatexElement.vue","webpack://super-ppt/./src/views/components/element/VideoElement/BaseVideoElement.vue?7444","webpack://super-ppt/./src/views/components/element/VideoElement/BaseVideoElement.vue","webpack://super-ppt/./src/views/components/element/AudioElement/BaseAudioElement.vue?5c9b","webpack://super-ppt/./src/views/components/element/AudioElement/BaseAudioElement.vue","webpack://super-ppt/./src/views/components/ThumbnailSlide/ThumbnailElement.vue?d15f","webpack://super-ppt/./src/views/components/ThumbnailSlide/ThumbnailElement.vue","webpack://super-ppt/./src/views/components/ThumbnailSlide/index.vue?f86a","webpack://super-ppt/./src/views/components/ThumbnailSlide/index.vue","webpack://super-ppt/./src/views/Editor/Canvas/LinkDialog.vue?3b6e","webpack://super-ppt/./src/views/Editor/Canvas/LinkDialog.vue","webpack://super-ppt/./src/views/Editor/Canvas/index.vue?8af9","webpack://super-ppt/./src/views/Editor/Canvas/index.vue","webpack://super-ppt/./src/views/Editor/CanvasTool/ShapeItemThumbnail.vue?fb11","webpack://super-ppt/./src/views/Editor/CanvasTool/ShapeItemThumbnail.vue","webpack://super-ppt/./src/views/Editor/CanvasTool/ShapePool.vue?585b","webpack://super-ppt/./src/views/Editor/CanvasTool/ShapePool.vue","webpack://super-ppt/./src/configs/lines.ts","webpack://super-ppt/./src/views/Editor/CanvasTool/LinePool.vue?c3f1","webpack://super-ppt/./src/views/Editor/CanvasTool/LinePool.vue","webpack://super-ppt/./src/views/Editor/CanvasTool/ChartPool.vue?16bf","webpack://super-ppt/./src/views/Editor/CanvasTool/ChartPool.vue","webpack://super-ppt/./src/views/Editor/CanvasTool/TableGenerator.vue?4a38","webpack://super-ppt/./src/views/Editor/CanvasTool/TableGenerator.vue","webpack://super-ppt/./src/views/Editor/CanvasTool/MediaInput.vue?72ba","webpack://super-ppt/./src/views/Editor/CanvasTool/MediaInput.vue","webpack://super-ppt/./src/components/LaTeXEditor/hfmath.ts","webpack://super-ppt/./src/configs/latex.ts","webpack://super-ppt/./src/components/LaTeXEditor/FormulaContent.vue?4804","webpack://super-ppt/./src/components/LaTeXEditor/FormulaContent.vue","webpack://super-ppt/./src/components/LaTeXEditor/SymbolContent.vue?2b07","webpack://super-ppt/./src/components/LaTeXEditor/SymbolContent.vue","webpack://super-ppt/./src/components/LaTeXEditor/index.vue?6390","webpack://super-ppt/./src/components/LaTeXEditor/index.vue","webpack://super-ppt/./src/views/Editor/CanvasTool/index.vue?f46b","webpack://super-ppt/./src/views/Editor/CanvasTool/index.vue","webpack://super-ppt/./src/hooks/useLoadSlides.ts","webpack://super-ppt/./src/views/Editor/Thumbnails/LayoutPool.vue?1248","webpack://super-ppt/./src/views/Editor/Thumbnails/LayoutPool.vue","webpack://super-ppt/./src/views/Editor/Thumbnails/index.vue?bc35","webpack://super-ppt/./src/views/Editor/Thumbnails/index.vue","webpack://super-ppt/./src/hooks/useTextFormatPainter.ts","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementOpacity.vue?19fb","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementOpacity.vue","webpack://super-ppt/./src/views/Editor/Toolbar/common/ColorButton.vue?08e6","webpack://super-ppt/./src/views/Editor/Toolbar/common/ColorButton.vue","webpack://super-ppt/./src/components/ColorPicker/Checkboard.vue?9d92","webpack://super-ppt/./src/components/ColorPicker/Checkboard.vue","webpack://super-ppt/./src/components/ColorPicker/Alpha.vue?dc3c","webpack://super-ppt/./src/components/ColorPicker/Alpha.vue","webpack://super-ppt/./src/components/ColorPicker/Hue.vue?5f7f","webpack://super-ppt/./src/components/ColorPicker/Hue.vue","webpack://super-ppt/./src/components/ColorPicker/Saturation.vue?a984","webpack://super-ppt/./src/components/ColorPicker/Saturation.vue","webpack://super-ppt/./src/components/ColorPicker/EditableInput.vue?27f4","webpack://super-ppt/./src/components/ColorPicker/EditableInput.vue","webpack://super-ppt/./src/components/ColorPicker/index.vue?1ed9","webpack://super-ppt/./src/components/ColorPicker/index.vue","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementOutline.vue?c970","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementOutline.vue","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementShadow.vue?b877","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementShadow.vue","webpack://super-ppt/./src/views/Editor/Toolbar/common/TextColorButton.vue?ab36","webpack://super-ppt/./src/views/Editor/Toolbar/common/TextColorButton.vue","webpack://super-ppt/./src/components/CheckboxButton.vue?775d","webpack://super-ppt/./src/components/CheckboxButton.vue","webpack://super-ppt/./src/components/CheckboxButtonGroup.vue","webpack://super-ppt/./src/components/CheckboxButtonGroup.vue?7733","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/TextStylePanel.vue?f316","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/TextStylePanel.vue","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementFlip.vue?379d","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementFlip.vue","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementFilter.vue?ab98","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementFilter.vue","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementColorMask.vue?9e95","webpack://super-ppt/./src/views/Editor/Toolbar/common/ElementColorMask.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/ImageStylePanel.vue?7230","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/ImageStylePanel.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/ShapeStylePanel.vue?2911","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/ShapeStylePanel.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/LineStylePanel.vue?0cee","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/LineStylePanel.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/ChartStylePanel/ChartDataEditor.vue?e1c4","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/ChartStylePanel/ChartDataEditor.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/ChartStylePanel/index.vue?82fb","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/ChartStylePanel/index.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/TableStylePanel.vue?542f","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/TableStylePanel.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/LatexStylePanel.vue?71d1","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/LatexStylePanel.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/VideoStylePanel.vue?f561","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/VideoStylePanel.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/AudioStylePanel.vue?9595","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/AudioStylePanel.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/MultiStylePanel.vue?3a1d","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/MultiStylePanel.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/index.vue?a6e3","webpack://super-ppt/./src/views/Editor/Toolbar/ElementStylePanel/index.vue","webpack://super-ppt/./src/views/Editor/Toolbar/ElementPositionPanel.vue?69a7","webpack://super-ppt/./src/views/Editor/Toolbar/ElementPositionPanel.vue","webpack://super-ppt/./src/configs/animation.ts","webpack://super-ppt/./src/views/Editor/Toolbar/ElementAnimationPanel.vue?cde6","webpack://super-ppt/./src/views/Editor/Toolbar/ElementAnimationPanel.vue","webpack://super-ppt/./src/configs/theme.ts","webpack://super-ppt/./src/hooks/useSlideTheme.ts","webpack://super-ppt/./src/views/Editor/Toolbar/SlideDesignPanel.vue?bfed","webpack://super-ppt/./src/views/Editor/Toolbar/SlideDesignPanel.vue","webpack://super-ppt/./src/views/Editor/Toolbar/SlideAnimationPanel.vue?0558","webpack://super-ppt/./src/views/Editor/Toolbar/SlideAnimationPanel.vue","webpack://super-ppt/./src/hooks/useAlignActiveElement.ts","webpack://super-ppt/./src/hooks/useUniformDisplayElement.ts","webpack://super-ppt/./src/views/Editor/Toolbar/MultiPositionPanel.vue?d4f0","webpack://super-ppt/./src/views/Editor/Toolbar/MultiPositionPanel.vue","webpack://super-ppt/./src/configs/symbol.ts","webpack://super-ppt/./src/views/Editor/Toolbar/SymbolPanel.vue?8aa1","webpack://super-ppt/./src/views/Editor/Toolbar/SymbolPanel.vue","webpack://super-ppt/./src/views/Editor/Toolbar/index.vue?103d","webpack://super-ppt/./src/views/Editor/Toolbar/index.vue","webpack://super-ppt/./src/views/Editor/Remark/index.vue?6e10","webpack://super-ppt/./src/views/Editor/Remark/index.vue","webpack://super-ppt/./src/utils/htmlParser/tags.ts","webpack://super-ppt/./src/utils/htmlParser/lexer.ts","webpack://super-ppt/./src/utils/htmlParser/parser.ts","webpack://super-ppt/./src/utils/htmlParser/format.ts","webpack://super-ppt/./src/utils/htmlParser/index.ts","webpack://super-ppt/./src/utils/svgPathParser.ts","webpack://super-ppt/./src/utils/svg2Base64.ts","webpack://super-ppt/./src/hooks/useExport.ts","webpack://super-ppt/./src/views/Editor/ExportDialog/ExportImage.vue?f7cf","webpack://super-ppt/./src/views/Editor/ExportDialog/ExportImage.vue","webpack://super-ppt/./src/views/Editor/ExportDialog/ExportJSON.vue?2ff5","webpack://super-ppt/./src/views/Editor/ExportDialog/ExportJSON.vue","webpack://super-ppt/./src/utils/print.ts","webpack://super-ppt/./src/views/Editor/ExportDialog/ExportPDF.vue?1e0b","webpack://super-ppt/./src/views/Editor/ExportDialog/ExportPDF.vue","webpack://super-ppt/./src/views/Editor/ExportDialog/ExportPPTX.vue?33ee","webpack://super-ppt/./src/views/Editor/ExportDialog/ExportPPTX.vue","webpack://super-ppt/./src/views/Editor/ExportDialog/ExportSpecificFile.vue?7ac1","webpack://super-ppt/./src/views/Editor/ExportDialog/ExportSpecificFile.vue","webpack://super-ppt/./src/views/Editor/ExportDialog/index.vue?41f3","webpack://super-ppt/./src/views/Editor/ExportDialog/index.vue","webpack://super-ppt/./src/components/MoveablePanel.vue?f0f1","webpack://super-ppt/./src/components/MoveablePanel.vue","webpack://super-ppt/./src/views/Editor/SelectPanel.vue?60d1","webpack://super-ppt/./src/views/Editor/SelectPanel.vue","webpack://super-ppt/./src/views/Editor/index.vue?3b37","webpack://super-ppt/./src/views/Editor/index.vue","webpack://super-ppt/./src/views/Screen/hooks/useExecPlay.ts","webpack://super-ppt/./src/views/Screen/hooks/useSlideSize.ts","webpack://super-ppt/./src/views/Screen/hooks/useFullscreen.ts","webpack://super-ppt/./src/views/components/element/ChartElement/ScreenChartElement.vue?47ff","webpack://super-ppt/./src/views/components/element/ChartElement/ScreenChartElement.vue","webpack://super-ppt/./src/views/components/element/VideoElement/ScreenVideoElement.vue?202f","webpack://super-ppt/./src/views/components/element/VideoElement/ScreenVideoElement.vue","webpack://super-ppt/./src/views/components/element/AudioElement/ScreenAudioElement.vue?dd4b","webpack://super-ppt/./src/views/components/element/AudioElement/ScreenAudioElement.vue","webpack://super-ppt/./src/views/Screen/ScreenElement.vue?d21e","webpack://super-ppt/./src/views/Screen/ScreenElement.vue","webpack://super-ppt/./src/views/Screen/ScreenSlide.vue?08bc","webpack://super-ppt/./src/views/Screen/ScreenSlide.vue","webpack://super-ppt/./src/views/Screen/ScreenSlideList.vue?bd33","webpack://super-ppt/./src/views/Screen/ScreenSlideList.vue","webpack://super-ppt/./src/views/Screen/SlideThumbnails.vue?110e","webpack://super-ppt/./src/views/Screen/SlideThumbnails.vue","webpack://super-ppt/./src/components/WritingBoard.vue?95f9","webpack://super-ppt/./src/components/WritingBoard.vue","webpack://super-ppt/./src/views/Screen/WritingBoardTool.vue?ed64","webpack://super-ppt/./src/views/Screen/WritingBoardTool.vue","webpack://super-ppt/./src/views/Screen/CountdownTimer.vue?873b","webpack://super-ppt/./src/views/Screen/CountdownTimer.vue","webpack://super-ppt/./src/views/Screen/BaseView.vue?0966","webpack://super-ppt/./src/views/Screen/BaseView.vue","webpack://super-ppt/./src/views/Screen/PresenterView.vue?63c0","webpack://super-ppt/./src/views/Screen/PresenterView.vue","webpack://super-ppt/./src/views/Screen/index.vue?65fb","webpack://super-ppt/./src/views/Screen/index.vue","webpack://super-ppt/./src/views/Mobile/MobileEditor/MobileEditableElement.vue?7f1e","webpack://super-ppt/./src/views/Mobile/MobileEditor/MobileEditableElement.vue","webpack://super-ppt/./src/views/Mobile/MobileEditor/MobileOperate.vue?1aa2","webpack://super-ppt/./src/views/Mobile/MobileEditor/MobileOperate.vue","webpack://super-ppt/./src/views/Mobile/MobileEditor/SlideToolbar.vue?8822","webpack://super-ppt/./src/views/Mobile/MobileEditor/SlideToolbar.vue","webpack://super-ppt/./src/views/Mobile/MobileEditor/ElementToolbar.vue?684a","webpack://super-ppt/./src/views/Mobile/MobileEditor/ElementToolbar.vue","webpack://super-ppt/./src/views/Mobile/MobileEditor/Header.vue?2b85","webpack://super-ppt/./src/views/Mobile/MobileEditor/Header.vue","webpack://super-ppt/./src/views/Mobile/MobileEditor/index.vue?3bbe","webpack://super-ppt/./src/views/Mobile/MobileEditor/index.vue","webpack://super-ppt/./src/views/Mobile/MobileThumbnails.vue?ff50","webpack://super-ppt/./src/views/Mobile/MobileThumbnails.vue","webpack://super-ppt/./src/views/Mobile/MobilePlayer.vue?04c9","webpack://super-ppt/./src/views/Mobile/MobilePlayer.vue","webpack://super-ppt/./src/views/Mobile/MobilePreview.vue?dd38","webpack://super-ppt/./src/views/Mobile/MobilePreview.vue","webpack://super-ppt/./src/views/Mobile/index.vue?1a0e","webpack://super-ppt/./src/views/Mobile/index.vue","webpack://super-ppt/./src/App.vue?cb76","webpack://super-ppt/./src/App.vue","webpack://super-ppt/./src/registerServiceWorker.ts","webpack://super-ppt/./src/plugins/icon.ts","webpack://super-ppt/./src/components/Contextmenu/MenuContent.vue?7d27","webpack://super-ppt/./src/components/Contextmenu/MenuContent.vue","webpack://super-ppt/./src/components/Contextmenu/index.vue?cd06","webpack://super-ppt/./src/components/Contextmenu/index.vue","webpack://super-ppt/./src/plugins/directive/contextmenu.ts","webpack://super-ppt/./src/plugins/directive/clickOutside.ts","webpack://super-ppt/./src/plugins/directive/index.ts","webpack://super-ppt/./src/main.ts","webpack://super-ppt/webpack/bootstrap","webpack://super-ppt/webpack/runtime/chunk loaded","webpack://super-ppt/webpack/runtime/compat get default export","webpack://super-ppt/webpack/runtime/define property getters","webpack://super-ppt/webpack/runtime/global","webpack://super-ppt/webpack/runtime/hasOwnProperty shorthand","webpack://super-ppt/webpack/runtime/make namespace object","webpack://super-ppt/webpack/runtime/node module decorator","webpack://super-ppt/webpack/runtime/jsonp chunk loading","webpack://super-ppt/webpack/startup"],"sourcesContent":["export const enum ToolbarStates {\n  SYMBOL = 'symbol',\n  EL_ANIMATION = 'elAnimation',\n  EL_STYLE = 'elStyle',\n  EL_POSITION = 'elPosition',\n  SLIDE_DESIGN = 'slideDesign',\n  SLIDE_ANIMATION = 'slideAnimation',\n  MULTI_POSITION = 'multiPosition',\n}","export const SYS_FONTS = [\n  { label: 'Arial', value: 'Arial' },\n  { label: 'Microsoft Yahei', value: 'Microsoft Yahei' },\n  { label: '宋体', value: 'SimSun' },\n  { label: '黑体', value: 'SimHei' },\n  { label: 'Italian', value: 'KaiTi' },\n  { label: 'New Song', value: 'NSimSun' },\n  { label: 'Fang Song', value: 'FangSong' },\n  { label: 'PingFang', value: 'PingFang SC' },\n  { label: 'Chinese Heiti', value: 'STHeiti' },\n  { label: 'Chinese Kaiti', value: 'STKaiti' },\n  { label: 'Chinese Song Type', value: 'STSong' },\n  { label: 'Chinese imitation Song', value: 'STFangSong' },\n  { label: 'Chinese Song', value: 'STZhongSong' },\n  { label: 'Chinese Amber', value: 'STHupo' },\n  { label: 'Chinese Xinwei', value: 'STXinwei' },\n  { label: 'Chinese official script', value: 'STLiti' },\n  { label: 'Chinese Xingkai', value: 'STXingkai' },\n  { label: 'Holly Blackbody', value: 'Hiragino Sans GB' },\n  { label: 'Lantinghei', value: 'Lantinghei SC' },\n  { label: 'Partial body', value: 'Hanzipen SC' },\n  { label: 'Hannotate SC', value: 'Hannotate SC' },\n  { label: '宋体', value: 'Songti SC' },\n  { label: 'Doll Body', value: 'Wawati SC' },\n  { label: 'Xingkai', value: 'Xingkai SC' },\n  { label: 'round body', value: 'Yuanti SC' },\n  { label: 'Chinese fine black', value: 'STXihei' },\n  { label: 'YouYuan', value: 'YouYuan' },\n  { label: 'Lishu', value: 'LiSu' },\n]\n\nexport const WEB_FONTS = [\n  { label: 'Proud Black', value: 'Proud Black' },\n  { label: 'Excellent Design Title Black', value: 'Excellent Design Title Black' },\n  { label: 'Feng Guang Ming Rui Body', value: 'Feng Guang Ming Rui Body' },\n  { label: 'Photographic Modern Cube', value: 'Photographic Modern Cube' },\n  { label: 'Zhanku happy body', value: 'Zhanku happy body' },\n  { label: 'Zizhi District Ximai', value: 'Zizi District Ximai' },\n  { label: 'Material market health and fitness', value: 'Material market health and fitness' },\n  { label: 'Material Market Cool Cube', value: 'Material Market Cool Cube' },\n  { label: 'Tuniu-like round body', value: 'Tuniu-like round body' },\n  { label: 'Sharp Mantra', value: 'Sharp Mantra' },\n]","import { Node, NodeType, ResolvedPos, Mark, MarkType } from 'prosemirror-model'\nimport { EditorState, Selection } from 'prosemirror-state'\nimport { EditorView } from 'prosemirror-view'\nimport { selectAll } from 'prosemirror-commands'\n\nexport const autoSelectAll = (view: EditorView) => {\n  const { empty } = view.state.selection\n  if (empty) selectAll(view.state, view.dispatch)\n}\n\nexport const addMark = (editorView: EditorView, mark: Mark, selection?: { from: number; to: number; }) => {\n  if (selection) {\n    editorView.dispatch(editorView.state.tr.addMark(selection.from, selection.to, mark))\n  }\n  else {\n    const { $from, $to } = editorView.state.selection\n    editorView.dispatch(editorView.state.tr.addMark($from.pos, $to.pos, mark))\n  }\n}\n\nexport const findNodesWithSameMark = (doc: Node, from: number, to: number, markType: MarkType) => {\n  let ii = from\n  const finder = (mark: Mark) => mark.type === markType\n  let firstMark = null\n  let fromNode = null\n  let toNode = null\n\n  while (ii <= to) {\n    const node = doc.nodeAt(ii)\n    if (!node || !node.marks) return null\n\n    const mark = node.marks.find(finder)\n    if (!mark) return null\n\n    if (firstMark && mark !== firstMark) return null\n\n    fromNode = fromNode || node\n    firstMark = firstMark || mark\n    toNode = node\n    ii++\n  }\n\n  let fromPos = from\n  let toPos = to\n\n  let jj = 0\n  ii = from - 1\n  while (ii > jj) {\n    const node = doc.nodeAt(ii)\n    const mark = node && node.marks.find(finder)\n    if (!mark || mark !== firstMark) break\n    fromPos = ii\n    fromNode = node\n    ii--\n  }\n\n  ii = to + 1\n  jj = doc.nodeSize - 2\n  while (ii < jj) {\n    const node = doc.nodeAt(ii)\n    const mark = node && node.marks.find(finder)\n    if (!mark || mark !== firstMark) break\n    toPos = ii\n    toNode = node\n    ii++\n  }\n\n  return {\n    mark: firstMark,\n    from: {\n      node: fromNode,\n      pos: fromPos,\n    },\n    to: {\n      node: toNode,\n      pos: toPos,\n    },\n  }\n}\n\nconst equalNodeType = (nodeType: NodeType, node: Node) => {\n  return Array.isArray(nodeType) && nodeType.indexOf(node.type) > -1 || node.type === nodeType\n}\n\nconst findParentNodeClosestToPos = ($pos: ResolvedPos, predicate: (node: Node) => boolean) => {\n  for (let i = $pos.depth; i > 0; i--) {\n    const node = $pos.node(i)\n    if (predicate(node)) {\n      return {\n        pos: i > 0 ? $pos.before(i) : 0,\n        start: $pos.start(i),\n        depth: i,\n        node,\n      }\n    }\n  }\n}\n\nexport const findParentNode = (predicate: (node: Node) => boolean) => {\n  return (_ref: Selection) => findParentNodeClosestToPos(_ref.$from, predicate)\n}\n\nexport const findParentNodeOfType = (nodeType: NodeType) => {\n  return (selection: Selection) => {\n    return findParentNode((node: Node) => {\n      return equalNodeType(nodeType, node)\n    })(selection)\n  }\n}\n\nexport const isActiveOfParentNodeType = (nodeType: string, state: EditorState) => {\n  const node = state.schema.nodes[nodeType]\n  return !!findParentNodeOfType(node)(state.selection)\n}\n\nexport const getMarkAttrs = (view: EditorView) => {\n  const { selection, doc } = view.state\n  const { from } = selection\n\n  let node = doc.nodeAt(from) || doc.nodeAt(from - 1)\n  if (node?.lastChild) node = node.lastChild\n\n  return node?.marks || []\n}\n\nexport const getAttrValue = (marks: readonly Mark[], markType: string, attr: string): string | null => {\n  for (const mark of marks) {\n    if (mark.type.name === markType && mark.attrs[attr]) return mark.attrs[attr]\n  }\n  return null\n}\n\nexport const isActiveMark = (marks: readonly Mark[], markType: string) => {\n  for (const mark of marks) {\n    if (mark.type.name === markType) return true\n  }\n  return false\n}\n\nexport const markActive = (state: EditorState, type: MarkType) => {\n  const { from, $from, to, empty } = state.selection\n  if (empty) return type.isInSet(state.storedMarks || $from.marks())\n  return state.doc.rangeHasMark(from, to, type)\n}\n\nexport const getAttrValueInSelection = (view: EditorView, attr: string) => {\n  const { selection, doc } = view.state\n  const { from, to } = selection\n\n  let keepChecking = true\n  let value = ''\n  doc.nodesBetween(from, to, node => {\n    if (keepChecking && node.attrs[attr]) {\n      keepChecking = false\n      value = node.attrs[attr]\n    }\n    return keepChecking\n  })\n  return value\n}\n\ntype Align = 'left' | 'right' | 'center'\n\ninterface DefaultAttrs {\n  color: string\n  backcolor: string\n  fontsize: string\n  fontname: string\n  align: Align\n}\nconst _defaultAttrs: DefaultAttrs = {\n  color: '#000',\n  backcolor: '',\n  fontsize: '20px',\n  fontname: 'Microsoft Yahei',\n  align: 'left',\n}\nexport const getTextAttrs = (view: EditorView, attrs: Partial<DefaultAttrs> = {}) => {\n  const defaultAttrs: DefaultAttrs = { ..._defaultAttrs, ...attrs }\n\n  const marks = getMarkAttrs(view)\n\n  const isBold = isActiveMark(marks, 'strong')\n  const isEm = isActiveMark(marks, 'em')\n  const isUnderline = isActiveMark(marks, 'underline')\n  const isStrikethrough = isActiveMark(marks, 'strikethrough')\n  const isSuperscript = isActiveMark(marks, 'superscript')\n  const isSubscript = isActiveMark(marks, 'subscript')\n  const isCode = isActiveMark(marks, 'code')\n  const color = getAttrValue(marks, 'forecolor', 'color') || defaultAttrs.color\n  const backcolor = getAttrValue(marks, 'backcolor', 'backcolor') || defaultAttrs.backcolor\n  const fontsize = getAttrValue(marks, 'fontsize', 'fontsize') || defaultAttrs.fontsize\n  const fontname = getAttrValue(marks, 'fontname', 'fontname') || defaultAttrs.fontname\n  const link = getAttrValue(marks, 'link', 'href') || ''\n  const align = (getAttrValueInSelection(view, 'align') || defaultAttrs.align) as Align\n  const isBulletList = isActiveOfParentNodeType('bullet_list', view.state)\n  const isOrderedList = isActiveOfParentNodeType('ordered_list', view.state)\n  const isBlockquote = isActiveOfParentNodeType('blockquote', view.state)\n\n  return {\n    bold: isBold,\n    em: isEm,\n    underline: isUnderline,\n    strikethrough: isStrikethrough,\n    superscript: isSuperscript,\n    subscript: isSubscript,\n    code: isCode,\n    color: color,\n    backcolor: backcolor,\n    fontsize: fontsize,\n    fontname: fontname,\n    link: link,\n    align: align,\n    bulletList: isBulletList,\n    orderedList: isOrderedList,\n    blockquote: isBlockquote,\n  }\n}\n\nexport type TextAttrs = ReturnType<typeof getTextAttrs>\n\nexport const getFontsize = (view: EditorView) => {\n  const marks = getMarkAttrs(view)\n  const fontsize = getAttrValue(marks, 'fontsize', 'fontsize') || _defaultAttrs.fontsize\n  return parseInt(fontsize)\n}\n\nexport const defaultRichTextAttrs: TextAttrs = {\n  bold: false,\n  em: false,\n  underline: false,\n  strikethrough: false,\n  superscript: false,\n  subscript: false,\n  code: false,\n  color: '#000',\n  backcolor: '',\n  fontsize: '20px',\n  fontname: 'Microsoft Yahei',\n  link: '',\n  align: 'left',\n  bulletList: false,\n  orderedList: false,\n  blockquote: false,\n}","/**\n * 判断操作系统是否存在某字体\n * @param fontName 字体名\n */\nexport const isSupportFont = (fontName: string) => {\n  if (typeof fontName !== 'string') return false\n\n  const arial = 'Arial'\n  if (fontName.toLowerCase() === arial.toLowerCase()) return true\n\n  const size = 100\n  const width = 100\n  const height = 100\n  const str = 'a'\n\n  const canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d')\n\n  if (!ctx) return false\n\n  canvas.width = width\n  canvas.height = height\n  ctx.textAlign = 'center'\n  ctx.fillStyle = 'black'\n  ctx.textBaseline = 'middle'\n\n  const getDotArray = (_fontFamily: string) => {\n    ctx.clearRect(0, 0, width, height)\n    ctx.font = `${size}px ${_fontFamily}, ${arial}`\n    ctx.fillText(str, width / 2, height / 2)\n    const imageData = ctx.getImageData(0, 0, width, height).data\n    return [].slice.call(imageData).filter(item => item !== 0)\n  }\n\n  return getDotArray(arial).join('') !== getDotArray(fontName).join('')\n}","import { Slide } from '@/types/slides'\n\nexport const slides: Slide[] = [\n  {\n    id: 'test-slide-1',\n    elements: [\n      {\n        type: 'shape',\n        id: '4cbRxp',\n        left: 0,\n        top: 200,\n        width: 546,\n        height: 362.5,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 0 200 L 200 200 Z',\n        fill: '#5b9bd5',\n        fixedRatio: false,\n        opacity: 0.7,\n        rotate: 0\n      },\n      {\n        type: 'shape',\n        id: 'ookHrf',\n        left: 0,\n        top: 0,\n        width: 300,\n        height: 320,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 0 200 L 200 200 Z',\n        fill: '#5b9bd5',\n        fixedRatio: false,\n        flipV: true,\n        rotate: 0\n      },\n      {\n        type: 'text',\n        id: 'idn7Mx',\n        left: 355,\n        top: 65.25,\n        width: 585,\n        height: 188,\n        lineHeight: 1.2,\n        content: '<p><strong><span style=\\'font-size: 112px\\'>super-ppt</span></strong></p>',\n        rotate: 0,\n        defaultFontName: 'Microsoft Yahei',\n        defaultColor: '#333'\n      },\n      {\n        type: 'text',\n        id: '7stmVP',\n        left: 355,\n        top: 253.25,\n        width: 585,\n        height: 56,\n        content: '<p><span style=\\'font-size: 24px\\'>Online presentation application based on Vue 3.x + TypeScript</span></p>',\n        rotate: 0,\n        defaultFontName: 'Microsoft Yahei',\n        defaultColor: '#333'\n      },\n      {\n        type: 'line',\n        id: 'FnpZs4',\n        left: 361,\n        top: 238,\n        start: [0, 0],\n        end: [549, 0],\n        points: ['', ''],\n        color: '#5b9bd5',\n        style: 'solid',\n        width: 2,\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '#ffffff',\n    },\n  },\n  {\n    id: 'test-slide-2',\n    elements: [\n      {\n        type: 'text',\n        id: 'ptNnUJ',\n        left: 145,\n        top: 148,\n        width: 711,\n        height: 77,\n        lineHeight: 1.2,\n        content: '<p style=\\'text-align: center;\\'><strong><span style=\\'font-size: 48px\\'>Add title here</span></strong></ p>',\n        rotate: 0,\n        defaultFontName: 'Microsoft Yahei',\n        defaultColor: '#333',\n      },\n      {\n        type: 'text',\n        id: 'mRHvQN',\n        left: 207.50000000000003,\n        top: 249.84259259259264,\n        width: 585,\n        height: 56,\n        content: '<p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Add subtitle here</span></p>',\n        rotate: 0,\n        defaultFontName: 'Microsoft Yahei',\n        defaultColor: '#333',\n      },\n      {\n        type: 'line',\n        id: '7CQDwc',\n        left: 323.09259259259267,\n        top: 238.33333333333334,\n        start: [0, 0],\n        end: [354.8148148148148, 0],\n        points: ['', ''],\n        color: '#5b9bd5',\n        style: 'solid',\n        width: 4\n      },\n      {\n        type: 'shape',\n        id: '09wqWw',\n        left: -27.648148148148138,\n        top: 432.73148148148147,\n        width: 1056.2962962962963,\n        height: 162.96296296296296,\n        viewBox: [200, 200],\n        path: 'M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z',\n        fill: '#5b9bd5',\n        fixedRatio: false,\n        rotate: 0\n      }\n    ],\n    background: {\n      type: 'solid',\n      color: '#fff',\n    },\n  },\n  {\n    id: 'test-slide-3',\n    elements: [\n      {\n        type: 'shape',\n        id: 'vSheCJ',\n        left: 183.5185185185185,\n        top: 175.5092592592593,\n        width: 605.1851851851851,\n        height: 185.18518518518516,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n        fill: '#5b9bd5',\n        fixedRatio: false,\n        rotate: 0\n      },\n      {\n        type: 'shape',\n        id: 'Mpwv7x',\n        left: 211.29629629629628,\n        top: 201.80555555555557,\n        width: 605.1851851851851,\n        height: 185.18518518518516,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n        fill: '#5b9bd5',\n        fixedRatio: false,\n        rotate: 0,\n        opacity: 0.7\n      },\n      {\n        type: 'text',\n        id: 'WQOTAp',\n        left: 304.9074074074074,\n        top: 198.10185185185182,\n        width: 417.9629629629629,\n        height: 140,\n        content: '<p style=\\'text-align: center;\\'><strong><span style=\\'color: #ffffff;\\'><span style=\\'font-size: 80px\\'>Thank you Watch</span></span></strong></p>',\n        rotate: 0,\n        defaultFontName: 'Microsoft Yahei',\n        defaultColor: '#333',\n        wordSpace: 5\n      }\n    ],\n    background: {\n      type: 'solid',\n      color: '#fff',\n    },\n  },\n]","import { SlideTheme } from '@/types/slides'\n\nexport const theme: SlideTheme = {\n  themeColor: '#5b9bd5',\n  fontColor: '#333',\n  fontName: 'Microsoft Yahei',\n  backgroundColor: '#fff',\n}","/* eslint-disable max-lines */\n\nimport { Slide } from '@/types/slides'\n\nexport const layouts: Slide[] = [\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'shape',\n        id: '4cbRxp',\n        left: 0,\n        top: 200,\n        width: 546,\n        height: 362.5,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 0 200 L 200 200 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        opacity: 0.7,\n        rotate: 0\n      },\n      {\n        type: 'shape',\n        id: 'ookHrf',\n        left: 0,\n        top: 0,\n        width: 300,\n        height: 320,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 0 200 L 200 200 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        flipV: true,\n        rotate: 0\n      },\n      {\n        type: 'text',\n        id: 'AkIh3E',\n        left: 355,\n        top: 95.11111111111111,\n        width: 585,\n        height: 116,\n        lineHeight: 1.2,\n        content: '<p style=\\'\\'><strong><span style=\\'font-size: 80px\\'>Enter title</span></strong></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        wordSpace: 6\n      },\n      {\n        type: 'text',\n        id: '7stmVP',\n        left: 355,\n        top: 253.25,\n        width: 585,\n        height: 56,\n        content: '<p><span style=\\'font-size: 24px\\'>Please enter the subtitle here</span></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'line',\n        id: 'FnpZs4',\n        left: 361,\n        top: 238,\n        start: [0, 0],\n        end: [549, 0],\n        points: ['', ''],\n        color: '{{themeColor}}',\n        style: 'solid',\n        width: 2,\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'text',\n        id: 'ptNnUJ',\n        left: 145,\n        top: 148,\n        width: 711,\n        height: 77,\n        lineHeight: 1.2,\n        content: '<p style=\\'text-align: center;\\'><strong><span style=\\'font-size: 48px\\'>Add title here</span></strong></ p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'text',\n        id: 'mRHvQN',\n        left: 207.50000000000003,\n        top: 249.84259259259264,\n        width: 585,\n        height: 56,\n        content: '<p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Add subtitle here</span></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'line',\n        id: '7CQDwc',\n        left: 323.09259259259267,\n        top: 238.33333333333334,\n        start: [0, 0],\n        end: [354.8148148148148, 0],\n        points: ['', ''],\n        color: '{{themeColor}}',\n        style: 'solid',\n        width: 4\n      },\n      {\n        type: 'shape',\n        id: '09wqWw',\n        left: -27.648148148148138,\n        top: 432.73148148148147,\n        width: 1056.2962962962963,\n        height: 162.96296296296296,\n        viewBox: [200, 200],\n        path: 'M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0\n      }\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'shape',\n        id: 'vSheCJ',\n        left: 183.5185185185185,\n        top: 175.5092592592593,\n        width: 605.1851851851851,\n        height: 185.18518518518516,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0\n      },\n      {\n        type: 'shape',\n        id: 'Mpwv7x',\n        left: 211.29629629629628,\n        top: 201.80555555555557,\n        width: 605.1851851851851,\n        height: 185.18518518518516,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        opacity: 0.7\n      },\n      {\n        type: 'text',\n        id: 'WQOTAp',\n        left: 304.9074074074074,\n        top: 198.10185185185182,\n        width: 417.9629629629629,\n        height: 140,\n        content: '<p style=\\'text-align: center;\\'><strong><span style=\\'color: #ffffff;\\'><span style=\\'font-size: 80px\\'>Thank you.</span></span></strong></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        wordSpace: 5\n      }\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'MZVO1kkj',\n    elements: [\n      {\n        type: 'shape',\n        id: 'cql0h8',\n        left: 0,\n        top: 0,\n        width: 352.59259259259255,\n        height: 562.5,\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0\n      },\n      {\n        type: 'shape',\n        id: '_RTaF4',\n        left: 171.4814814814814,\n        top: 100.13888888888887,\n        width: 362.22222222222223,\n        height: 362.22222222222223,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: 'rgba(255,255,255,0)',\n        fixedRatio: false,\n        rotate: 0,\n        outline: {\n          width: 10,\n          color: '{{backgroundColor}}',\n          style: 'solid'\n        }\n      },\n      {\n        type: 'shape',\n        id: 'UZfo8N',\n        left: 216.66666666666663,\n        top: 145.32407407407408,\n        width: 271.85185185185185,\n        height: 271.85185185185185,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{backgroundColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'font-size: 80px\\'>01</span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'text',\n        id: 'ysqtBg',\n        left: 561.4814814814814,\n        top: 100.1388888888889,\n        width: 359.25925925925924,\n        height: 80,\n        content: '<p style=\\'\\'><strong><span style=\\'font-size: 40px\\'>Enter title here</span></strong></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'text',\n        id: 'lXsoHa',\n        left: 572.5925925925925,\n        top: 202.3611111111111,\n        width: 257.77777777777777,\n        height: 260,\n        content: '<ol><li><p style=\\'\\'>Enter content here</p></li><li><p style=\\'\\'>Enter content here</p></li><li><p style=\\'\\'>Enter content here</ p></li><li><p style=\\'\\'>Enter content here</p></li><li><p style=\\'\\'>Enter content here</p></li><li><p style=\\'\\'>Enter content here</p></li><li><p style=\\'\\'>Enter content here</p></li><li><p style=\\'\\'>Enter content here</ p></li><li><p style=\\'\\'>Enter content here</p></li><li><p style=\\'\\'>Enter content here</p></li><li><p style=\\'\\'>Enter content here</p></li><li><p style=\\'\\'>Enter content here</p></li><li><p style=\\'\\'>Enter content here</ p></li></ol>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        lineHeight: 2,\n        fill: '{{subColor}}'\n      }\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'shape',\n        id: 'EBBnTr',\n        left: 360.5996472663139,\n        top: 141.8496472663139,\n        width: 278.80070546737215,\n        height: 278.80070546737215,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: true,\n        rotate: 0,\n        outline: {\n          width: 0,\n          color: '{{backgroundColor}}',\n          style: 'solid'\n        }\n      },\n      {\n        type: 'shape',\n        id: 'gDIWDH',\n        left: 456.4373897707231,\n        top: 98.287037037037,\n        width: 87.12522045855381,\n        height: 87.12522045855381,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: true,\n        rotate: 0,\n        outline: {\n          width: 4,\n          color: '{{backgroundColor}}',\n          style: 'solid'\n        },\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'color: #ffffff;\\'>1</span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'shape',\n        id: 'DUWT7E',\n        left: 317.037037037037,\n        top: 237.68738977072314,\n        width: 87.12522045855381,\n        height: 87.12522045855381,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: true,\n        rotate: 0,\n        outline: {\n          width: 4,\n          color: '{{backgroundColor}}',\n          style: 'solid'\n        },\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'color: #ffffff;\\'>4</span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'shape',\n        id: 'pbhn38',\n        left: 456.43738977072303,\n        top: 377.08774250440916,\n        width: 87.12522045855381,\n        height: 87.12522045855381,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: true,\n        rotate: 0,\n        outline: {\n          width: 4,\n          color: '{{backgroundColor}}',\n          style: 'solid'\n        },\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'color: #ffffff;\\'>3</span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'shape',\n        id: 'CvMKrO',\n        left: 595.8377425044091,\n        top: 237.6873897707231,\n        width: 87.12522045855381,\n        height: 87.12522045855381,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: true,\n        rotate: 0,\n        outline: {\n          width: 4,\n          color: '{{backgroundColor}}',\n          style: 'solid'\n        },\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'color: #ffffff;\\'>2</span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'text',\n        id: 'adudHB',\n        left: 402.962962962963,\n        top: 39.39814814814815,\n        width: 194.07407407407408,\n        height: 50,\n        content: '<p style=\\'text-align: center;\\'>Enter content here</p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'text',\n        id: '9UpDwg',\n        left: 402.962962962963,\n        top: 473.1018518518518,\n        width: 194.07407407407408,\n        height: 50,\n        content: '<p style=\\'text-align: center;\\'>Enter content here</p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'text',\n        id: 'GERdpB',\n        left: 111.48148148148151,\n        top: 256.25,\n        width: 194.07407407407408,\n        height: 50,\n        content: '<p style=\\'text-align: center;\\'>Enter content here</p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'text',\n        id: 'G5qoho',\n        left: 691.111111111111,\n        top: 256.25,\n        width: 194.07407407407408,\n        height: 50,\n        content: '<p style=\\'text-align: center;\\'>Enter content here</p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      },\n      {\n        type: 'shape',\n        id: 'vdZcI6',\n        left: 415.18518518518516,\n        top: 196.4351851851852,\n        width: 169.62962962962962,\n        height: 169.62962962962962,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{backgroundColor}}',\n        fixedRatio: false,\n        rotate: 0\n      }\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'shape',\n        id: 'tYUmrx',\n        left: 156.66666666666683,\n        top: 149.02777777777771,\n        width: 264.4444444444445,\n        height: 264.4444444444445,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'color: #ffffff;\\'><span style=\\'font-size: 60px\\'>01</span ></span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'shape',\n        id: '0GVHf8',\n        left: 342.2222222222223,\n        top: 217.17592592592587,\n        width: 128.14814814814812,\n        height: 128.14814814814812,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{backgroundColor}}',\n        fixedRatio: false,\n        rotate: 0\n      },\n      {\n        type: 'text',\n        id: 'BO33Sv',\n        left: 378.8888888888889,\n        top: 235.24999999999994,\n        width: 464.4444444444444,\n        height: 92,\n        content: '<p style=\\'\\'><strong><span style=\\'font-size: 48px\\'>Add title here</span></strong></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n      }\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'text',\n        id: 'Hj7ttp',\n        left: 69.35185185185185,\n        top: 49.21759259259262,\n        width: 420,\n        height: 63,\n        lineHeight: 1.2,\n        content: '<p style=\\'text-align: center;\\'><strong><span style=\\'color: #ffffff;\\'><span style=\\'font-size: 36px\\'>1 .Please enter a title</span></span></strong></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'FmKMNB',\n        left: 69.35185185185185,\n        top: 129.28240740740745,\n        width: 420,\n        height: 384,\n        content: '<p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'rI7ZeO',\n        left: 510.64814814814815,\n        top: 49.21759259259262,\n        width: 420,\n        height: 63,\n        lineHeight: 1.2,\n        content: '<p style=\\'text-align: center;\\'><strong><span style=\\'color: #ffffff;\\'><span style=\\'font-size: 36px\\'>2.Please enter a title</span></span></strong></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'KspwGc',\n        left: 510.64814814814815,\n        top: 129.28240740740745,\n        width: 420,\n        height: 384,\n        content: '<p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 24px\\'>Type here</span></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'text',\n        id: 'Rx63Jo',\n        left: 69.35185185185179,\n        top: 51.71759259259262,\n        width: 420,\n        height: 58,\n        lineHeight: 1.2,\n        content: '<p style=\\'text-align: center;\\'><strong><span style=\\'color: #ffffff;\\'><span style=\\'font-size: 32px\\'>1.Please enter a title</span></span></strong></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'ulyuzE',\n        left: 69.35185185185179,\n        top: 131.78240740740745,\n        width: 420,\n        height: 129,\n        content: '<p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'kr35Ca',\n        left: 510.6481481481481,\n        top: 51.71759259259262,\n        width: 420,\n        height: 58,\n        lineHeight: 1.2,\n        content: '<p style=\\'text-align: center;\\'><strong><span style=\\'color: #ffffff;\\'><span style=\\'font-size: 32px\\'>2.Please enter a title</span></span></strong></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'BNQSpC',\n        left: 510.6481481481481,\n        top: 131.78240740740745,\n        width: 420,\n        height: 129,\n        content: '<p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'Vr38Nu',\n        left: 69.35185185185185,\n        top: 301.71759259259255,\n        width: 420,\n        height: 58,\n        lineHeight: 1.2,\n        content: '<p style=\\'text-align: center;\\'><strong><span style=\\'color: #ffffff;\\'><span style=\\'font-size: 32px\\'>3.Please enter a title</span></span></strong></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'IwKRSu',\n        left: 69.35185185185185,\n        top: 381.7824074074074,\n        width: 420,\n        height: 129,\n        content: '<p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: '0Opr1v',\n        left: 510.64814814814815,\n        top: 301.71759259259255,\n        width: 420,\n        height: 58,\n        lineHeight: 1.2,\n        content: '<p style=\\'text-align: center;\\'><strong><span style=\\'color: #ffffff;\\'><span style=\\'font-size: 32px\\'>4.Please enter a title</span></span></strong></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: '4L9Uzz',\n        left: 510.64814814814815,\n        top: 381.7824074074074,\n        width: 420,\n        height: 129,\n        content: '<p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p><p style=\\'text-align: center;\\'><span style=\\'font-size: 22px\\'>Type here</span></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'text',\n        id: 'GdEGxg',\n        left: 134.53703703703704,\n        top: 127.25,\n        width: 152.77777777777777,\n        height: 308,\n        lineHeight: 1.8,\n        content: '<p style=\\'text-align: center;\\'><strong><span style=\\'color: #ffffff;\\'><span style=\\'font-size: 40px\\'>Please enter a title</span></span></strong></p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        wordSpace: 8,\n        fill: '{{themeColor}}',\n      },\n      {\n        type: 'text',\n        id: 'y5sAfw',\n        left: 332.8703703703704,\n        top: 127.25,\n        width: 532.5925925925926,\n        height: 50,\n        content: '<blockquote><p style=\\'\\'>Please Type here1</p></blockquote>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'VeuocM',\n        left: 332.8703703703704,\n        top: 212.0648148148148,\n        width: 532.5925925925926,\n        height: 50,\n        content: '<blockquote><p style=\\'\\'>Please Type here2</p></blockquote>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'RyFWQe',\n        left: 332.8703703703704,\n        top: 296.8796296296296,\n        width: 532.5925925925926,\n        height: 50,\n        content: '<blockquote><p style=\\'\\'>Please Type here3</p></blockquote>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n      {\n        type: 'text',\n        id: 'Q56viI',\n        left: 332.8703703703704,\n        top: 381.69444444444446,\n        width: 532.5925925925926,\n        height: 50,\n        content: '<blockquote><p style=\\'\\'>Please Type here4</p></blockquote>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}',\n      },\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n  {\n    id: 'template',\n    elements: [\n      {\n        type: 'shape',\n        id: 'SUWirT',\n        left: 73.8888888888889,\n        top: 64.21296296296302,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'color: #ffffff;\\'>1</span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'text',\n        id: 'YjzN1M',\n        left: 148.70370370370372,\n        top: 64.21296296296302,\n        width: 323.7037037037037,\n        height: 120,\n        content: '<p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}'\n      },\n      {\n        type: 'shape',\n        id: 'fS09I7',\n        left: 527.5925925925926,\n        top: 64.21296296296302,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'color: #ffffff;\\'>2</span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'text',\n        id: 'qCnfB1',\n        left: 602.4074074074074,\n        top: 64.21296296296302,\n        width: 323.7037037037037,\n        height: 120,\n        content: '<p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}'\n      },\n      {\n        type: 'shape',\n        id: 'difAAT',\n        left: 73.8888888888889,\n        top: 221.25000000000003,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'color: #ffffff;\\'>3</span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'text',\n        id: 'EUlvMo',\n        left: 148.70370370370372,\n        top: 221.25000000000003,\n        width: 323.7037037037037,\n        height: 120,\n        content: '<p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}'\n      },\n      {\n        type: 'shape',\n        id: 'US_9jB',\n        left: 527.5925925925926,\n        top: 221.25000000000003,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'color: #ffffff;\\'>4</span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'text',\n        id: '243MnQ',\n        left: 602.4074074074074,\n        top: 221.25000000000003,\n        width: 323.7037037037037,\n        height: 120,\n        content: '<p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}'\n      },\n      {\n        type: 'shape',\n        id: 'Y_KUj0',\n        left: 73.8888888888889,\n        top: 378.287037037037,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'color: #ffffff;\\'>5</span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'text',\n        id: '9GglMe',\n        left: 148.70370370370372,\n        top: 378.287037037037,\n        width: 323.7037037037037,\n        height: 120,\n        content: '<p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}'\n      },\n      {\n        type: 'shape',\n        id: 'eSInje',\n        left: 527.5925925925926,\n        top: 378.287037037037,\n        width: 49.629629629629626,\n        height: 49.629629629629626,\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        fill: '{{themeColor}}',\n        fixedRatio: false,\n        rotate: 0,\n        text: {\n          content: '<p style=\\'text-align: center;\\'><span style=\\'color: #ffffff;\\'>6</span></p>',\n          defaultFontName: '{{fontName}}',\n          defaultColor: '{{fontColor}}',\n          align: 'middle'\n        }\n      },\n      {\n        type: 'text',\n        id: '0S3yUg',\n        left: 602.4074074074074,\n        top: 378.287037037037,\n        width: 323.7037037037037,\n        height: 120,\n        content: '<p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p><p style=\\'\\'>Type here</p>',\n        rotate: 0,\n        defaultFontName: '{{fontName}}',\n        defaultColor: '{{fontColor}}',\n        fill: '{{subColor}}'\n      }\n    ],\n    background: {\n      type: 'solid',\n      color: '{{backgroundColor}}',\n    },\n  },\n]","import { defineStore } from 'pinia'\nimport tinycolor from 'tinycolor2'\nimport { omit } from 'lodash'\nimport { Slide, SlideTheme, PPTElement, PPTAnimation } from '@/types/slides'\nimport { slides } from '@/mocks/slides'\nimport { theme } from '@/mocks/theme'\nimport { layouts } from '@/mocks/layout'\n\ninterface RemoveElementPropData {\n  id: string\n  propName: string | string[]\n}\n\ninterface UpdateElementData {\n  id: string | string[]\n  props: Partial<PPTElement>\n}\n\ninterface FormatedAnimation {\n  animations: PPTAnimation[]\n  autoNext: boolean\n}\n\nexport interface SlidesState {\n  theme: SlideTheme\n  slides: Slide[]\n  slideIndex: number\n  viewportRatio: number\n}\n\nexport const useSlidesStore = defineStore('slides', {\n  state: (): SlidesState => ({\n    theme: theme, // 主题样式\n    slides: slides, // 幻灯片页面数据\n    slideIndex: 0, // 当前页面索引\n    viewportRatio: 0.5625, // 可视区域比例，默认16:9\n  }),\n\n  getters: {\n    currentSlide(state) {\n      return state.slides[state.slideIndex]\n    },\n  \n    currentSlideAnimations(state) {\n      const currentSlide = state.slides[state.slideIndex]\n      if (!currentSlide?.animations) return []\n\n      const els = currentSlide.elements\n      const elIds = els.map(el => el.id)\n      return currentSlide.animations.filter(animation => elIds.includes(animation.elId))\n    },\n\n    // 格式化的当前页动画\n    // 将触发条件为“与上一动画同时”的项目向上合并到序列中的同一位置\n    // 为触发条件为“上一动画之后”项目的上一项添加自动向下执行标记\n    formatedAnimations(state) {\n      const currentSlide = state.slides[state.slideIndex]\n      if (!currentSlide?.animations) return []\n\n      const els = currentSlide.elements\n      const elIds = els.map(el => el.id)\n      const animations = currentSlide.animations.filter(animation => elIds.includes(animation.elId))\n\n      const formatedAnimations: FormatedAnimation[] = []\n      for (const animation of animations) {\n        if (animation.trigger === 'click' || !formatedAnimations.length) {\n          formatedAnimations.push({ animations: [animation], autoNext: false })\n        }\n        else if (animation.trigger === 'meantime') {\n          const last = formatedAnimations[formatedAnimations.length - 1]\n          last.animations = last.animations.filter(item => item.elId !== animation.elId)\n          last.animations.push(animation)\n          formatedAnimations[formatedAnimations.length - 1] = last\n        }\n        else if (animation.trigger === 'auto') {\n          const last = formatedAnimations[formatedAnimations.length - 1]\n          last.autoNext = true\n          formatedAnimations[formatedAnimations.length - 1] = last\n          formatedAnimations.push({ animations: [animation], autoNext: false })\n        }\n      }\n      return formatedAnimations\n    },\n  \n    layouts(state) {\n      const {\n        themeColor,\n        fontColor,\n        fontName,\n        backgroundColor,\n      } = state.theme\n  \n      const subColor = tinycolor(fontColor).isDark() ? 'rgba(230, 230, 230, 0.5)' : 'rgba(180, 180, 180, 0.5)'\n  \n      const layoutsString = JSON.stringify(layouts)\n        .replaceAll('{{themeColor}}', themeColor)\n        .replaceAll('{{fontColor}}', fontColor)\n        .replaceAll('{{fontName}}', fontName)\n        .replaceAll('{{backgroundColor}}', backgroundColor)\n        .replaceAll('{{subColor}}', subColor)\n      \n      return JSON.parse(layoutsString)\n    },\n  },\n\n  actions: {\n    setTheme(themeProps: Partial<SlideTheme>) {\n      this.theme = { ...this.theme, ...themeProps }\n    },\n  \n    setViewportRatio(viewportRatio: number) {\n      this.viewportRatio = viewportRatio\n    },\n  \n    setSlides(slides: Slide[]) {\n      this.slides = slides\n    },\n  \n    addSlide(slide: Slide | Slide[]) {\n      const slides = Array.isArray(slide) ? slide : [slide]\n      const addIndex = this.slideIndex + 1\n      this.slides.splice(addIndex, 0, ...slides)\n      this.slideIndex = addIndex\n    },\n  \n    updateSlide(props: Partial<Slide>) {\n      const slideIndex = this.slideIndex\n      this.slides[slideIndex] = { ...this.slides[slideIndex], ...props }\n    },\n  \n    deleteSlide(slideId: string | string[]) {\n      const slidesId = Array.isArray(slideId) ? slideId : [slideId]\n  \n      const deleteSlidesIndex = []\n      for (let i = 0; i < slidesId.length; i++) {\n        const index = this.slides.findIndex(item => item.id === slidesId[i])\n        deleteSlidesIndex.push(index)\n      }\n      let newIndex = Math.min(...deleteSlidesIndex)\n  \n      const maxIndex = this.slides.length - slidesId.length - 1\n      if (newIndex > maxIndex) newIndex = maxIndex\n  \n      this.slideIndex = newIndex\n      this.slides = this.slides.filter(item => !slidesId.includes(item.id))\n    },\n  \n    updateSlideIndex(index: number) {\n      this.slideIndex = index\n    },\n  \n    addElement(element: PPTElement | PPTElement[]) {\n      const elements = Array.isArray(element) ? element : [element]\n      const currentSlideEls = this.slides[this.slideIndex].elements\n      const newEls = [...currentSlideEls, ...elements]\n      this.slides[this.slideIndex].elements = newEls\n    },\n\n    deleteElement(elementId: string | string[]) {\n      const elementIdList = Array.isArray(elementId) ? elementId : [elementId]\n      const currentSlideEls = this.slides[this.slideIndex].elements\n      const newEls = currentSlideEls.filter(item => !elementIdList.includes(item.id))\n      this.slides[this.slideIndex].elements = newEls\n    },\n  \n    updateElement(data: UpdateElementData) {\n      const { id, props } = data\n      const elIdList = typeof id === 'string' ? [id] : id\n  \n      const slideIndex = this.slideIndex\n      const slide = this.slides[slideIndex]\n      const elements = slide.elements.map(el => {\n        return elIdList.includes(el.id) ? { ...el, ...props } : el\n      })\n      this.slides[slideIndex].elements = (elements as PPTElement[])\n    },\n  \n    removeElementProps(data: RemoveElementPropData) {\n      const { id, propName } = data\n      const propsNames = typeof propName === 'string' ? [propName] : propName\n  \n      const slideIndex = this.slideIndex\n      const slide = this.slides[slideIndex]\n      const elements = slide.elements.map(el => {\n        return el.id === id ? omit(el, propsNames) : el\n      })\n      this.slides[slideIndex].elements = (elements as PPTElement[])\n    },\n  },\n})","import { customAlphabet } from 'nanoid'\nimport { defineStore } from 'pinia'\nimport { CreatingElement, TextFormatPainter } from '@/types/edit'\nimport { ToolbarStates } from '@/types/toolbar'\nimport { DialogForExportTypes } from '@/types/export'\nimport { SYS_FONTS } from '@/configs/font'\nimport { TextAttrs, defaultRichTextAttrs } from '@/utils/prosemirror/utils'\nimport { isSupportFont } from '@/utils/font'\n\nimport { useSlidesStore } from './slides'\n\nexport interface MainState {\n  activeElementIdList: string[]\n  handleElementId: string\n  activeGroupElementId: string\n  hiddenElementIdList: string[]\n  canvasPercentage: number\n  canvasScale: number\n  canvasDragged: boolean\n  thumbnailsFocus: boolean\n  editorAreaFocus: boolean\n  disableHotkeys: boolean\n  gridLineSize: number\n  showRuler: boolean\n  creatingElement: CreatingElement | null\n  availableFonts: typeof SYS_FONTS\n  toolbarState: ToolbarStates\n  clipingImageElementId: string\n  isScaling: boolean\n  richTextAttrs: TextAttrs\n  selectedTableCells: string[]\n  selectedSlidesIndex: number[]\n  dialogForExport: DialogForExportTypes\n  databaseId: string\n  textFormatPainter: TextFormatPainter | null\n  showSelectPanel: boolean\n}\n\nconst nanoid = customAlphabet('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz')\nexport const databaseId = nanoid(10)\n\nexport const useMainStore = defineStore('main', {\n  state: (): MainState => ({\n    activeElementIdList: [], // Selected element ID collection, including handleElementId\n    handleElementId: '', // ID of the element being operated\n    activeGroupElementId: '', // Among the group element members, the ID of the selected element that can be operated independently\n    hiddenElementIdList: [], // collection of hidden element IDs\n    canvasPercentage: 90, // Canvas visible area percentage\n    canvasScale: 1, // Canvas scaling (based on width 1000px)\n    canvasDragged: false, // the canvas is dragged and moved\n    thumbnailsFocus: false, // The left navigation thumbnail area is focused\n    editorAreaFocus: false, // editor area focus\n    disableHotkeys: false, // disable hotkeys\n    gridLineSize: 0, // Grid line size (0 means no grid lines are displayed)\n    showRuler: false, // show ruler\n    creatingElement: null, // The element information being inserted, which needs to be inserted by drawing the element (text, shape, line)\n    availableFonts: SYS_FONTS, // Fonts available in the current environment\n    toolbarState: ToolbarStates.SLIDE_DESIGN, // Right toolbar state\n    clipingImageElementId: '', // ID of the image currently being clipped\n    richTextAttrs: defaultRichTextAttrs, // rich text status\n    selectedTableCells: [], // selected table cells\n    isScaling: false, // Element scaling is in progress\n    selectedSlidesIndex: [], // currently selected page index collection\n    dialogForExport: '', // export panel\n    databaseId, // Identify the indexedDB database ID of the current application\n    textFormatPainter: null, // text format painter\n    showSelectPanel: false, // open select panel\n  }),\n\n  getters: {\n    activeElementList(state) {\n      const slidesStore = useSlidesStore()\n      const currentSlide = slidesStore.currentSlide\n      if (!currentSlide || !currentSlide.elements) return []\n      return currentSlide.elements.filter(element => state.activeElementIdList.includes(element.id))\n    },\n\n    handleElement(state) {\n      const slidesStore = useSlidesStore()\n      const currentSlide = slidesStore.currentSlide\n      if (!currentSlide || !currentSlide.elements) return null\n      return currentSlide.elements.find(element => state.handleElementId === element.id) || null\n    },\n  },\n\n  actions: {\n    setActiveElementIdList(activeElementIdList: string[]) {\n      if (activeElementIdList.length === 1) this.handleElementId = activeElementIdList[0]\n      else this.handleElementId = ''\n\n      this.activeElementIdList = activeElementIdList\n    },\n\n    setHandleElementId(handleElementId: string) {\n      this.handleElementId = handleElementId\n    },\n\n    setActiveGroupElementId(activeGroupElementId: string) {\n      this.activeGroupElementId = activeGroupElementId\n    },\n\n    setHiddenElementIdList(hiddenElementIdList: string[]) {\n      this.hiddenElementIdList = hiddenElementIdList\n    },\n\n    setCanvasPercentage(percentage: number) {\n      this.canvasPercentage = percentage\n    },\n\n    setCanvasScale(scale: number) {\n      this.canvasScale = scale\n    },\n\n    setCanvasDragged(isDragged: boolean) {\n      this.canvasDragged = isDragged\n    },\n\n    setThumbnailsFocus(isFocus: boolean) {\n      this.thumbnailsFocus = isFocus\n    },\n\n    setEditorareaFocus(isFocus: boolean) {\n      this.editorAreaFocus = isFocus\n    },\n\n    setDisableHotkeysState(disable: boolean) {\n      this.disableHotkeys = disable\n    },\n\n    setGridLineSize(size: number) {\n      this.gridLineSize = size\n    },\n\n    setRulerState(show: boolean) {\n      this.showRuler = show\n    },\n\n    setCreatingElement(element: CreatingElement | null) {\n      this.creatingElement = element\n    },\n\n    setAvailableFonts() {\n      this.availableFonts = SYS_FONTS.filter(font => isSupportFont(font.value))\n    },\n\n    setToolbarState(toolbarState: ToolbarStates) {\n      this.toolbarState = toolbarState\n    },\n\n    setClipingImageElementId(elId: string) {\n      this.clipingImageElementId = elId\n    },\n\n    setRichtextAttrs(attrs: TextAttrs) {\n      this.richTextAttrs = attrs\n    },\n\n    setSelectedTableCells(cells: string[]) {\n      this.selectedTableCells = cells\n    },\n\n    setScalingState(isScaling: boolean) {\n      this.isScaling = isScaling\n    },\n\n    updateSelectedSlidesIndex(selectedSlidesIndex: number[]) {\n      this.selectedSlidesIndex = selectedSlidesIndex\n    },\n\n    setDialogForExport(type: DialogForExportTypes) {\n      this.dialogForExport = type\n    },\n\n    setTextFormatPainter(textFormatPainter: TextFormatPainter | null) {\n      this.textFormatPainter = textFormatPainter\n    },\n\n    setSelectPanelState(show: boolean) {\n      this.showSelectPanel = show\n    },\n  },\n})","export const LOCALSTORAGE_KEY_DISCARDED_DB = 'PPTIST_DISCARDED_DB'","import Dexie from 'dexie'\nimport { databaseId } from '@/store/main'\nimport { Slide } from '@/types/slides'\nimport { LOCALSTORAGE_KEY_DISCARDED_DB } from '@/configs/storage'\n\nexport interface writingBoardImg {\n  id: string\n  dataURL: string\n}\n\nexport interface Snapshot {\n  index: number\n  slides: Slide[]\n}\n\nconst databaseNamePrefix = 'super-ppt'\n\n// 删除失效/过期的数据库\n// 应用关闭时（关闭或刷新浏览器），会将其数据库ID记录在 localStorage 中，表示该ID指向的数据库已失效\n// 当应用初始化时，检查当前所有数据库，将被记录失效的数据库删除\n// 另外，距离初始化时间超过12小时的数据库也将被删除（这是为了防止出现因意外未被正确删除的库）\nexport const deleteDiscardedDB = async () => {\n  const now = new Date().getTime()\n\n  const localStorageDiscardedDB = localStorage.getItem(LOCALSTORAGE_KEY_DISCARDED_DB)\n  const localStorageDiscardedDBList: string[] = localStorageDiscardedDB ? JSON.parse(localStorageDiscardedDB) : []\n\n  const databaseNames = await Dexie.getDatabaseNames()\n  const discardedDBNames = databaseNames.filter(name => {\n    if (name.indexOf(databaseNamePrefix) === -1) return false\n    \n    const [prefix, id, time] = name.split('_')\n    if (prefix !== databaseNamePrefix || !id || !time) return true\n    if (localStorageDiscardedDBList.includes(id)) return true\n    if (now - (+time) >= 1000 * 60 * 60 * 12) return true\n\n    return false\n  })\n\n  for (const name of discardedDBNames) Dexie.delete(name)\n  localStorage.removeItem(LOCALSTORAGE_KEY_DISCARDED_DB)\n}\n\nclass PPTistDB extends Dexie {\n  public snapshots: Dexie.Table<Snapshot, number>\n  public writingBoardImgs: Dexie.Table<writingBoardImg, number>\n\n  public constructor() {\n    super(`${databaseNamePrefix}_${databaseId}_${new Date().getTime()}`)\n    this.version(1).stores({\n      snapshots: '++id',\n      writingBoardImgs: '++id',\n    })\n    this.snapshots = this.table('snapshots')\n    this.writingBoardImgs = this.table('writingBoardImgs')\n  }\n}\n\nexport const db = new PPTistDB()","import { defineStore } from 'pinia'\nimport { IndexableTypeArray } from 'dexie'\nimport { db, Snapshot } from '@/utils/database'\n\nimport { useSlidesStore } from './slides'\nimport { useMainStore } from './main'\n\nexport interface ScreenState {\n  snapshotCursor: number\n  snapshotLength: number\n}\n\nexport const useSnapshotStore = defineStore('snapshot', {\n  state: (): ScreenState => ({\n    snapshotCursor: -1, // 历史快照指针\n    snapshotLength: 0, // 历史快照长度\n  }),\n\n  getters: {\n    canUndo(state) {\n      return state.snapshotCursor > 0\n    },\n    canRedo(state) {\n      return state.snapshotCursor < state.snapshotLength - 1\n    },\n  },\n\n  actions: {\n    setSnapshotCursor(cursor: number) {\n      this.snapshotCursor = cursor\n    },\n    setSnapshotLength(length: number) {\n      this.snapshotLength = length\n    },\n\n    async initSnapshotDatabase() {\n      const slidesStore = useSlidesStore()\n  \n      const newFirstSnapshot = {\n        index: slidesStore.slideIndex,\n        slides: slidesStore.slides,\n      }\n      await db.snapshots.add(newFirstSnapshot)\n      this.setSnapshotCursor(0)\n      this.setSnapshotLength(1)\n    },\n  \n    async addSnapshot() {\n      const slidesStore = useSlidesStore()\n\n      // 获取当前indexeddb中全部快照的ID\n      const allKeys = await db.snapshots.orderBy('id').keys()\n  \n      let needDeleteKeys: IndexableTypeArray = []\n  \n      // 记录需要删除的快照ID\n      // 若当前快照指针不处在最后一位，那么再添加快照时，应该将当前指针位置后面的快照全部删除，对应的实际情况是：\n      // 用户撤回多次后，再进行操作（添加快照），此时原先被撤销的快照都应该被删除\n      if (this.snapshotCursor >= 0 && this.snapshotCursor < allKeys.length - 1) {\n        needDeleteKeys = allKeys.slice(this.snapshotCursor + 1)\n      }\n  \n      // 添加新快照\n      const snapshot = {\n        index: slidesStore.slideIndex,\n        slides: slidesStore.slides,\n      }\n      await db.snapshots.add(snapshot)\n  \n      // 计算当前快照长度，用于设置快照指针的位置（此时指针应该处在最后一位，即：快照长度 - 1）\n      let snapshotLength = allKeys.length - needDeleteKeys.length + 1\n  \n      // 快照数量超过长度限制时，应该将头部多余的快照删除\n      const snapshotLengthLimit = 20\n      if (snapshotLength > snapshotLengthLimit) {\n        needDeleteKeys.push(allKeys[0])\n        snapshotLength--\n      }\n  \n      // 快照数大于1时，需要保证撤回操作后维持页面焦点不变：也就是将倒数第二个快照对应的索引设置为当前页的索引\n      // https://github.com/supernovate07/super-ppt/issues/27\n      if (snapshotLength >= 2) {\n        db.snapshots.update(allKeys[snapshotLength - 2] as number, { index: slidesStore.slideIndex })\n      }\n  \n      await db.snapshots.bulkDelete(needDeleteKeys)\n  \n      this.setSnapshotCursor(snapshotLength - 1)\n      this.setSnapshotLength(snapshotLength)\n    },\n  \n    async unDo() {\n      if (this.snapshotCursor <= 0) return\n\n      const slidesStore = useSlidesStore()\n      const mainStore = useMainStore()\n  \n      const snapshotCursor = this.snapshotCursor - 1\n      const snapshots: Snapshot[] = await db.snapshots.orderBy('id').toArray()\n      const snapshot = snapshots[snapshotCursor]\n      const { index, slides } = snapshot\n  \n      const slideIndex = index > slides.length - 1 ? slides.length - 1 : index\n  \n      slidesStore.setSlides(slides)\n      slidesStore.updateSlideIndex(slideIndex)\n      this.setSnapshotCursor(snapshotCursor)\n      mainStore.setActiveElementIdList([])\n    },\n  \n    async reDo() {\n      if (this.snapshotCursor >= this.snapshotLength - 1) return\n\n      const slidesStore = useSlidesStore()\n      const mainStore = useMainStore()\n  \n      const snapshotCursor = this.snapshotCursor + 1\n      const snapshots: Snapshot[] = await db.snapshots.orderBy('id').toArray()\n      const snapshot = snapshots[snapshotCursor]\n      const { index, slides } = snapshot\n  \n      const slideIndex = index > slides.length - 1 ? slides.length - 1 : index\n  \n      slidesStore.setSlides(slides)\n      slidesStore.updateSlideIndex(slideIndex)\n      this.setSnapshotCursor(snapshotCursor)\n      mainStore.setActiveElementIdList([])\n    },\n  },\n})","import { defineStore } from 'pinia'\n\nexport interface KeyboardState {\n  ctrlKeyState: boolean\n  shiftKeyState: boolean\n  spaceKeyState: boolean\n}\n\nexport const useKeyboardStore = defineStore('keyboard', {\n  state: (): KeyboardState => ({\n    ctrlKeyState: false, // ctrl键按下状态\n    shiftKeyState: false, // shift键按下状态\n    spaceKeyState: false, // space键按下状态\n  }),\n\n  getters: {\n    ctrlOrShiftKeyActive(state) {\n      return state.ctrlKeyState || state.shiftKeyState\n    },\n  },\n\n  actions: {\n    setCtrlKeyState(active: boolean) {\n      this.ctrlKeyState = active\n    },\n    setShiftKeyState(active: boolean) {\n      this.shiftKeyState = active\n    },\n    setSpaceKeyState(active: boolean) {\n      this.spaceKeyState = active\n    },\n  },\n})","import { defineStore } from 'pinia'\n\nexport interface ScreenState {\n  screening: boolean\n}\n\nexport const useScreenStore = defineStore('screen', {\n  state: (): ScreenState => ({\n    screening: false, // 是否进入放映状态\n  }),\n\n  actions: {\n    setScreening(screening: boolean) {\n      this.screening = screening\n    },\n  },\n})","import { padStart } from 'lodash'\n\n/**\n * 补足数字位数\n * @param digit 数字\n * @param len 位数\n */\nexport const fillDigit = (digit: number, len: number) => {\n  return padStart('' + digit, len, '0')\n}\n\n/**\n * 判断设备\n */\nexport const isPC = () => {\n  return !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|Mobile|BlackBerry|Symbian|Windows Phone)/i)\n}","import { ShapePoolItem } from '@/configs/shapes'\r\nimport { LinePoolItem } from '@/configs/lines'\r\nimport { ImageClipDataRange } from './slides'\r\n\r\nexport enum ElementOrderCommands {\r\n  UP = 'up',\r\n  DOWN = 'down',\r\n  TOP = 'top',\r\n  BOTTOM = 'bottom',\r\n}\r\n\r\nexport enum ElementAlignCommands {\r\n  TOP = 'top',\r\n  BOTTOM = 'bottom',\r\n  LEFT = 'left',\r\n  RIGHT = 'right',\r\n  VERTICAL = 'vertical',\r\n  HORIZONTAL = 'horizontal',\r\n  CENTER = 'center',\r\n}\r\n\r\nexport const enum OperateBorderLines {\r\n  T = 'top',\r\n  B = 'bottom',\r\n  L = 'left',\r\n  R = 'right',\r\n}\r\n\r\nexport const enum OperateResizeHandlers {\r\n  LEFT_TOP = 'left-top',\r\n  TOP = 'top',\r\n  RIGHT_TOP = 'right-top',\r\n  LEFT = 'left',\r\n  RIGHT = 'right',\r\n  LEFT_BOTTOM = 'left-bottom',\r\n  BOTTOM = 'bottom',\r\n  RIGHT_BOTTOM = 'right-bottom',\r\n}\r\n\r\nexport const enum OperateLineHandlers {\r\n  START = 'start',\r\n  END = 'end',\r\n  C = 'ctrl',\r\n  C1 = 'ctrl1',\r\n  C2 = 'ctrl2',\r\n}\r\n\r\nexport interface AlignmentLineAxis {\r\n  x: number\r\n  y: number\r\n}\r\n\r\nexport interface AlignmentLineProps {\r\n  type: 'vertical' | 'horizontal'\r\n  axis: AlignmentLineAxis\r\n  length: number\r\n}\r\n\r\nexport interface MultiSelectRange {\r\n  minX: number\r\n  maxX: number\r\n  minY: number\r\n  maxY: number\r\n}\r\n\r\nexport interface ImageClipedEmitData {\r\n  range: ImageClipDataRange\r\n  position: {\r\n    left: number\r\n    top: number\r\n    width: number\r\n    height: number\r\n  }\r\n}\r\n\r\nexport interface CreateElementSelectionData {\r\n  start: [number, number]\r\n  end: [number, number]\r\n}\r\n\r\nexport interface CreatingTextElement {\r\n  type: 'text'\r\n  vertical?: boolean\r\n}\r\nexport interface CreatingShapeElement {\r\n  type: 'shape'\r\n  data: ShapePoolItem\r\n}\r\nexport interface CreatingLineElement {\r\n  type: 'line'\r\n  data: LinePoolItem\r\n}\r\nexport type CreatingElement = CreatingTextElement | CreatingShapeElement | CreatingLineElement\r\n\r\nexport type TextFormatPainterKeys = 'bold' | 'em' | 'underline' | 'strikethrough' | 'color' | 'backcolor' | 'fontsize' | 'fontname' | 'align'\r\n\r\nexport interface TextFormatPainter {\r\n  bold?: boolean\r\n  em?: boolean\r\n  underline?: boolean\r\n  strikethrough?: boolean\r\n  color?: string\r\n  backcolor?: string\r\n  fontsize?: string\r\n  fontname?: string\r\n  align?: 'left' | 'right' | 'center'\r\n}","export const enum KEYS {\n  C = 'C',\n  X = 'X',\n  Z = 'Z',\n  Y = 'Y',\n  A = 'A',\n  G = 'G',\n  L = 'L',\n  F = 'F',\n  D = 'D',\n  B = 'B',\n  P = 'P',\n  MINUS = '-',\n  EQUAL = '=',\n  DIGIT_0 = '0',\n  DELETE = 'DELETE',\n  UP = 'ARROWUP',\n  DOWN = 'ARROWDOWN',\n  LEFT = 'ARROWLEFT',\n  RIGHT = 'ARROWRIGHT',\n  ENTER = 'ENTER',\n  SPACE = ' ',\n  TAB = 'TAB',\n  BACKSPACE = 'BACKSPACE',\n  ESC = 'ESCAPE',\n  PAGEUP = 'PAGEUP',\n  PAGEDOWN = 'PAGEDOWN',\n  F5 = 'F5',\n}\n\nexport const HOTKEY_DOC = [\n  {\n    type: 'General',\n    children: [\n      { label: 'Cut', value: 'Ctrl + X' },\n      { label: 'Copy', value: 'Ctrl + C' },\n      { label: 'Paste', value: 'Ctrl + V' },\n      { label: 'Quick copy and paste', value: 'Ctrl + D' },\n      { label: 'Select All', value: 'Ctrl + A' },\n      { label: 'Undo', value: 'Ctrl + Z' },\n      { label: 'Restore', value: 'Ctrl + Y' },\n      { label: 'Delete', value: 'Delete / Backspace' },\n      { label: 'multiple selection', value: 'press Ctrl or Shift' },\n      { label: 'Print', value: 'Ctrl + P' },\n      { label: 'Close popup', value: 'ESC' },\n    ],\n  },\n  {\n    type: 'slide show',\n    children: [\n      { label: 'Start slideshow', value: 'F5' },\n      { label: 'Slide show from current', value: 'Shift + F5' },\n      { label: 'Switch to previous page', value: '↑ / ← / PgUp' },\n      { label: 'Switch to the next page', value: '↓ / → / PgDown' },\n      { label: 'Switch to the next page', value: 'Enter / Space' },\n      { label: 'Exit Show', value: 'ESC' },\n    ],\n  },\n  {\n    type: 'slideshow editor',\n    children: [\n      { label: 'New Slide', value: 'Enter' },\n      { label: 'Move canvas', value: 'Space + mouse drag' },\n      { label: 'Zoom Canvas', value: 'Ctrl + Mouse Wheel' },\n      { label: 'Zoom Canvas', value: 'Ctrl + =' },\n      { label: 'Zoom Canvas', value: 'Ctrl + -' },\n      { label: 'Fit canvas to current screen', value: 'Ctrl + 0' },\n      { label: 'Previous page (unselected element)', value: '↑ / ←' },\n      { label: 'Next page (unselected element)', value: '↓ / →' },\n      { label: 'Previous page', value: 'Mouse scroll up / PgUp' },\n      { label: 'Next page', value: 'Mouse scroll down / PgDown' },\n    ],\n  },\n  {\n    type: 'element operation',\n    children: [\n      { label: 'Move', value: '↑ / ← / ↓ / →' },\n      { label: 'Lock', value: 'Ctrl + L' },\n      { label: 'Combination', value: 'Ctrl + G' },\n      { label: 'Ungroup', value: 'Ctrl + Shift + G' },\n      { label: 'On Top', value: 'Alt + F' },\n      { label: 'Background', value: 'Alt + B' },\n      { label: 'Lock aspect ratio', value: 'Press Ctrl or Shift' },\n      { label: 'Create horizontal/vertical lines', value: 'Hold Ctrl or Shift' },\n      { label: 'Switch focus element', value: 'Tab' },\n      { label: 'Confirm image cropping', value: 'Enter' },\n    ],\n  },\n  {\n    type: 'Table Edit',\n    children: [\n      { label: 'Focus to the next cell', value: 'Tab' },\n      { label: 'Insert a row above', value: 'Ctrl + ↑' },\n      { label: 'Insert a row below', value: 'Ctrl + ↓' },\n      { label: 'Insert a column on the left', value: 'Ctrl + ←' },\n      { label: 'Insert a column on the right', value: 'Ctrl + →' },\n    ],\n  },\n  {\n    type: 'Chart data editing',\n    children: [\n      { label: 'Focus to the next line', value: 'Enter' },\n    ],\n  },\n  {\n    type: 'text editor',\n    children: [\n      { label: 'Bold', value: 'Ctrl + B' },\n      { label: 'Italic', value: 'Ctrl + I' },\n      { label: 'Underline', value: 'Ctrl + U' },\n      { label: 'Strikethrough', value: 'Ctrl + D' },\n    ],\n  },\n]","import CryptoJS from 'crypto-js'\n\nconst CRYPTO_KEY = 'super-ppt'\n\n/**\n * 加密\n * @param msg 待加密字符串\n */\nexport const encrypt = (msg: string) => {\n  return CryptoJS.AES.encrypt(msg, CRYPTO_KEY).toString()\n}\n\n/**\n * 解密\n * @param ciphertext 待解密字符串\n */\nexport const decrypt = (ciphertext: string) => {\n  const bytes = CryptoJS.AES.decrypt(ciphertext, CRYPTO_KEY)\n  return bytes.toString(CryptoJS.enc.Utf8)\n}","import Clipboard from 'clipboard'\nimport { decrypt } from '@/utils/crypto'\n\n/**\n  * Copy text to clipboard\n  * @param text text content\n  */\nexport const copyText = (text: string) => {\n  return new Promise((resolve, reject) => {\n    const fakeElement = document.createElement('button')\n    const clipboard = new Clipboard(fakeElement, {\n      text: () => text,\n      action: () => 'copy',\n      container: document.body,\n    })\n    clipboard.on('success', e => {\n      clipboard.destroy()\n      resolve(e)\n    })\n    clipboard.on('error', e => {\n      clipboard.destroy()\n      reject(e)\n    })\n    document.body.appendChild(fakeElement)\n    fakeElement.click()\n    document.body.removeChild(fakeElement)\n  })\n}\n\n// read the clipboard\nexport const readClipboard = (): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    if (navigator.clipboard?.readText) {\n      navigator.clipboard.readText().then(text => {\n        if (!text) reject('The clipboard is empty or contains no text')\n        return resolve(text)\n      })\n    }\n    else reject('The browser does not support or prohibit access to the clipboard, please use the shortcut key Ctrl + V')\n  })\n}\n\n// parse the encrypted clipboard content\nexport const pasteCustomClipboardString = (text: string) => {\n  let clipboardData\n  try {\n    clipboardData = JSON.parse(decrypt(text))\n  }\n  catch {\n    clipboardData = text\n  }\n\n  return clipboardData\n}\n\n// Try to parse the clipboard content to see if it is an Excel table (or similar) data format\nexport const pasteExcelClipboardString = (text: string): string[][] | null => {\n  const lines: string[] = text.split('\\r\\n')\n\n  if (lines[lines.length - 1] === '') lines.pop()\n\n  let colCount = -1\n  const data: string[][] = []\n  for (const index in lines) {\n    data[index] = lines[index].split('\\t')\n\n    if (data[index].length === 1) return null\n    if (colCount === -1) colCount = data[index].length\n    else if (colCount !== data[index].length) return null\n  }\n  return data\n}","import tinycolor from 'tinycolor2'\r\nimport { nanoid } from 'nanoid'\r\nimport { PPTElement, PPTLineElement, Slide } from '@/types/slides'\r\n\r\ninterface RotatedElementData {\r\n  left: number\r\n  top: number\r\n  width: number\r\n  height: number\r\n  rotate: number\r\n}\r\n\r\ninterface IdMap {\r\n  [id: string]: string\r\n}\r\n/**\r\n  * Calculate the new position range of the element after the rectangle range in the canvas is rotated\r\n  * @param element element position size and rotation angle information\r\n  */\r\nexport const getRectRotatedRange = (element: RotatedElementData) => {\r\n  const { left, top, width, height, rotate = 0 } = element\r\n\r\n  const radius = Math. sqrt( Math. pow(width, 2) + Math. pow(height, 2) ) / 2\r\n  const auxiliaryAngle = Math.atan(height / width) * 180 / Math.PI\r\n\r\n  const tlbraRadian = (180 - rotate - auxiliaryAngle) * Math.PI / 180\r\n  const trblaRadian = (auxiliaryAngle - rotate) * Math.PI / 180\r\n\r\n  const middleLeft = left + width / 2\r\n  const middleTop = top + height / 2\r\n\r\n  const xAxis = [\r\n    middleLeft + radius * Math.cos(tlbraRadian),\r\n    middleLeft + radius * Math.cos(trblaRadian),\r\n    middleLeft - radius * Math.cos(tlbraRadian),\r\n    middleLeft - radius * Math.cos(trblaRadian),\r\n  ]\r\n  const yAxis = [\r\n    middleTop - radius * Math.sin(tlbraRadian),\r\n    middleTop - radius * Math.sin(trblaRadian),\r\n    middleTop + radius * Math.sin(tlbraRadian),\r\n    middleTop + radius * Math.sin(trblaRadian),\r\n  ]\r\n\r\n  return {\r\n    xRange: [Math.min(...xAxis), Math.max(...xAxis)],\r\n    yRange: [Math.min(...yAxis), Math.max(...yAxis)],\r\n  }\r\n}\r\n\r\n/**\r\n * Calculate the distance between the new position of the element after the rotation of the rectangle in the canvas and the position before the rotation\r\n * @param element element position size and rotation angle information\r\n */\r\nexport const getRectRotatedOffset = (element: RotatedElementData) => {\r\n  const { xRange: originXRange, yRange: originYRange } = getRectRotatedRange({\r\n    left: element. left,\r\n    top: element.top,\r\n    width: element. width,\r\n    height: element. height,\r\n    rotate: 0,\r\n  })\r\n  const { xRange: rotatedXRange, yRange: rotatedYRange } = getRectRotatedRange({\r\n    left: element. left,\r\n    top: element.top,\r\n    width: element. width,\r\n    height: element. height,\r\n    rotate: element. rotate,\r\n  })\r\n  return {\r\n    offsetX: rotatedXRange[0] - originXRange[0],\r\n    offsetY: rotatedYRange[0] - originYRange[0],\r\n  }\r\n}\r\n\r\n/**\r\n * Calculate the position range of the element in the canvas\r\n * @param element element information\r\n */\r\nexport const getElementRange = (element: PPTElement) => {\r\n  let minX, maxX, minY, maxY\r\n\r\n  if (element. type === 'line') {\r\n    minX = element. left\r\n    maxX = element.left + Math.max(element.start[0], element.end[0])\r\n    minY = element.top\r\n    maxY = element.top + Math.max(element.start[1], element.end[1])\r\n  }\r\n  else if ('rotate' in element && element.rotate) {\r\n    const { left, top, width, height, rotate } = element\r\n    const { xRange, yRange } = getRectRotatedRange({ left, top, width, height, rotate })\r\n    minX = xRange[0]\r\n    maxX = xRange[1]\r\n    minY = yRange[0]\r\n    maxY = yRange[1]\r\n  }\r\n  else {\r\n    minX = element. left\r\n    maxX = element.left + element.width\r\n    minY = element.top\r\n    maxY = element.top + element.height\r\n  }\r\n  return { minX, maxX, minY, maxY }\r\n}\r\n/**\r\n  * Calculate the position range of a group of elements in the canvas\r\n  * @param elementList A set of element information\r\n  */\r\nexport const getElementListRange = (elementList: PPTElement[]) => {\r\n  const leftValues: number[] = []\r\n  const topValues: number[] = []\r\n  const rightValues: number[] = []\r\n  const bottomValues: number[] = []\r\n\r\n  elementList.forEach(element => {\r\n    const { minX, maxX, minY, maxY } = getElementRange(element)\r\n    leftValues. push(minX)\r\n    topValues. push(minY)\r\n    rightValues. push(maxX)\r\n    bottomValues. push(maxY)\r\n  })\r\n\r\n  const minX = Math.min(...leftValues)\r\n  const maxX = Math.max(...rightValues)\r\n  const minY = Math.min(...topValues)\r\n  const maxY = Math.max(...bottomValues)\r\n\r\n  return { minX, maxX, minY, maxY }\r\n}\r\n\r\nexport interface AlignLine {\r\n  value: number\r\n  range: [number, number]\r\n}\r\n\r\n/**\r\n * Deduplicate a set of snapping lines: leave only one snapping line for multiple snapping lines at the same position, and take the maximum and minimum values of all snapping lines at that position as the new range\r\n * @param lines A set of alignment snap line information\r\n */\r\nexport const uniqAlignLines = (lines: AlignLine[]) => {\r\n  const uniqLines: AlignLine[] = []\r\n  lines. forEach(line => {\r\n    const index = uniqLines.findIndex(_line => _line.value === line.value)\r\n    if (index === -1) uniqLines. push(line)\r\n    else {\r\n      const uniqLine = uniqLines[index]\r\n      const rangeMin = Math.min(uniqLine.range[0], line.range[0])\r\n      const rangeMax = Math.max(uniqLine.range[1], line.range[1])\r\n      const range: [number, number] = [rangeMin, rangeMax]\r\n      const _line = { value: line. value, range }\r\n      uniqLines[index] = _line\r\n    }\r\n  })\r\n  return uniqLines\r\n}\r\n\r\n/**\r\n * Based on the page list, generate a new ID for each page and associate it with the old ID to form a dictionary\r\n * Mainly used for page elements, maintaining the original relationship between page IDs in the data\r\n * @param slides list of pages\r\n */\r\nexport const createSlideIdMap = (slides: Slide[]) => {\r\n  const slideIdMap: IdMap = {}\r\n  for (const slide of slides) {\r\n    slideIdMap[slide.id] = nanoid(10)\r\n  }\r\n  return slideIdMap\r\n}\r\n\r\n/**\r\n   * Based on the element list, generate a new ID for each element and associate it with the old ID to form a dictionary\r\n   * Mainly used to maintain the original relationship of element IDs in the data when copying elements\r\n   * For example: the original two combined elements have the same groupId, and they will still have another same groupId after copying\r\n   * @param elements element list data\r\n   */\r\nexport const createElementIdMap = (elements: PPTElement[]) => {\r\n  const groupIdMap: IdMap = {}\r\n  const elIdMap: IdMap = {}\r\n  for (const element of elements) {\r\n    const groupId = element.groupId\r\n    if (groupId && !groupIdMap[groupId]) {\r\n      groupIdMap[groupId] = nanoid(10)\r\n    }\r\n    elIdMap[element.id] = nanoid(10)\r\n  }\r\n  return {\r\n    groupIdMap,\r\n    elIdMap,\r\n  }\r\n}\r\n\r\n/**\r\n * According to the theme color of the table, get the sub-color corresponding to the color matching\r\n * @param themeColor theme color\r\n */\r\nexport const getTableSubThemeColor = (themeColor: string) => {\r\n  const rgba = tinycolor(themeColor)\r\n  return [\r\n    rgba.setAlpha(0.3).toRgbString(),\r\n    rgba.setAlpha(0.1).toRgbString(),\r\n  ]\r\n}\r\n\r\n/**\r\n * Get the line element path string\r\n * @param element line element\r\n */\r\nexport const getLineElementPath = (element: PPTLineElement) => {\r\n  const start = element.start.join(',')\r\n  const end = element. end. join(',')\r\n  if (element. broken) {\r\n    const mid = element. broken. join(',')\r\n    return `M${start} L${mid} L${end}`\r\n  }\r\n  else if (element. curve) {\r\n    const mid = element. curve. join(',')\r\n    return `M${start} Q${mid} ${end}`\r\n  }\r\n  else if (element. cubic) {\r\n    const [c1, c2] = element.cubic\r\n    const p1 = c1. join(',')\r\n    const p2 = c2. join(',')\r\n    return `M${start} C${p1} ${p2} ${end}`\r\n  }\r\n  return `M${start} L${end}`\r\n}","/**\r\n * 将普通文本转为带段落信息的HTML字符串\r\n * @param text 文本\r\n */\r\nexport const parseText2Paragraphs = (text: string) => {\r\n  const htmlText = text.replace(/[\\n\\r]+/g, '<br>')\r\n  const paragraphs = htmlText.split('<br>')\r\n  let string = ''\r\n  for (const paragraph of paragraphs) {\r\n    if (paragraph) string += `<div>${paragraph}</div>`\r\n  }\r\n  return string\r\n}","interface ImageSize {\n  width: number\n  height: number\n}\n\n/**\n * 获取图片的原始宽高\n * @param src 图片地址\n */\nexport const getImageSize = (src: string): Promise<ImageSize> => {\n  return new Promise(resolve => {\n    const img = document.createElement('img')\n    img.src = src\n    img.style.opacity = '0'\n    document.body.appendChild(img)\n\n    img.onload = () => {\n      const imgWidth = img.clientWidth\n      const imgHeight = img.clientHeight\n    \n      img.onload = null\n      img.onerror = null\n\n      document.body.removeChild(img)\n\n      resolve({ width: imgWidth, height: imgHeight })\n    }\n\n    img.onerror = () => {\n      img.onload = null\n      img.onerror = null\n    }\n  })\n}\n\n/**\n * 读取图片文件的dataURL\n * @param file 图片文件\n */\nexport const getImageDataURL = (file: File): Promise<string> => {\n  return new Promise(resolve => {\n    const reader = new FileReader()\n    reader.addEventListener('load', () => {\n      resolve(reader.result as string)\n    })\n    reader.readAsDataURL(file)\n  })\n}","export const VIEWPORT_SIZE = 1000","import { BarChartOptions, LineChartOptions, PieChartOptions } from 'chartist'\n\nexport const enum ShapePathFormulasKeys {\n  ROUND_RECT = 'roundRect',\n  ROUND_RECT_DIAGONAL = 'roundRectDiagonal',\n  ROUND_RECT_SINGLE = 'roundRectSingle',\n  ROUND_RECT_SAMESIDE = 'roundRectSameSide',\n  CUT_RECT_DIAGONAL = 'cutRectDiagonal',\n  CUT_RECT_SINGLE = 'cutRectSingle',\n  CUT_RECT_SAMESIDE = 'cutRectSameSide',\n  CUT_ROUND_RECT = 'cutRoundRect',\n  MESSAGE = 'message',\n  ROUND_MESSAGE = 'roundMessage',\n  L = 'L',\n  RING_RECT = 'ringRect',\n  PLUS = 'plus',\n  TRIANGLE = 'triangle',\n  PARALLELOGRAM_LEFT = 'parallelogramLeft',\n  PARALLELOGRAM_RIGHT = 'parallelogramRight',\n  TRAPEZOID = 'trapezoid',\n  BULLET = 'bullet',\n  INDICATOR = 'indicator',\n}\n\nexport const enum ElementTypes {\n  TEXT = 'text',\n  IMAGE = 'image',\n  SHAPE = 'shape',\n  LINE = 'line',\n  CHART = 'chart',\n  TABLE = 'table',\n  LATEX = 'latex',\n  VIDEO = 'video',\n  AUDIO = 'audio',\n}\n/**\n  * element shadow\n  *\n  * h: horizontal offset\n  *\n  * v: vertical offset\n  *\n  * blur: degree of blur\n  *\n  * color: shadow color\n  */\nexport interface PPTElementShadow {\n   h: number\n   v: number\n   blur: number\n   color: string\n}\n\n/**\n  * element border\n  *\n  * style?: border style (solid or dashed)\n  *\n  * width?: border width\n  *\n  * color?: border color\n  */\nexport interface PPTElementOutline {\n   style?: 'dashed' | 'solid'\n   width?: number\n   color?: string\n}\n\n/**\n  * element hyperlink\n  *\n  * type: link type (web page, slide page)\n  *\n  * target: target address (web link, slide page ID)\n  */\nexport interface PPTElementLink {\n   type: 'web' | 'slide'\n   target: string\n}\n\n\n/**\n  * Element general attributes\n  *\n  * id: element ID\n  *\n  * left: The horizontal position of the element (from the left side of the canvas)\n  *\n  * top: The vertical position of the element (distance from the top of the canvas)\n  *\n  * lock?: lock element\n  *\n  * groupId?: Group ID (elements with the same group ID are members of the same group element)\n  *\n  * width: element width\n  *\n  * height: element height\n  *\n  * rotate: rotation angle\n  *\n  * link?: hyperlink\n  *\n  * name?: element name\n  */\ninterface PPTBaseElement {\n   id: string\n   left: number\n   top: number\n   lock?: boolean\n   groupId?: string\n   width: number\n   height: number\n   rotate: number\n   link?: PPTElementLink\n   name?: string\n}\n\n\n/**\n  * text element\n  *\n  * type: element type (text)\n  *\n  * content: text content (HTML string)\n  *\n  * defaultFontName: Default font (will be overridden by HTML inline styles in text content)\n  *\n  * defaultColor: Default color (will be overridden by HTML inline styles in text content)\n  *\n  * outline?: border\n  *\n  * fill?: fill color\n  *\n  * lineHeight?: Line height (times), default 1.5\n  *\n  * wordSpace?: Word spacing, default 0\n  *\n  * opacity?: opacity, default 1\n  *\n  * shadow?: shadow\n  *\n  * textIndent?: Indentation of the first line of the paragraph\n  *\n  * paragraphSpace?: Paragraph spacing, default 5px\n  *\n  * vertical?: vertical text\n  */\nexport interface PPTTextElement extends PPTBaseElement {\n   type: 'text'\n   content: string\n   defaultFontName: string\n   defaultColor: string\n   outline?: PPTElementOutline\n   fill?: string\n   lineHeight?: number\n   wordSpace?: number\n   opacity?: number\n   shadow?: PPTElementShadow\n   textIndent?: number\n   paragraphSpace?: number\n   vertical?: boolean\n}\n\n\n/**\n  * Image flipping, shape flipping\n  *\n  * flipH?: Flip horizontally\n  *\n  * flipV?: flip vertically\n  */\nexport interface ImageOrShapeFlip {\n   flipH?: boolean\n   flipV?: boolean\n}\n\n/**\n  * Image filters\n  *\n  * https://developer.mozilla.org/en-US/docs/Web/CSS/filter\n  *\n  * 'blur'?: Blur, default 0 (px)\n  *\n  * 'brightness'?: Brightness, default 100 (%)\n  *\n  * 'contrast'?: Contrast, default 100 (%)\n  *\n  * 'grayscale'?: Grayscale, default 0 (%)\n  *\n  * 'saturate'?: Saturation, default 100 (%)\n  *\n  * 'hue-rotate'?: Hue rotation, default 0 (deg)\n  *\n  * 'opacity'?: Opacity, default 100 (%)\n  */\nexport type ImageElementFilterKeys = 'blur' | 'brightness' | 'contrast' | 'grayscale' | 'saturate' | 'hue-rotate' | 'opacity'\nexport interface ImageElementFilters {\n   'blur'?: string\n   'brightness'?: string\n   'contrast'?: string\n   'grayscale'?: string\n   'saturate'?: string\n   'hue-rotate'?: string\n   'opacity'?: string\n}\n\nexport type ImageClipDataRange = [[number, number], [number, number]]\n\n/**\n  * Image cropping\n  *\n  * range: cropping range, for example: [[10, 10], [90, 90]] means cropping the range from 10%, 10% to 90%, 90% of the original image from the upper left corner\n  *\n  * shape: clipping shape, see configs/imageClip.ts CLIPPATHS\n  */\nexport interface ImageElementClip {\n   range: ImageClipDataRange\n   shape: string\n}\n\n/**\n  * Image masking\n  *\n  * color: mask color\n  *\n  * opacity: mask transparency\n  */\nexport interface ImageColorElementMask {\n   color: string\n   opacity: number\n}\n\n/**\n  * Image element\n  *\n  * type: element type (image)\n  *\n  * fixedRatio: Fixed image aspect ratio\n  *\n  * src: image address\n  *\n  * outline?: border\n  *\n  * filters?: image filter\n  *\n  * clip?: clipping information\n  *\n  * flipH?: Flip horizontally\n  *\n  * flipV?: flip vertically\n  *\n  * shadow?: shadow\n  */\nexport interface PPTImageElement extends PPTBaseElement {\n   type: 'image'\n   fixedRatio: boolean\n   src: string\n   outline?: PPTElementOutline\n   filters?: ImageElementFilters\n   clip?: ImageElementClip\n   flipH?: boolean\n   flipV?: boolean\n   shadow?: PPTElementShadow\n   colorMask?: ImageColorElementMask\n}\n\n\n/**\n  * Shape Gradient\n  *\n  * type: gradient type (radial, linear)\n  *\n  * color: gradient color\n  *\n  * rotate: gradient angle (linear gradient)\n  */\nexport interface ShapeGradient {\n   type: 'linear' | 'radial'\n   color: [string, string]\n   rotate: number\n}\n\n/**\n  * Text inside the shape\n  *\n  * content: text content (HTML string)\n  *\n  * defaultFontName: Default font (will be overridden by HTML inline styles in text content)\n  *\n  * defaultColor: Default color (will be overridden by HTML inline styles in text content)\n  *\n  * align: Text alignment direction (vertical direction)\n  */\nexport interface ShapeText {\n   content: string\n   defaultFontName: string\n   defaultColor: string\n   align: 'top' | 'middle' | 'bottom'\n}\n\n/**\n  * Shape elements\n  *\n  * type: element type (shape)\n  *\n  * viewBox: viewBox attribute of SVG, for example [1000, 1000] means '0 0 1000 1000'\n  *\n  * path: shape path, d attribute of SVG path\n  *\n  * fixedRatio: Fixed shape aspect ratio\n  *\n  * fill: fill, effective when there is no gradient\n  *\n  * gradient?: Gradient, when this property exists, it will be filled first\n  *\n  * outline?: border\n  *\n  * opacity?: Opacity\n  *\n  * flipH?: Flip horizontally\n  *\n  * flipV?: flip vertically\n  *\n  * shadow?: shadow\n  *\n  * special?: special shape (marks some difficult-to-parse shapes, for example, if the path uses a type other than L Q C A, this type of shape will become an image after export)\n  *\n  * text?: Text inside the shape\n  *\n  * pathFormula?: Shape path calculation formula\n  * Under normal circumstances, when the size of the shape changes, only the width and height are adjusted based on the scaling ratio of the viewBox, while the viewBox itself and the path will not change.\n  * But there are also some shapes that want to control the position of some key points more precisely. At this time, it is necessary to provide a path calculation formula, and redraw the shape by updating the viewBox and recalculating the path when zooming\n  *\n  * keypoint?: key point position percentage\n  */\nexport interface PPTShapeElement extends PPTBaseElement {\n   type: 'shape'\n   viewBox: [number, number]\n   path: string\n   fixedRatio: boolean\n   fill: string\n   gradient?: ShapeGradient\n   outline?: PPTElementOutline\n   opacity?: number\n   flipH?: boolean\n   flipV?: boolean\n   shadow?: PPTElementShadow\n   special?: boolean\n   text?: ShapeText\n   pathFormula?: ShapePathFormulasKeys\n   keypoint?: number\n}\nexport type LinePoint = '' | 'arrow' | 'dot' \n/**\n  * line element\n  *\n  * type: element type (line)\n  *\n  * start: starting position ([x, y])\n  *\n  * end: End position ([x, y])\n  *\n  * style: line style (solid line, dashed line)\n  *\n  * color: line color\n  *\n  * points: endpoint style ([start style, end style], optional: none, arrow, dot)\n  *\n  * shadow?: shadow\n  *\n  * broken?: Polyline control point position ([x, y])\n  *\n  * curve?: quadratic curve control point position ([x, y])\n  *\n  * cubic?: Cubic curve control point position ([[x1, y1], [x2, y2]])\n  */\nexport interface PPTLineElement extends Omit<PPTBaseElement, 'height' | 'rotate'> {\n  type: 'line'\n  start: [number, number]\n  end: [number, number]\n  style: 'solid' | 'dashed'\n  color: string\n  points: [LinePoint, LinePoint]\n  shadow?: PPTElementShadow\n  broken?: [number, number]\n  curve?: [number, number]\n  cubic?: [[number, number], [number, number]]\n}\n\n\nexport type PresetChartType = 'bar' | 'horizontalBar' | 'line' | 'area' | 'scatter' | 'pie' | 'ring'\nexport type ChartType = 'bar' | 'line' | 'pie'\nexport type ChartOptions = LineChartOptions & BarChartOptions & PieChartOptions\nexport interface ChartData {\n  labels: string[]\n  legends: string[]\n  series: number[][]\n}\n\n/**\n  * Chart elements\n  *\n  * type: element type (chart)\n  *\n  * fill?: fill color\n  *\n  * chartType: basic chart type (bar/line/pie), all chart types are derived from these three basic types\n  *\n  * data: chart data\n  *\n  * options?: Chart configuration items\n  *\n  * outline?: border\n  *\n  * themeColor: theme color\n  *\n  * gridColor?: grid & coordinate color\n  *\n  * legend?: legend/position\n  */\nexport interface PPTChartElement extends PPTBaseElement {\n  type: 'chart'\n  fill?: string\n  chartType: ChartType\n  data: ChartData\n  options?: ChartOptions\n  outline?: PPTElementOutline\n  themeColor: string[]\n  gridColor?: string\n  legend?: '' | 'top' | 'bottom'\n}\n\n\n/**\n  * Table cell style\n  *\n  * bold?: bold\n  *\n  * em?: italics\n  *\n  * underline?: underline\n  *\n  * strikethrough?: strikethrough\n  *\n  * color?: font color\n  *\n  * backcolor?: fill color\n  *\n  * fontsize?: font size\n  *\n  * fontname?: font\n  *\n  * align?: alignment\n  */\nexport interface TableCellStyle {\n  bold?: boolean\n  em?: boolean\n  underline?: boolean\n  strikethrough?: boolean\n  color?: string\n  backcolor?: string\n  fontsize?: string\n  fontname?: string\n  align?: 'left' | 'center' | 'right'\n}\n\n/**\n  * table cell\n  *\n  * id: Cell ID\n  *\n  * colspan: the number of merged columns\n  *\n  * rowspan: the number of merged rows\n  *\n  * text: text content\n  *\n  * style?: cell style\n  */\nexport interface TableCell {\n  id: string\n  colspan: number\n  rowspan: number\n  text: string\n  style?: TableCellStyle\n}\n\n/**\n  * Form subject\n  *\n  * color: theme color\n  *\n  * rowHeader: header row\n  *\n  * rowFooter: summary row\n  *\n  * colHeader: the first column\n  *\n  * colFooter: the last column\n  */\nexport interface TableTheme {\n  color: string\n  rowHeader: boolean\n  rowFooter: boolean\n  colHeader: boolean\n  colFooter: boolean\n}\n\n/**\n  * form element\n  *\n  * type: element type (table)\n  *\n  * outline: border\n  *\n  * theme?: theme\n  *\n  * colWidths: Column width array, such as [30, 50, 20] means that the three column widths are 30%, 50%, 20% respectively\n  *\n  * cellMinHeight: The minimum height of the cell\n  *\n  * data: form data\n  */\nexport interface PPTTableElement extends PPTBaseElement {\n  type: 'table'\n  outline: PPTElementOutline\n  theme?: TableTheme\n  colWidths: number[]\n  cellMinHeight: number\n  data: TableCell[][]\n}\n\n\n/**\n  * LaTeX element (formula)\n  *\n  * type: element type (latex)\n  *\n  * latex: latex code\n  *\n  * path: svg path\n  *\n  * color: color\n  *\n  * strokeWidth: path width\n  *\n  * viewBox: viewBox property of SVG\n  *\n  * fixedRatio: Fixed shape aspect ratio\n  */\nexport interface PPTLatexElement extends PPTBaseElement {\n  type: 'latex'\n  latex: string\n  path: string\n  color: string\n  strokeWidth: number\n  viewBox: [number, number]\n  fixedRatio: boolean\n}\n\n/**\n  * Video element\n  *\n  * type: element type (video)\n  *\n  * src: Video URL\n  *\n  * poster: preview cover\n  */\nexport interface PPTVideoElement extends PPTBaseElement {\n  type: 'video'\n  src: string\n  poster?: string\n}\n\n/**\n * Audio elements\n *\n * type: element type (audio)\n *\n * fixedRatio: fixed icon width and height ratio\n *\n * color: icon color\n *\n * loop: loop playback\n *\n * autoplay: autoplay\n *\n * src: audio address\n */\nexport interface PPTAudioElement extends PPTBaseElement {\n  type: 'audio'\n  fixedRatio: boolean\n  color: string,\n  loop: boolean,\n  autoplay: boolean,\n  src: string\n}\n\n\nexport type PPTElement = PPTTextElement | PPTImageElement | PPTShapeElement | PPTLineElement | PPTChartElement | PPTTableElement | PPTLatexElement | PPTVideoElement | PPTAudioElement\n\n\n/**\n  * Element animation\n  *\n  * id: animation id\n  *\n  * elId: element ID\n  *\n  * effect: animation effect\n  *\n  * type: animation type (entry, exit, emphasis)\n  *\n  * duration: animation duration\n  *\n  * trigger: animation trigger method (click - when clicked, meantime - at the same time as the previous animation, auto - after the previous animation)\n  */\nexport interface PPTAnimation {\n  id: string\n  elId: string\n  effect: string\n  type: 'in' | 'out' | 'attention'\n  duration: number\n  trigger: 'click' | 'meantime' | 'auto'\n}\n\n/**\n  * Slide background\n  *\n  * type: background type (solid color, picture, gradient)\n  *\n  * color?: background color (solid color)\n  *\n  * image?: Image address (image)\n  *\n  * imageSize?: Image filling method\n  *\n  * gradientType?: Gradient type (linear, radial)\n  *\n  * gradientColor?: gradient color\n  *\n  * gradientRotate?: gradient angle (linear)\n  */\nexport interface SlideBackground {\n  type: 'solid' | 'image' | 'gradient'\n  color?: string\n  image?: string\n  imageSize?: 'cover' | 'contain' | 'repeat'\n  gradientType?: 'linear' | 'radial'\n  gradientColor?: [string, string]\n  gradientRotate?: number\n}\n\n\nexport type TurningMode = 'no' | 'fade' | 'slideX' | 'slideY'\n\n/**\n  * Slideshow page\n  *\n  * id: page ID\n  *\n  * elements: collection of elements\n  *\n  * remark?: remark\n  *\n  * background?: page background\n  *\n  * animations?: element animation collection\n  *\n  * turningMode?: page turning mode\n  */\nexport interface Slide {\n  id: string\n  elements: PPTElement[]\n  remark?: string\n  background?: SlideBackground\n  animations?: PPTAnimation[]\n  turningMode?: TurningMode\n}\n\n/**\n * Slideshow theme\n *\n * backgroundColor: page background color\n *\n * themeColor: The theme color, used for the shape color created by default, etc.\n *\n * fontColor: font color\n *\n * fontName: font\n */\nexport interface SlideTheme {\n  backgroundColor: string\n  themeColor: string\n  fontColor: string\n  fontName: string\n}\n","/* eslint-disable max-lines */\n\n// Non-professional designers can use this app to draw basic shapes: https://github.com/supernovate07/svgPathCreator\n\nimport { ShapePathFormulasKeys } from '@/types/slides'\n\nexport interface ShapePoolItem {\n  viewBox: [number, number]\n  path: string\n  special?: boolean\n  pathFormula?: ShapePathFormulasKeys\n  outlined?: boolean\n  pptxShapeType?: string\n}\n\ninterface ShapeListItem {\n  type: string\n  children: ShapePoolItem[]\n}\n\nexport const SHAPE_PATH_FORMULAS = {\n  [ShapePathFormulasKeys.ROUND_RECT]: {\n    editable: true,\n    defaultValue: 0.125,\n    range: [0, 0.5],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M ${radius} 0 L ${width - radius} 0 Q ${width} 0 ${width} ${radius} L ${width} ${height - radius} Q ${width} ${height} ${width - radius} ${height} L ${radius} ${height} Q 0 ${height} 0 ${height - radius} L 0 ${radius} Q 0 0 ${radius} 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.CUT_RECT_DIAGONAL]: {\n    editable: true,\n    defaultValue: 0.2,\n    range: [0, 0.9],\n    relative: 'right',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M 0 ${height - radius} L 0 0 L ${width - radius} 0 L ${width} ${radius} L ${width} ${height} L ${radius} ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.CUT_RECT_SINGLE]: {\n    editable: true,\n    defaultValue: 0.2,\n    range: [0, 0.9],\n    relative: 'right',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M 0 ${height} L 0 0 L ${width - radius} 0 L ${width} ${radius} L ${width} ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.CUT_RECT_SAMESIDE]: {\n    editable: true,\n    defaultValue: 0.2,\n    range: [0, 0.5],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M 0 ${radius} L ${radius} 0 L ${width - radius} 0 L ${width} ${radius} L ${width} ${height} L 0 ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.ROUND_RECT_DIAGONAL]: {\n    editable: true,\n    defaultValue: 0.125,\n    range: [0, 1],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M ${radius} 0 L ${width} 0 L ${width} ${height - radius} Q ${width} ${height} ${width - radius} ${height} L 0 ${height} L 0 ${radius} Q 0 0 ${radius} 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.ROUND_RECT_SINGLE]: {\n    editable: true,\n    defaultValue: 0.125,\n    range: [0, 1],\n    relative: 'right',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M 0 0 L ${width - radius} 0 Q ${width} 0 ${width} ${radius} L ${width} ${height} L 0 ${height} L 0 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.ROUND_RECT_SAMESIDE]: {\n    editable: true,\n    defaultValue: 0.125,\n    range: [0, 0.5],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M 0 ${radius} Q 0 0 ${radius} 0 L ${width - radius} 0 Q ${width} 0 ${width} ${radius} L ${width} ${height} L 0 $ {height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.CUT_ROUND_RECT]: {\n    editable: true,\n    defaultValue: 0.125,\n    range: [0, 0.5],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const radius = Math.min(width, height) * value\n      return `M ${radius} 0 L ${width - radius} 0 L ${width} ${radius} L ${width} ${height} L 0 ${height} L 0 ${radius} Q 0 0 $ {radius} 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.MESSAGE]: {\n    formula: (width: number, height: number) => {\n      const arrowWidth = width * 0.2\n      const arrowheight = height * 0.2\n      return `M 0 0 L ${width} 0 L ${width} ${height - arrowheight} L ${width / 2} ${height - arrowheight} L ${width / 2 - arrowWidth} ${height} L $ {width / 2 - arrowWidth} ${height - arrowheight} L 0 ${height - arrowheight} Z`\n    }\n  },\n  [ShapePathFormulasKeys.ROUND_MESSAGE]: {\n    formula: (width: number, height: number) => {\n      const radius = Math.min(width, height) * 0.125\n      const arrowWidth = width * 0.2\n      const arrowheight = height * 0.2\n      return `M 0 ${radius} Q 0 0 ${radius} 0 L ${width - radius} 0 Q ${width} 0 ${width} ${radius} L ${width} ${height - radius - arrowheight} Q ${width} ${height - arrowheight} ${width - radius} ${height - arrowheight} L ${width / 2} ${height - arrowheight} L ${width / 2 - arrowWidth} ${height} L ${width / 2 - arrowWidth} ${height - arrowheight} L ${radius} ${height - arrowheight} Q 0 ${height - arrowheight} 0 ${height - radius - arrowheight} L 0 ${radius} Z`\n    }\n  },\n  [ShapePathFormulasKeys.L]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0.1, 0.9],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const lineWidth = Math.min(width, height) * value\n      return `M 0 0 L 0 ${height} L ${width} ${height} L ${width} ${height - lineWidth} L ${lineWidth} ${height - lineWidth} L ${lineWidth} 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.RING_RECT]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0.1, 0.45],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const lineWidth = Math.min(width, height) * value\n      return `M 0 0 ${width} 0 ${width} ${height} L 0 ${height} L 0 0 Z M ${lineWidth} ${lineWidth} L ${lineWidth} ${height - lineWidth} L ${width - lineWidth} ${height - lineWidth} L ${width - lineWidth} ${lineWidth} Z`\n    }\n  },\n  [ShapePathFormulasKeys.PLUS]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0.1, 0.9],\n    relative: 'center',\n    getBaseSize: (width: number, height: number) => Math.min(width, height),\n    formula: (width: number, height: number, value: number) => {\n      const lineWidth = Math.min(width, height) * value\n      return `M ${width / 2 - lineWidth / 2} 0 L ${width / 2 - lineWidth / 2} ${height / 2 - lineWidth / 2} L 0 ${height / 2 - lineWidth / 2} L 0 ${height / 2 + lineWidth / 2} L ${width / 2 - lineWidth / 2} ${height / 2 + lineWidth / 2} L ${width / 2 - lineWidth / 2} ${height} L ${width / 2 + lineWidth / 2} ${height} L ${width / 2 + lineWidth / 2} ${height / 2 + lineWidth / 2} L ${width} ${height / 2 + lineWidth / 2} L ${width} ${height / 2 - lineWidth / 2} L ${width / 2 + lineWidth / 2} ${height / 2 - lineWidth / 2} L ${width / 2 + lineWidth / 2} 0 Z`\n    }\n  },\n  [ShapePathFormulasKeys.TRIANGLE]: {\n    editable: true,\n    defaultValue: 0.5,\n    range: [0, 1],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => width,\n    formula: (width: number, height: number, value: number) => {\n      const vertex = width * value\n      return `M ${vertex} 0 L 0 ${height} L ${width} ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.PARALLELOGRAM_LEFT]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0, 0.9],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => width,\n    formula: (width: number, height: number, value: number) => {\n      const point = width * value\n      return `M ${point} 0 L ${width} 0 L ${width - point} ${height} L 0 ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.PARALLELOGRAM_RIGHT]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0, 0.9],\n    relative: 'right',\n    getBaseSize: (width: number, height: number) => width,\n    formula: (width: number, height: number, value: number) => {\n      const point = width * value\n      return `M 0 0 L ${width - point} 0 L ${width} ${height} L ${point} ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.TRAPEZOID]: {\n    editable: true,\n    defaultValue: 0.25,\n    range: [0, 0.5],\n    relative: 'left',\n    getBaseSize: (width: number, height: number) => width,\n    formula: (width: number, height: number, value: number) => {\n      const point = width * value\n      return `M ${point} 0 L ${width - point} 0 L ${width} ${height} L 0 ${height} Z`\n    }\n  },\n  [ShapePathFormulasKeys.BULLET]: {\n    editable: true,\n    defaultValue: 0.2,\n    range: [0, 1],\n    relative: 'top',\n    getBaseSize: (width: number, height: number) => height,\n    formula: (width: number, height: number, value: number) => {\n      const point = height * value\n      return `M ${width / 2} 0 L 0 ${point} L 0 ${height} L ${width} ${height} L ${width} ${point} Z`\n    }\n  },\n  [ShapePathFormulasKeys.INDICATOR]: {\n    editable: true,\n    defaultValue: 0.2,\n    range: [0, 0.9],\n    relative: 'right',\n    getBaseSize: (width: number, height: number) => width,\n    formula: (width: number, height: number, value: number) => {\n      const point = width * value\n      return `M ${width} ${height / 2} L ${width - point} 0 L 0 0 L ${point} ${height / 2} L 0 ${height} L ${width - point} ${height} Z`\n    }\n  },\n}\n\nexport const SHAPE_LIST: ShapeListItem[] = [\n  {\n    type: 'rectangle',\n    children: [\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n        pptxShapeType: 'rect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 150 0 Q 200 0 200 50 L 200 150 Q 200 200 150 200 L 50 200 Q 0 200 0 150 L 0 50 Q 0 0 50 0 Z',\n        pathFormula: ShapePathFormulasKeys.ROUND_RECT,\n        pptxShapeType: 'roundRect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 200 L 0 0 L 150 0 L 200 50 L 200 200 Z',\n        pathFormula: ShapePathFormulasKeys.CUT_RECT_SINGLE,\n        pptxShapeType: 'snip1Rect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 50 L 50 0 L 150 0 L 200 50 L 200 200 L 0 200 Z',\n        pathFormula: ShapePathFormulasKeys.CUT_RECT_SAMESIDE,\n        pptxShapeType: 'snip2SameRect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 150 L 0 0 L 150 0 L 200 50 L 200 200 L 50 200 Z',\n        pathFormula: ShapePathFormulasKeys.CUT_RECT_DIAGONAL,\n        pptxShapeType: 'snip2DiagRect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 150 0 L 200 50 L 200 200 L 0 200 L 0 50 Q 0 0 50 0 Z',\n        pathFormula: ShapePathFormulasKeys.CUT_ROUND_RECT,\n        pptxShapeType: 'snipRoundRect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 L 0 0 Z',\n        pathFormula: ShapePathFormulasKeys.ROUND_RECT_SINGLE,\n        pptxShapeType: 'round1Rect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 50 Q 0 0 50 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 Z',\n        pathFormula: ShapePathFormulasKeys.ROUND_RECT_SAMESIDE,\n        pptxShapeType: 'round2SameRect',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 200 0 L 200 150 Q 200 200 150 200 L 0 200 L 0 50 Q 0 0 50 0 Z',\n        pathFormula: ShapePathFormulasKeys.ROUND_RECT_DIAGONAL,\n        pptxShapeType: 'round2DiagRect',\n      },\n    ]\n  },\n\n  {\n    type: 'common shape',\n    children: [\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n        pptxShapeType: 'ellipse',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 200 L 200 200 L 100 0 Z',\n        pathFormula: ShapePathFormulasKeys.TRIANGLE,\n        pptxShapeType: 'triangle',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 0 200 L 200 200 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 70 20 L 0 160 Q 0 200 40 200 L 160 200 Q 200 200 200 160 L 130 20 Q 100 -20 70 20 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 200 0 L 150 200 L 0 200 L 50 0 Z',\n        pathFormula: ShapePathFormulasKeys.PARALLELOGRAM_LEFT,\n        pptxShapeType: 'parallelogram',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 150 0 L 200 200 L 50 200 L 0 0 Z',\n        pathFormula: ShapePathFormulasKeys.PARALLELOGRAM_RIGHT,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 150 0 L 200 200 L 0 200 L 50 0 Z',\n        pathFormula: ShapePathFormulasKeys.TRAPEZOID,\n        pptxShapeType: 'trapezoid',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 100 L 100 200 L 200 100 L 100 0 Z',\n        pptxShapeType: 'diamond',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 50 L 0 200 L 200 200 L 200 50 L 100 0 Z',\n        pathFormula: ShapePathFormulasKeys.BULLET,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 100 L 150 0 L 0 0 L 50 100 L 0 200 L 150 200 L 200 100 Z',\n        pathFormula: ShapePathFormulasKeys.INDICATOR,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 C 80 20 120 20 200 0 C 180 80 180 120 200 200 C 80 180 120 180 0 200 C 20 120 20 80 0 0 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 10 10 C 60 0 140 0 190 10 C 200 60 200 140 190 190 C 140 200 60 200 10 190 C 0 140 0 60 10 10 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 200 A 50 100 0 1 1 200 200 L 0 200 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 40 20 A 100 100 0 1 0 200 100 L 100 100 L 40 20 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 A 100 100 102 1 0 200 100 L 100 100 L 100 0 Z',\n        pptxShapeType: 'pie',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 160 20 A 100 100 0 1 0 200 100 L 100 100 L 160 20 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 A 100 100 102 1 0 200 100 L 100 0 Z',\n        pptxShapeType: 'chord',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 A 100 100 102 1 0 200 100 L 200 0 L 100 0 Z',\n        pptxShapeType: 'teardrop',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 Q 200 200 0 200 L 0 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 90 L 50 200 L 150 200 L 200 90 L 100 0 Z',\n        pptxShapeType: 'pentagon',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 40 0 L 160 0 L 200 100 L 160 200 L 40 200 L 0 100 Z',\n        pptxShapeType: 'hexagon',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 60 L 0 140 L 100 200 L 200 140 L 200 60 L 100 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 60 0 L 140 0 L 200 60 L 200 140 L 140 200 L 60 200 L 0 140 L 0 60 L 60 0 Z',\n        pptxShapeType: 'octagon',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 75 0 L 125 0 L 175 25 L 200 75 L 200 125 L 175 175 L 125 200 L 75 200 L 25 175 L 0 125 L 0 75 L 25 25 L 75 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 150 0 A 50 100 0 1 1 150 200 L 0 200 L 0 0 L 150 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 A 25 50 0 1 0 50 200 L 150 200 A 25 50 0 1 0 150 0 L 50 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 150 0 A 50 100 0 1 1 150 200 L 0 200 A 50 100 0 0 0 0 0 L 150 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 L 200 200 L 0 200 L 0 100 L 200 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 100 L 200 200 L 0 200 L 0 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 L 100 0 L 0 100 L 0 200 L 200 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 50 0 L 150 0 L 150 50 L 200 50 L 200 150 L 150 150 L 150 200 L 50 200 L 50 150 L 0 150 L 0 50 L 50 50 L 50 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 0 200 L 200 200 L 200 140 L 60 140 L 60 0 L 0 0 Z',\n        pathFormula: ShapePathFormulasKeys.L\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M0 0 L200 0 L200 200 L0 200 L0 0 Z M50 50 L50 150 L150 150 L150 50 Z',\n        pathFormula: ShapePathFormulasKeys.RING_RECT,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M0 100 A100 100 0 1 1 0 101 Z M150 100 A50 50 0 1 0 150 101 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 70 0 L 70 70 L 0 70 L 0 130 L 70 130 L 70 200 L 130 200 L 130 130 L 200 130 L 200 70 L 130 70 L 130 0 L 70 0 Z',\n        pathFormula: ShapePathFormulasKeys.PLUS,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 40 0 L 0 40 L 60 100 L 0 160 L 40 200 L 100 140 L 160 200 L 200 160 L 140 100 L 200 40 L 160 0 L 100 60 L 40 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 0 L 200 160 L 100 160 L 60 200 L 60 160 L 0 160 Z',\n        pathFormula: ShapePathFormulasKeys.MESSAGE,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 40 Q 0 0 40 0 L 160 0 Q 200 0 200 40 L 200 120 Q 200 160 160 160 L 100 160 L 60 200 L 60 160 L 40 160 Q 0 160 0 120 L 0 40 Z',\n        pathFormula: ShapePathFormulasKeys.ROUND_MESSAGE,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 180 160 A 100 100 0 1 0 100 200 L 200 200 L 200 160 L 180 160 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 L 0 0 L 200 200 L 0 200 L 200 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 20 C 60 60 140 -40 200 20 L 200 180 C 140 140 60 240 0 180 L 0 20 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 Q 0 50 0 175 Q 100 225 200 175 Q 200 50 100 0 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 100 A 50 50 0 1 1 200 100 L 100 200 L 0 100 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 120 80 L 200 100 L 120 120 L 100 200 L 80 120 L 0 100 L 80 80 L 100 0 Z',\n        pptxShapeType: 'star4',\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1018.67652554 400.05983681l-382.95318779-5.89158658L512 34.78141155 388.27666225 394.16825023l-382.95318779 5.89158658L311.68602415 629.83174977l-117.83174978 365.27842665 312.25413766-223.88032637 312.25413904 223.88032637-117.83175116-365.27842665 318.14572563-229.77191296z',\n        pptxShapeType: 'star5',\n        special: true,\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 60 60 L 0 100 L 60 140 L 100 200 L 140 140 L 200 100 L 140 60 L 100 0 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 140 60 L 200 60 L 160 100 L 200 140 L 140 140 L 100 200 L 60 140 L 0 140 L 40 100 L 0 60 L 60 60 L 100 0 Z',\n        pptxShapeType: 'star6',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 80 40 L 20 20 L 40 80 L 0 100 L 40 120 L 20 180 L 80 160 L 100 200 L 120 160 L 180 180 L 160 120 L 200 100 L 160 80 L 180 20 L 120 40 L 100 0 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 C 80 40 80 160 200 200 C -60 200 -60 0 200 0 Z',\n      },\n    ],\n  },\n\n  {\n    type: 'arrow',\n    children: [\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 100 L 50 100 L 50 200 L 150 200 L 150 100 L 200 100 L 100 0 Z',\n        pptxShapeType: 'upArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 200 L 200 100 L 150 100 L 150 0 L 50 0 L 50 100 L 0 100 L 100 200 Z',\n        pptxShapeType: 'downArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 100 L 100 0 L 100 50 L 200 50 L 200 150 L 100 150 L 100 200 L 0 100 Z',\n        pptxShapeType: 'leftArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 100 L 100 0 L 100 50 L 0 50 L 0 150 L 100 150 L 100 200 L 200 100 Z',\n        pptxShapeType: 'rightArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 0 60 L 60 60 L 60 140 L 0 140 L 100 200 L 200 140 L 140 140 L 140 60 L 200 60 L 100 0 Z',\n        pptxShapeType: 'upDownArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 100 L 60 0 L 60 60 L 140 60 L 140 0 L 200 100 L 140 200 L 140 140 L 60 140 L 60 200 L 0 100 Z',\n        pptxShapeType: 'leftRightArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 100 0 L 60 40 L 80 40 L 80 80 L 40 80 L 40 60 L 0 100 L 40 140 L 40 120 L 80 120 L 80 160 L 60 160 L 100 200 L 140 160 L 120 160 L 120 120 L 160 120 L 160 140 L 200 100 L 160 60 L 160 80 L 120 80 L 120 40 L 140 40 L 100 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 100 L 100 0 L 100 50 L 200 50 L 150 100 L 200 150 L 100 150 L 100 200 L 0 100 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 100 L 100 0 L 100 50 L 0 50 L 50 100 L 0 150 L 100 150 L 100 200 L 200 100 Z',\n        pptxShapeType: 'notchedRightArrow',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 100 L 80 20 L 80 80 L 120 80 L 120 0 L 200 0 L 200 200 L 120 200 L 120 120 L 80 120 L 80 180 L 0 100 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 100 L 120 20 L 120 80 L 80 80 L 80 0 L 0 0 L 0 200 L 80 200 L 80 120 L 120 120 L 120 180 L 200 100 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 120 0 L 200 100 L 120 200 L 0 200 L 80 100 L 0 0 Z',\n        pptxShapeType: 'chevron',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 80 0 L 200 0 L 120 100 L 200 200 L 80 200 L 0 100 L 80 0 Z',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 140 0 L 200 100 L 140 200 L 0 200 L 0 100 L 0 0 Z',\n        pptxShapeType: 'homePlate',\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 60 0 L 200 0 L 200 100 L 200 200 L 60 200 L 0 100 L 60 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 200 100 L 0 200 L 60 100 L 0 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 L 0 100 L 200 200 L 140 100 L 200 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 0 L 80 0 L 200 100 L 80 200 L 0 200 L 120 100 L 0 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 200 0 L 120 0 L 0 100 L 120 200 L 200 200 L 80 100 L 200 0 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 200 L 180 200 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 160 L 0 160 L 0 200 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 0 200 L 0 20 L 160 20 L 160 0 L 200 40 L 160 80 L 160 60 L 40 60 L 40 200 L 0 200 Z'\n      },\n      {\n        viewBox: [200, 200],\n        path: 'M 40 180 L 180 180 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 140 L 40 140 L 40 120 L 0 160 L 40 200 L 40 180 Z'\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M398.208 302.912V64L0 482.112l398.208 418.176V655.36c284.48 0 483.584 95.552 625.792 304.64-56.896-298.688-227.584-597.312-625.792-657.088z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M625.792 302.912V64L1024 482.112l-398.208 418.176V655.36C341.312 655.36 142.208 750.912 0 960c56.896-298.688 227.584-597.312 625.792-657.088z',\n        special: true,\n      },\n    ],\n  },\n\n  {\n    type: 'other shapes',\n    children: [\n      {\n        viewBox: [1024, 1024],\n        path: 'M995.336 243.4016c-15.7584-36.5736-38.3376-69.26639999-66.91440001-97.37280001-28.5768-27.98879999-61.73999999-49.8624-98.78399999-65.26799998-38.22-15.876-78.6744-23.8728-120.4224-23.87280001-57.97680001 0-114.5424 15.876-163.69919999 45.864-11.76 7.17360001-22.932 15.05279999-33.51600001 23.63760001-10.584-8.5848-21.75600001-16.46400001-33.51600001-23.63760001-49.1568-29.98799999-105.7224-45.86399999-163.69919999-45.864-41.74799999 0-82.2024 7.9968-120.4224 23.87280001-36.9264 15.28799999-70.2072 37.27919999-98.78399999 65.26799998-28.6944 28.10640001-51.156 60.79919999-66.91440001 97.37280001-16.34639999 37.9848-24.696 78.3216-24.696 119.83439999 0 39.1608 7.9968 79.96800001 23.8728 121.48080001 13.28880001 34.692 32.34000001 70.67760001 56.6832 107.016 38.57279999 57.5064 91.61040001 117.4824 157.4664 178.28160001 109.1328 100.78319999 217.2072 170.4024 221.79359999 173.22479998l27.87120001 17.8752c12.348 7.8792 28.224 7.8792 40.572 0l27.87119999-17.8752c4.58639999-2.94 112.54319999-72.44159999 221.79360001-173.22479998 65.85599999-60.79919999 118.89359999-120.7752 157.4664-178.28160001 24.3432-36.33839999 43.512-72.324 56.68319999-107.016 15.876-41.5128 23.8728-82.32 23.87280001-121.48080001 0.1176-41.5128-8.232-81.8496-24.5784-119.83439999z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M985.20746667 343.50079998l-303.32586667-44.08319999L546.28693333 24.5248c-3.70346666-7.5264-9.79626667-13.6192-17.32266665-17.32266668-18.87573334-9.3184-41.81333333-1.55306667-51.25120001 17.32266668L342.1184 299.41759999l-303.32586667 44.08319999c-8.36266667 1.19466667-16.00853333 5.13706667-21.8624 11.11040001-14.69440001 15.17226667-14.45546667 39.30453334 0.71679999 54.1184l219.46026668 213.9648-51.84853333 302.1312c-1.43359999 8.24320001-0.11946667 16.8448 3.82293333 24.25173333 9.79626667 18.6368 32.9728 25.92426667 51.6096 16.00853334L512 822.44266665l271.3088 142.64320001c7.40693333 3.9424 16.00853333 5.25653333 24.25173333 3.82293333 20.78719999-3.584 34.7648-23.296 31.1808-44.0832l-51.84853333-302.1312 219.46026668-213.9648c5.97333334-5.85386666 9.91573333-13.49973334 11.11039999-21.8624 3.2256-20.90666667-11.34933333-40.26026667-32.256-43.36640001z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M852.65066667 405.84533333C800.54044445 268.40177778 667.76177778 170.66666667 512.22755555 170.66666667S223.91466667 268.288 171.80444445 405.73155555C74.29688889 431.33155555 2.27555555 520.07822222 2.27555555 625.77777778c0 125.72444445 101.83111111 227.55555555 227.44177778 227.55555555h564.56533334C919.89333333 853.33333333 1021.72444445 751.50222222 1021.72444445 625.77777778c0-105.472-71.79377778-194.21866667-169.07377778-219.93244445z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M926.25224691 323.7371485H654.6457886L898.88200917 15.14388241c5.05486373-6.53433603 0.49315743-16.02761669-7.76722963-16.02761668H418.30008701c-3.45210206 0-6.78091476 1.84934039-8.50696579 4.93157436L90.35039154 555.76772251c-3.82197013 6.53433603 0.86302552 14.7947231 8.50696578 14.79472311h215.01664245l-110.22068713 440.88274851c-2.34249783 9.61657002 9.24670194 16.39748478 16.39748477 9.49328065L933.03316167 340.62779071c6.41104668-6.0411786 2.09591911-16.8906422-6.78091476-16.89064221z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M878.47822222 463.30311111c-22.18666667-49.83466667-53.93066667-93.98044445-94.32177777-131.072l-33.10933334-30.37866666c-4.89244445-4.32355555-12.62933333-2.38933333-14.79111111 3.75466666l-14.79111111 42.43911111c-9.216 26.624-26.16888889 53.81688889-50.176 80.55466667-1.59288889 1.70666667-3.41333333 2.16177778-4.66488889 2.27555556-1.25155555 0.11377778-3.18577778-0.11377778-4.89244445-1.70666667-1.59288889-1.36533333-2.38933333-3.41333333-2.27555555-5.46133333 4.20977778-68.49422222-16.27022222-145.74933333-61.09866667-229.83111112C561.26577778 124.01777778 509.72444445 69.51822222 445.32622222 31.51644445l-46.99022222-27.648c-6.144-3.64088889-13.99466667 1.13777778-13.65333333 8.30577777l2.50311111 54.61333333c1.70666667 37.31911111-2.61688889 70.31466667-12.85688889 97.73511112-12.51555555 33.56444445-30.49244445 64.73955555-53.47555556 92.72888888-16.15644445 19.56977778-34.24711111 37.20533333-54.04444444 52.45155556-47.90044445 36.75022222-87.38133333 84.65066667-114.11911111 138.24C125.72444445 502.10133333 111.50222222 562.74488889 111.50222222 623.50222222c0 53.70311111 10.58133333 105.69955555 31.51644445 154.73777778 20.25244445 47.21777778 49.152 89.77066667 85.90222222 126.17955555 36.864 36.40888889 79.64444445 65.08088889 127.31733333 84.992C405.61777778 1010.11911111 457.95555555 1020.58666667 512 1020.58666667s106.38222222-10.46755555 155.76177778-31.06133334c47.67288889-19.91111111 90.56711111-48.46933333 127.31733333-84.992 36.864-36.40888889 65.76355555-78.96177778 85.90222222-126.17955555 20.93511111-49.03822222 31.51644445-101.03466667 31.51644445-154.73777778 0-55.52355555-11.37777778-109.45422222-34.01955556-160.31288889z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M968.20337778 20.11591112H705.44042667c-22.17301333 0-41.92483556 15.16430222-47.14951111 37.33731555C642.36202666 124.73685332 582.08711111 173.03324444 512 173.03324444s-130.36202666-48.29639112-146.29091556-115.58001777c-5.22467555-22.17301333-24.84906667-37.33731556-47.14951111-37.33731555H55.79662222c-30.96576 0-56.06968889 25.10392889-56.06968888 56.06968888v321.12639999c0 30.96576 25.10392889 56.06968889 56.06968888 56.06968889h95.57333334v494.43271112c0 30.96576 25.10392889 56.06968889 56.06968889 56.06968888h609.1207111c30.96576 0 56.06968889-25.10392889 56.06968889-56.06968888V453.38168888h95.57333334c30.96576 0 56.06968889-25.10392889 56.06968888-56.06968889V76.1856c0-30.96576-25.10392889-56.06968889-56.06968888-56.06968888z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.94648889 239.80714666H523.46880001L373.99210666 96.82944c-1.91146667-1.78403556-4.46008889-2.80348444-7.00871111-2.80348445H43.05351111c-22.55530667 0-40.77795555 18.22264888-40.77795555 40.77795557v754.39217776c0 22.55530667 18.22264888 40.77795555 40.77795555 40.77795557h937.89297778c22.55530667 0 40.77795555-18.22264888 40.77795555-40.77795557V280.58510222c0-22.55530667-18.22264888-40.77795555-40.77795555-40.77795556z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M972.60904597 164.57058577L841.30587843 33.39070759c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480282-29.3428675-26.75379095 0-51.90482023 10.47959553-70.76809219 29.3428675L558.60337778 174.68031322c-18.86327195 18.86327195-29.34286748 44.1375906-29.34286749 70.64480283 0 26.75379095 10.47959553 51.90482023 29.34286749 70.76809218l103.31648301 103.31648302c-24.28800376 53.50758189-57.69942011 101.59043198-99.24793416 143.13894603-41.42522469 41.67180341-89.63136414 75.08321976-143.13894603 99.61780223L316.21649759 558.84995649c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480283-29.34286747-26.75379095 0-51.90482023 10.47959553-70.76809217 29.34286747L33.39070759 700.01627278c-18.86327195 18.86327195-29.34286748 44.1375906-29.3428675 70.76809217 0 26.75379095 10.47959553 51.90482023 29.3428675 70.76809219l131.05658883 131.05658883c30.08260365 30.205893 71.63111769 47.34311394 114.28923598 47.34311394 9.00012323 0 17.63037836-0.73973616 26.13734414-2.21920846 166.19405621-27.37023774 331.03192945-115.76870829 464.06114804-248.67463751C901.84095379 636.27567408 990.11613498 471.56109018 1017.85624079 304.87387654c8.38367642-50.91850535-8.50696579-103.31648302-45.24719482-140.30329077z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M910.60451556 640.96028445c-20.38897778-65.49959112-43.83630221-120.54983112-79.89930667-210.64362666C836.31217778 193.67708444 737.93535999 2.27555556 511.36284444 2.27555556 282.24170667 2.27555556 186.03121778 197.50001778 192.14791111 430.31665779c-36.19043555 90.22122667-59.51032888 144.88917333-79.89930667 210.64362666-43.32657778 139.53706668-29.30915556 197.26336001-18.60494222 198.53767111 22.9376 2.80348444 89.32920888-105.00323556 89.32920889-105.00323556 0 62.44124445 32.11264001 143.86972444 101.69002667 202.61546667-33.64181333 10.32192-109.20846222 38.10190221-91.24067556 68.55793777 14.52714667 24.59420444 250.01984 15.67402668 317.94062222 8.02816 67.92078222 7.64586667 303.41347556 16.56604444 317.94062223-8.02816 17.96778667-30.32860444-57.72629333-58.23601779-91.24067555-68.55793777 69.57738667-58.87317334 101.69002667-140.30165333 101.69002667-202.61546667 0 0 66.39160889 107.80672 89.32920888 105.00323556 10.83164445-1.40174222 24.84906667-59.12803556-18.47751111-198.53767111z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1016.86992592 199.24764445c-37.13706667 16.01991111-77.55093333 27.54939259-119.17842962 32.03982222 42.96248889-25.60758518 75.60912592-66.02145185 91.02222222-114.08118519-39.68568889 23.66577778-84.58998518 41.02068148-131.31472593 50.00154074C819.53374815 126.79395555 765.76995555 101.79318518 706.18074075 101.79318518c-114.688 0-206.92385185 92.96402963-206.92385186 207.04521482 0 16.01991111 1.94180741 32.03982222 5.09724444 47.45291852-171.72859259-8.98085925-324.88865185-91.02222222-426.71217778-216.63288889-17.96171852 30.82619259-28.15620741 66.02145185-28.1562074 104.49351112 0 71.84687408 36.53025185 135.19834075 92.23585185 172.45677036-33.98162963-1.33499259-66.02145185-10.92266667-93.57084445-26.33576296v2.54862222c0 100.6098963 71.1186963 183.98625185 165.90317037 203.1616-17.3549037 4.49042963-35.92343703 7.03905185-54.49197037 7.03905185-13.47128889 0-26.2144-1.33499259-39.07887407-3.15543704C146.69748148 681.90814815 223.03478518 741.49736297 313.93564445 743.43917037c-71.1186963 55.7056-160.19911111 88.4736-256.9253926 88.4736-17.3549037 0-33.37481482-0.60681482-50.00154074-2.54862222C98.75911111 888.22518518 207.62168889 922.20681482 324.85831111 922.20681482 705.45256297 922.20681482 913.71140741 606.90583703 913.71140741 333.23235555c0-8.98085925 0-17.96171852-0.60681482-26.94257777 40.2925037-29.4912 75.60912592-66.02145185 103.76533333-107.04213333z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M917.96720197 1.08889505H106.03279803C53.56084718 1.08889505 9.37393998 45.27580225 9.37393998 97.74775309v5.52336372c0 19.33177108 8.28504494 41.42522469 22.0934536 55.23363205l331.40179753 392.15879462v325.87843379c0 16.57008987 8.28504494 30.37849854 22.09345359 35.90186098l209.88780469 104.94390299 2.76168121 2.76168121c27.61681602 11.04672615 55.23363335-8.28504494 55.23363335-38.66354218V550.66354348l331.40179753-392.15879462c35.90186097-41.42522469 30.37849854-102.18222047-11.04672616-135.32240022-11.04672615-13.80840865-33.14017975-22.0934536-55.23363335-22.09345359z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M491.70164031 97.48884502a25.89076502 25.89076502 0 0 1 40.59671938 0L745.66415762 367.01171317a25.89076502 25.89076502 0 0 0 30.49932208 7.72839349l208.00640948-89.14190458a25.89076502 25.89076502 0 0 1 35.56096592 29.06238339l-115.18801541 554.96855704A103.56306132 103.56306132 0 0 1 803.14165689 952.14301275H220.85834311a103.56306132 103.56306132 0 0 1-101.4011828-82.51387024l-115.18801541-554.96855704a25.89076502 25.89076502 0 0 1 35.54802012-29.06238339l208.01935528 89.14190458a25.89076502 25.89076502 0 0 0 30.49932208-7.72839349l213.36579793-269.52286815z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M643.02466884 387.7801525c19.85376751-88.69205333 33.718272-152.84087467 41.61900049-192.57389433C704.52292267 95.17283515 652.90057916 2.27555515 550.58614084 2.27555515c-92.26012484 0-138.59407685 45.84971417-165.91530666 137.49816969l-0.70087152 2.67605334c-16.40038399 74.13942085-41.47882668 131.61085116-74.6746315 172.73287031a189.06953915 189.06953915 0 0 1-143.04142182 70.44391902l-26.17434983 0.5606965C77.66380049 387.52529067 27.76177817 438.90551468 27.76177817 501.84374084V881.55022182c0 77.4144 62.25009818 140.17422182 139.05282766 140.17422303h492.82707951c101.23127467 0 191.59267516-63.995904 225.93535999-159.98976l102.37815468-286.22301868c26.04691951-72.82688-11.39234134-153.15945284-83.63303784-179.42300483a138.04612267 138.04612267 0 0 0-47.17499733-8.30850884H643.02466884z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 512c140.82958222 0 254.86222222-114.03264 254.86222222-254.86222222S652.82958222 2.27555555 512 2.27555555a254.78940445 254.78940445 0 0 0-254.86222222 254.86222223C257.13777778 397.96736 371.17041778 512 512 512z m0 72.81777778c-170.10232889 0-509.72444445 97.57582222-509.72444445 291.27111111v145.63555556h1019.4488889v-145.63555556c0-193.69528889-339.62211555-291.27111111-509.72444445-291.27111111z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1019.81297778 564.50161779l-138.89991111-472.51456c-8.66531556-25.99594668-29.43658667-43.45400889-57.21656889-43.45400891s-50.33528889 15.67402668-59.00060446 41.66997334l-92.00526221 274.48661334H351.69166222L259.6864 90.33045333c-8.66531556-25.99594668-31.22062222-41.66997333-59.00060444-41.66997332s-50.33528889 17.33063112-57.2165689 43.45400887L4.69674667 564.50161779c-5.22467555 17.33063112 1.78403556 36.44529778 15.67402667 46.89464887l491.11950221 368.27591113 492.77610666-368.27591113c13.76256-10.32192 20.77127111-29.43658667 15.54659557-46.89464887z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M927.78951111 340.39277037c-12.01493333-47.81700741 12.01493333-124.03294815 89.08041481-150.97552592l-82.40545184-4.36906667s-31.19028148-109.22666667-174.27721483-118.9357037c-143.08693333-9.8304-236.65777778-3.64088889-236.65777777-3.6408889s106.07122963 67.47780741 63.5941926 187.74850371c-31.06891852 63.71555555-79.85682963 116.02299259-132.04290371 175.61220741-1.57771852 1.57771852-3.03407408 3.15543703-4.2477037 4.49042962C278.25493333 624.86755555 7.13007408 934.34311111 7.13007408 934.34311111c298.43152592 78.15774815 498.43768889-7.64586667 616.76657777-110.56165926 24.87940741-0.24272592 43.5693037-0.36408889 56.19105185-0.36408888 164.8109037 0 304.13558518-142.72284445 298.43152593-301.4656-3.88361482-109.1053037-38.71478518-133.74198518-50.72971852-181.5589926z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M997.8886764 504.17210418L537.2729208 43.89182982c-13.97838539-13.97838539-36.56745619-13.97838539-50.5458416 0L26.1113236 504.17210418c-13.41924998 13.41924998-21.02349164 31.64706454-21.02349163 50.65766867 0 39.47496036 32.09437288 71.56933323 71.56933324 71.56933323h48.53295408V954.83524937c0 19.79339373 15.99127289 35.78466661 35.78466663 35.78466662H440.43066677V740.12724968h125.24633315v250.49266631h297.34821416c19.79339373 0 35.78466661-15.99127289 35.78466663-35.78466662V626.39910608h48.53295408c19.01060414 0 37.23841869-7.49241457 50.65766869-21.02349163 27.84494371-27.95677079 27.84494371-73.24673948-0.11182708-101.20351027z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1009.13013121 349.27572283L674.72427717 14.86986879c-8.82158299-8.82158299-20.35749924-13.16451618-31.89341544-13.16451618s-23.07183245 4.34293316-31.89341547 13.16451618L392.29790453 233.6451272c-16.5574327-1.90003326-33.25058207-2.71433322-49.94373146-2.71433324-99.34459624 0-198.68919249 32.70771543-280.25490606 98.12314628-20.90036589 16.69314938-22.52896582 48.04369819-3.66434987 67.04403081l246.59717401 246.59717401-292.33368895 292.06225564c-3.52863319 3.52863319-5.83581644 8.27871636-6.24296642 13.30023282l-4.61436649 50.48659809c-1.22144996 12.75736619 8.95729967 23.6146991 21.57894918 23.6146991 0.6785833 0 1.35716662 0 2.03574992-0.13571666l50.48659809-4.61436649c5.02151649-0.40714999 9.77159962-2.71433322 13.30023282-6.24296643l292.33368896-292.33368896 246.59717402 246.59717401c8.82158299 8.82158299 20.35749924 13.16451618 31.89341544 13.16451618 13.16451618 0 26.19331567-5.70009979 35.15061536-16.82886604 76.40848044-95.40881307 108.16617924-214.83947521 95.27309638-330.33435417l218.63954175-218.63954173c17.50744934-17.37173267 17.50744934-45.8722316 0-63.51539759z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M976.62005979 160.47737905c-0.39452595-0.39452595-80.35178503 78.64217259-239.47725131 237.50462156l-111.6508437-111.65084369 237.89914752-237.89914752c-125.19623464-75.35445635-286.03131335-56.02268482-390.31767264 48.26367449-81.92988882 81.92988882-112.57140424 200.15616502-83.37648398 310.09739626l2.36715569 8.81107954-372.82702222 372.69551356c-8.15353628 8.15353628-8.15353628 21.56741857 0 29.72095487l185.95323084 185.95323084c8.15353628 8.15353628 21.56741857 8.15353628 29.72095485 0l372.56400493-372.56400493 8.81107953 2.3671557c110.07273989 29.32642892 228.29901608-1.18357785 310.36041356-83.24497533 104.41786795-104.2863593 123.74963948-265.12143802 49.97328693-390.05465535z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m220.16 343.26755556l-239.616 332.23111111c-14.44977778 20.13866667-44.37333333 20.13866667-58.82311111 0L291.84 481.16622222c-4.32355555-6.03022222 0-14.44977778 7.39555555-14.44977777h53.36177778c11.60533333 0 22.64177778 5.57511111 29.46844445 15.13244444l81.00977777 112.41244444 178.85866667-248.03555555c6.82666667-9.44355555 17.74933333-15.13244445 29.46844445-15.13244445H724.76444445c7.39555555 0 11.71911111 8.41955555 7.39555555 14.44977778z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m218.45333333 537.03111112c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222H302.64888889c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222v-54.61333334c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h418.70222222c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v54.61333334z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m188.18844445 703.37422223l-75.09333334-0.34133333L512 570.48177778l-112.98133333 134.71288889-75.20711112 0.34133333c-5.00622222 0-9.10222222-3.98222222-9.10222222-9.10222222 0-2.16177778 0.79644445-4.20977778 2.16177778-5.91644445l148.02488889-176.35555555L316.87111111 337.92c-1.36533333-1.70666667-2.16177778-3.75466667-2.16177778-5.91644445 0-5.00622222 4.096-9.10222222 9.10222222-9.10222222l75.20711112 0.34133334L512 458.06933333l112.98133333-134.71288888 75.09333334-0.34133334c5.00622222 0 9.10222222 3.98222222 9.10222222 9.10222222 0 2.16177778-0.79644445 4.20977778-2.16177778 5.91644445L559.21777778 514.27555555l147.91111111 176.35555556c1.36533333 1.70666667 2.16177778 3.75466667 2.16177778 5.91644444 0 5.00622222-4.096 9.10222222-9.10222222 9.10222223z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m218.45333333 537.03111112c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222H548.40888889v172.94222222c0 5.00622222-4.096 9.10222222-9.10222222 9.10222222h-54.61333334c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222V548.40888889H302.64888889c-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222v-54.61333334c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h172.94222222V302.64888889c0-5.00622222 4.096-9.10222222 9.10222222-9.10222222h54.61333334c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v172.94222222h172.94222222c5.00622222 0 9.10222222 4.096 9.10222222 9.10222222v54.61333334z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m163.95377778 517.57511112L427.46311111 700.64355555c-1.59288889 1.13777778-3.41333333 1.70666667-5.34755556 1.70666667-5.00622222 0-9.10222222-4.096-9.10222222-9.10222222V331.88977778c0-1.93422222 0.56888889-3.75466667 1.70666667-5.34755556 2.95822222-4.096 8.64711111-5.00622222 12.74311111-2.048L675.95377778 505.17333333c0.79644445 0.56888889 1.47911111 1.25155555 2.048 2.048 2.95822222 3.98222222 2.048 9.67111111-2.048 12.62933334z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m200.81777778 666.39644445l-32.54044445 44.37333333c-2.95822222 4.096-8.64711111 4.89244445-12.74311111 1.93422222L479.34577778 577.76355555c-2.38933333-1.70666667-3.75466667-4.43733333-3.75466667-7.39555555V257.13777778c0-5.00622222 4.096-9.10222222 9.10222222-9.10222223h54.72711112c5.00622222 0 9.10222222 4.096 9.10222222 9.10222223v281.6l162.24711111 117.30488889c4.096 2.84444445 5.00622222 8.53333333 2.048 12.62933333z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M981.10577778 314.48177778c-25.6-61.09866667-62.464-115.93955555-109.34044445-163.04355556-46.87644445-46.99022222-101.60355555-83.968-162.70222222-109.568C646.59911111 15.58755555 580.38044445 2.27555555 512 2.27555555h-2.27555555c-68.83555555 0.34133333-135.39555555 13.99466667-198.08711112 40.84622223-60.52977778 25.94133333-114.80177778 62.80533333-161.22311111 109.79555555-46.42133333 46.99022222-82.83022222 101.60355555-108.08888889 162.47466667C16.27022222 378.42488889 3.072 445.44 3.41333333 514.38933333c0.34133333 78.96177778 19.22844445 157.35466667 54.49955556 227.44177778v172.94222222c0 28.89955555 23.43822222 52.33777778 52.224 52.33777778h172.71466666c69.97333333 35.38488889 148.13866667 54.272 226.98666667 54.61333334h2.38933333c68.03911111 0 133.91644445-13.19822222 196.03911112-39.02577778 60.75733333-25.37244445 115.37066667-61.78133333 162.13333333-108.31644445 46.87644445-46.53511111 83.74044445-100.92088889 109.568-161.56444444 26.73777778-62.80533333 40.39111111-129.59288889 40.73244445-198.54222223 0.22755555-69.29066667-13.19822222-136.53333333-39.59466667-199.79377777zM284.89955555 566.61333333c-30.03733333 0-54.49955555-24.46222222-54.49955555-54.61333333s24.46222222-54.61333333 54.49955555-54.61333333 54.49955555 24.46222222 54.49955556 54.61333333-24.34844445 54.61333333-54.49955556 54.61333333z m227.10044445 0c-30.03733333 0-54.49955555-24.46222222-54.49955555-54.61333333s24.46222222-54.61333333 54.49955555-54.61333333 54.49955555 24.46222222 54.49955555 54.61333333-24.46222222 54.61333333-54.49955555 54.61333333z m227.10044445 0c-30.03733333 0-54.49955555-24.46222222-54.49955556-54.61333333s24.46222222-54.61333333 54.49955556-54.61333333 54.49955555 24.46222222 54.49955555 54.61333333-24.46222222 54.61333333-54.49955555 54.61333333z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM745.4750693 325.8561164l-267.95558363 371.52436096c-16.15876501 22.52048353-49.62140436 22.52048353-65.78016939 0L253.07805667 477.51948567c-4.83490607-6.74342161 0-16.15876501 8.27023406-16.15876499h59.67291961c12.97790576 0 25.31963967 6.23448413 32.95370188 16.92217123l90.59087157 125.70755774 200.01242995-277.37092701c7.63406221-10.56045272 19.84856175-16.92217125 32.95370189-16.92217124H737.20483524c8.27023407 0 13.10514012 9.41534338 8.27023406 16.158765z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM756.28999077 542.53624885c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962H277.88875885c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962v-61.0724977c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h468.2224823c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v61.0724977z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM720.79160148 697.63494611c5.59831228 6.61618726 0.8906406 16.6677025-7.76129658 16.66770249h-74.94104404c-5.98001539 0-11.70556205-2.67192177-15.64982754-7.25235911L512 575.36271635l-110.43943332 131.68757314c-3.81703111 4.58043732-9.54257777 7.25235911-15.64982754 7.25235911H310.9696951c-8.65193717 0-13.35960887-10.05151525-7.76129658-16.66770249L458.81603326 512 303.20839852 326.36505389c-5.59831228-6.61618726-0.8906406-16.6677025 7.76129658-16.66770249h74.94104404c5.98001539 0 11.70556205 2.67192177 15.64982754 7.25235911L512 448.63728365l110.43943332-131.68757314c3.81703111-4.58043732 9.54257777-7.25235911 15.64982754-7.25235911H713.0303049c8.65193717 0 13.35960887 10.05151525 7.76129658 16.66770249L565.18396674 512l155.60763474 185.63494611z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM677.02297814 523.19662459L423.31764398 722.70011704c-9.41534338 7.37959347-23.28388974 0.76340622-23.28388975-11.19662459V312.62374191c0-11.9600308 13.86854636-18.70345241 23.28388975-11.19662457l253.70533416 199.37625807c7.25235911 5.72554666 7.25235911 16.6677025 0 22.39324918z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 3.06251924H43.7775177c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499846v936.4449646c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h936.4449646c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V43.7775177c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846zM756.28999077 542.53624885c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962H552.71499847v193.39624268c0 5.59831228-4.58043732 10.17874961-10.17874962 10.17874962h-61.0724977c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962V552.71499847H277.88875885c-5.59831228 0-10.17874961-4.58043732-10.17874962-10.17874962v-61.0724977c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h193.39624268V277.88875885c0-5.59831228 4.58043732-10.17874961 10.17874962-10.17874962h61.0724977c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v193.39624268h193.39624268c5.59831228 0 10.17874961 4.58043732 10.17874962 10.17874962v61.0724977z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M902.67315697 135.41705551L528.62204754 7.94466448C524.10877635 6.40354749 518.05438818 5.63298899 512 5.63298899s-12.10877635 0.7705585-16.62204754 2.31167549L121.32684303 135.41705551c-9.13662215 3.08223399-16.62204754 13.64989334-16.62204753 23.33691443v531.02488283c0 9.68702108 6.27454775 22.45627614 13.87005291 28.51066431L498.0198673 1013.9638196c3.85279247 2.9721542 8.8063828 4.51327118 13.87005291 4.51327118s10.12734022-1.54111698 13.87005291-4.51327118l379.4450189-295.67430252c7.59550517-5.94430839 13.87005291-18.71356345 13.87005291-28.51066431V158.75396994c0.22015956-9.68702108-7.26526581-20.14460066-16.40188796-23.33691443zM712.89560763 323.43332829L478.86598471 645.63685899c-7.04510625 9.68702108-21.57563786 9.68702108-28.6207441 0l-139.14084824-191.5388259c-4.18303182-5.8342286 0-13.9801327 7.15518603-13.9801327h60.76404132c5.61406904 0 11.0079785 2.75199463 14.31037204 7.26526582l71.22162091 97.97100864 166.11039557-228.74579323c3.30239355-4.51327118 8.58622323-7.26526581 14.31037204-7.26526581H705.7404216c7.15518602 0.11007979 11.33821785 8.25598388 7.15518603 14.09021248z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M959.86498307 186.28001231H797.00498922v-101.78749614c0-44.91373267-36.51626425-81.42999692-81.42999691-81.42999693H308.42500769c-44.91373267 0-81.42999692 36.51626425-81.42999691 81.42999693v101.78749614H64.13501693c-22.52048353 0-40.71499847 18.19451494-40.71499846 40.71499847v40.71499845c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874962h76.8495596l31.42688945 665.43575611c2.03574992 43.38692024 37.91584233 77.61296581 81.30276254 77.6129658h577.64404066c43.5141546 0 79.26701262-34.09881122 81.30276254-77.6129658l31.42688945-665.43575611H990.40123192c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874962v-40.71499845c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499847z m-254.46874039 0H318.60375732v-91.60874653h386.79248536v91.60874653z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.2224823 248.62485371H654.50249462V104.85001539c0-22.52048353-18.19451494-40.71499847-40.71499847-40.71499846H94.67126578v-50.89374808c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961h-71.25124732c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v997.5174623c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h71.25124732c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961V674.85999383h315.54123807v143.77483833c0 22.52048353 18.19451494 40.71499847 40.71499846 40.71499846h529.29497999c22.52048353 0 40.71499847-18.19451494 40.71499846-40.71499846V289.33985217c0-22.52048353-18.19451494-40.71499847-40.71499846-40.71499846z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M804.63905145 265.16532183V94.67126578h109.42155836c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-71.25124732c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961H109.93939019c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v71.25124732c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h109.42155836v170.49405605c0 103.6960117 53.94737296 194.92305513 135.3773699 246.83467817-81.42999692 51.91162303-135.37736988 143.13866646-135.3773699 246.83467817v170.49405605h-109.42155836c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v71.25124732c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h804.12121962c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-71.25124732c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961h-109.42155836V758.83467817c0-103.6960117-53.94737296-194.92305513-135.3773699-246.83467817 81.42999692-51.91162303 135.37736988-143.13866646 135.3773699-246.83467817z',\n        special: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1020.928 448.44373333l-35.36213334-373.4528c-1.79200001-19.3536-17.2032-34.64533332-36.55679999-36.55679999L575.55626667 3.072h-0.47786666c-3.82293334 0-6.8096 1.19466667-9.07946669 3.46453333L6.53653333 565.99893332c-4.65919999 4.65919999-4.65919999 12.1856 0 16.84480001l434.61973334 434.61973334c2.26986667 2.26986667 5.25653333 3.46453333 8.48213333 3.46453333s6.21226667-1.19466667 8.48213333-3.46453333l559.46239999-559.46239999c2.38933332-2.5088 3.584-5.97333334 3.34506668-9.55733335zM735.40266668 362.66666667c-42.17173333 0-76.45866667-34.28693333-76.45866667-76.45866667s34.28693333-76.45866667 76.45866667-76.45866667 76.45866667 34.28693333 76.45866665 76.45866667-34.28693333 76.45866667-76.45866665 76.45866667z',\n        special: true,\n      },\n    ],\n  },\n\n  {\n    type: 'linear',\n    children: [\n      {\n        viewBox: [1024, 1024],\n        path: 'M1009.55537674 75.96950982l-61.38012212-61.38012214c-4.48769762-4.48769762-11.870684-4.48769762-16.3583816 0L14.44462326 931.67210859c-4.48769762 4.48769762-4.48769762 11.870684 0 16.35838159l61.38012212 61.38012214c4.48769762 4.48769762 11.870684 4.48769762 16.3583816 0L1009.41061232 92.18312698c4.63246205-4.34293316 4.63246205-11.72591956 0.14476442-16.21361716zM210.88996692 419.35075905c114.94296453 0 208.46079213-93.51782759 208.46079213-208.46079213s-93.51782759-208.46079213-208.46079213-208.4607921-208.46079213 93.51782759-208.4607921 208.4607921 93.51782759 208.46079213 208.4607921 208.46079213z m0-312.69118816c57.47148228 0 104.23039605 46.75891379 104.23039607 104.23039603s-46.75891379 104.23039605-104.23039607 104.23039607-104.23039605-46.75891379-104.23039603-104.23039607 46.75891379-104.23039605 104.23039603-104.23039603zM813.11003308 604.64924095c-114.94296453 0-208.46079213 93.51782759-208.46079213 208.46079213s93.51782759 208.46079213 208.46079213 208.4607921 208.46079213-93.51782759 208.4607921-208.4607921-93.51782759-208.46079213-208.4607921-208.46079213z m0 312.69118816c-57.47148228 0-104.23039605-46.75891379-104.23039607-104.23039603s46.75891379-104.23039605 104.23039607-104.23039607 104.23039605 46.75891379 104.23039603 104.23039607-46.75891379 104.23039605-104.23039603 104.23039603z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1004.96017383 478.58365209L483.27851088 25.80594621c-4.00443838-3.45210207-9.11354943-5.3852792-14.49882864-5.38527921h-122.20441284c-10.21822208 0-14.91308089 12.70373557-7.18037228 19.33177152l483.57045622 419.77561022H14.8973037c-6.07569962 0-11.04672658 4.97102697-11.04672658 11.04672657v82.85044938c0 6.07569962 4.97102697 11.04672658 11.04672658 11.04672657h807.92996557L339.25681303 984.24756148c-7.7327086 6.76612003-3.0378498 19.33177153 7.18037229 19.33177152h126.34693531c2.62359757 0 5.24719513-0.96658859 7.18037228-2.76168164L1004.96017383 545.41634791c20.2983601-17.67476253 20.2983601-49.1579333 0-66.83269582z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1011.38217956 558.9924242L545.80649025 22.43713295c-17.81503843-20.62055629-49.79794206-20.62055629-67.75325638 0L12.61782044 558.9924242c-6.31241519 7.29434645-1.12220714 18.51641789 8.41655359 18.51641789h113.62347344c6.45269109 0 12.62483038-2.80551785 16.97338308-7.71517411L458.69516062 215.87758959V1005.77114384c0 6.1721393 5.04993216 11.22207145 11.22207144 11.22207145h84.16553588c6.1721393 0 11.22207145-5.04993216 11.22207144-11.22207145V215.87758959l307.06393007 353.91607839c4.20827679 4.90965626 10.38041608 7.71517413 16.97338308 7.71517411h113.62347344c9.53876074 0 14.72896878-11.22207145 8.41655359-18.51641789z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1009.1026963 459.52804874H201.17273073l483.57045624-419.77561022c7.7327086-6.76612003 3.0378498-19.33177153-7.18037229-19.33177152h-122.20441283c-5.3852792 0-10.49439025 1.93317715-14.49882866 5.38527921L19.03982617 478.58365209c-20.2983601 17.67476253-20.2983601 49.1579333 0 66.69461175L543.89742302 1000.81765136c2.07126124 1.79509307 4.55677472 2.76168163 7.18037228 2.76168164h126.3469353c10.21822208 0 14.91308089-12.70373557 7.18037228-19.33177152L201.17273073 564.47195126H1009.1026963c6.07569962 0 11.04672658-4.97102697 11.04672658-11.04672657v-82.85044938c0-6.07569962-4.97102697-11.04672658-11.04672658-11.04672657z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1002.96562597 446.49115791h-113.62347344c-6.45269109 0-12.62483038 2.80551785-16.97338308 7.71517411L565.30483938 808.12241041V18.22885616c0-6.1721393-5.04993216-11.22207145-11.22207144-11.22207145h-84.16553588c-6.1721393 0-11.22207145 5.04993216-11.22207144 11.22207145v789.89355425L151.63123055 454.20633202c-4.20827679-4.90965626-10.38041608-7.71517413-16.97338308-7.71517411h-113.62347344c-9.53876074 0-14.72896878 11.36234735-8.41655359 18.51641789L478.19350975 1001.56286705c17.81503843 20.62055629 49.79794206 20.62055629 67.75325638 0L1011.38217956 465.0075758c6.31241519-7.29434645 1.12220714-18.51641789-8.41655359-18.51641789z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M975.82443246 622.46726585H14.8973037c-6.07569962 0-11.04672658 4.97102697-11.04672658 11.04672658v82.85044937c0 6.07569962 4.97102697 11.04672658 11.04672658 11.04672659h835.6848661L651.32683905 980.10503902c-5.66144737 7.18037229-0.55233633 17.9509307 8.69929718 17.9509307h100.11095967c6.76612003 0 13.11798782-3.0378498 17.39859437-8.42312903l233.08593092-295.63802022c22.78387358-28.99765728 2.20934532-71.52755463-34.79718873-71.52755462zM1009.1026963 296.58883161H173.4178302l199.25533075-252.69387063c5.66144737-7.18037229 0.55233633-17.9509307-8.69929718-17.9509307h-100.11095967c-6.76612003 0-13.11798782 3.0378498-17.39859437 8.42312903L13.37837881 330.00517953c-22.78387358 28.99765728-2.20934532 71.52755463 34.65910466 71.52755462h961.06521283c6.07569962 0 11.04672658-4.97102697 11.04672658-11.04672658v-82.85044937c0-6.07569962-4.97102697-11.04672658-11.04672658-11.04672659z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M1010.75873115 64.13501693H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874961v81.42999691c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874964h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874964v-81.42999691c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874961zM1010.75873115 858.07748691H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874964v81.42999691c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874961h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874961v-81.42999691c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874964zM1010.75873115 461.10625194H13.24126885c-5.59831228 0-10.17874961 4.58043732-10.17874961 10.17874959v81.42999694c0 5.59831228 4.58043732 10.17874961 10.17874961 10.17874959h997.5174623c5.59831228 0 10.17874961-4.58043732 10.17874961-10.17874959v-81.42999694c0-5.59831228-4.58043732-10.17874961-10.17874961-10.17874959z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M591.98717801 512l405.34042913-483.16579151c6.79427767-8.02960089 1.08090782-20.22841761-9.41933951-20.2284176h-123.22349044c-7.25752386 0-14.20621693 3.24272343-18.99309439 8.80167789L511.38233839 415.95362022 177.07299399 17.40746878c-4.63246205-5.55895447-11.58115512-8.80167789-18.99309439-8.80167789H34.85640916c-10.50024731 0-16.21361717 12.19881672-9.41933952 20.2284176L430.77749876 512 25.43706964 995.16579151c-6.79427767 8.02960089-1.08090782 20.22841761 9.41933952 20.2284176h123.22349044c7.25752386 0 14.20621693-3.24272343 18.99309439-8.80167789l334.3093444-398.54615144 334.30934441 398.54615144c4.63246205 5.55895447 11.58115512 8.80167789 18.99309439 8.80167789h123.22349044c10.50024731 0 16.21361717-12.19881672 9.41933951-20.2284176L591.98717801 512z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M953.5488 832.61667556c-24.08448-57.08913778-58.74574221-108.31644445-102.70947556-152.28017777-43.96373333-43.96373333-95.19104-78.49756444-152.28017777-102.70947558-0.50972445-0.25486222-1.01944888-0.38229333-1.52917334-0.63715555C776.41955556 519.64586667 828.02915556 426.23886221 828.02915556 320.85333332c0-174.58062221-141.44853334-316.02915556-316.02915556-316.02915554S195.97084444 146.27271111 195.97084444 320.85333332c0 105.38552889 51.6096 198.79253333 130.99918223 256.26396447-0.50972445 0.25486222-1.01944888 0.38229333-1.52917334 0.63715555-57.08913778 24.08448-108.31644445 58.61831112-152.28017777 102.70947554-43.96373333 43.96373333-78.49756444 95.19104-102.70947556 152.28017779C46.74901333 888.55893332 34.13333334 947.8144 32.85902222 1008.72647111c-0.12743111 5.7344 4.46008889 10.44935111 10.19448889 10.44935111h76.45866667c5.60696888 0 10.06705778-4.46008889 10.19448889-9.93962666 2.54862221-98.37681778 42.05226667-190.50951112 111.88451555-260.34176001 72.25344-72.25344 168.20906666-112.01194667 270.40881778-112.01194667s198.15537778 39.75850667 270.40881778 112.01194667C852.24106667 818.72668444 891.74471111 910.85937779 894.29333333 1009.23619556c0.12743111 5.60696888 4.58752 9.93962667 10.19448889 9.93962666h76.45866667c5.7344 0 10.32192-4.71495112 10.19448889-10.44935111-1.27431111-60.91207112-13.88999112-120.16753779-37.59217778-176.10979555zM512 540.03484444c-58.49088 0-113.54112-22.81016889-154.95623111-64.22527999S292.81848888 379.34421333 292.81848888 320.85333332c0-58.49088 22.81016889-113.54112 64.22528001-154.9562311S453.50912 101.67182221 512 101.67182221s113.54112 22.81016889 154.95623111 64.22528001S731.18151112 262.36245333 731.18151112 320.85333332c0 58.49088-22.81016889 113.54112-64.22528001 154.95623113S570.49088 540.03484444 512 540.03484444z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M985.31555555 111.50222222H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888889v728.17777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h946.6311111c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V147.91111111c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888889z m-45.5111111 126.06577778V830.57777778H84.19555555V237.568l-31.40266666-24.46222222 44.71466666-57.45777778 48.6968889 37.888h731.70488888l48.69688889-37.888 44.71466667 57.45777778-31.51644444 24.46222222z M877.90933333 193.42222222L512 477.86666667 146.09066667 193.42222222l-48.69688889-37.888-44.71466667 57.45777778 31.40266667 24.46222222 388.66488889 302.19377778c22.98311111 17.86311111 55.18222222 17.86311111 78.16533333 0L939.80444445 237.568l31.40266666-24.46222222-44.71466666-57.45777778-48.58311112 37.77422222z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M985.31555555 88.74666667H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888888v564.33777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h432.35555555v127.43111111H275.34222222c-10.01244445 0-18.20444445 8.192-18.20444444 18.20444445v54.61333333c0 5.00622222 4.096 9.10222222 9.10222222 9.10222222h491.52c5.00622222 0 9.10222222-4.096 9.10222222-9.10222222v-54.61333333c0-10.01244445-8.192-18.20444445-18.20444444-18.20444445H552.96V725.90222222h432.35555555c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V125.15555555c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888888z m-45.5111111 555.23555555H84.19555555V170.66666667h855.6088889v473.31555555z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m0 932.97777778c-233.69955555 0-423.25333333-189.55377778-423.25333333-423.25333333 0-101.26222222 35.61244445-194.33244445 95.00444444-267.15022222l595.39911111 595.39911111C706.33244445 899.64088889 613.26222222 935.25333333 512 935.25333333z m328.24888889-156.10311111L244.84977778 183.75111111C317.66755555 124.35911111 410.73777778 88.74666667 512 88.74666667c233.69955555 0 423.25333333 189.55377778 423.25333333 423.25333333 0 101.26222222-35.61244445 194.33244445-95.00444444 267.15022222z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M901.80266667 257.82044445L656.95288889 12.97066667c-6.82666667-6.82666667-16.04266667-10.69511111-25.71377778-10.69511112H147.91111111c-20.13866667 0-36.40888889 16.27022222-36.40888889 36.4088889v946.6311111c0 20.13866667 16.27022222 36.40888889 36.40888889 36.4088889h728.17777778c20.13866667 0 36.40888889-16.27022222 36.40888889-36.4088889V283.648c0-9.67111111-3.86844445-19.00088889-10.69511111-25.82755555zM828.52977778 300.37333333H614.4V86.24355555L828.52977778 300.37333333z m2.048 639.43111112H193.42222222V84.19555555h343.60888889v245.76c0 26.39644445 21.39022222 47.78666667 47.78666667 47.78666667h245.76v562.06222223z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M981.07392 55.79662222H42.92608c-31.22062222 0-50.71758221 34.02410666-35.04355556 61.16693334L304.28728889 620.82616888V927.42542221c0 22.55530667 18.09521779 40.77795555 40.52309333 40.77795557h334.37923556c22.42787556 0 40.52309333-18.22264888 40.52309333-40.77795557V620.82616888L1016.24490667 116.96355556c15.54659555-27.14282666-3.95036444-61.16693333-35.17098667-61.16693334zM628.47203556 876.45297779H395.52796444V677.66044445h233.07150222v198.79253334z m12.23338666-301.50200891l-12.10595556 21.15356445h-233.19893332l-12.10595556-21.15356445L130.59868445 147.54702221h762.8026311L640.70542222 574.95096888z',\n        special: true,\n        outlined: true,\n      },\n      {\n        viewBox: [1024, 1024],\n        path: 'M980.62285431 4.54099753H654.39920987c-4.2719763 0-7.76722963 3.49525333-7.76722962 7.76722964v72.4941432c0 4.2719763 3.49525333 7.76722963 7.76722962 7.76722963h207.64393877L604.04167111 350.57107753c-64.72691358-49.83972347-143.69374815-76.7661195-226.67365136-76.7661195-99.54999309 0-193.27456395 38.83614815-263.5679921 109.25903012S4.54099753 547.08198717 4.54099753 646.63198025s38.83614815 193.27456395 109.25903012 263.5679921C184.09345581 980.62285431 277.81802667 1019.45900247 377.36801975 1019.45900247s193.27456395-38.83614815 263.5679921-109.25903012C711.35889383 839.90654419 750.19504197 746.18197333 750.19504197 646.63198025c0-82.9799032-26.92639605-161.68783013-76.63666567-226.41474372L931.4304 162.34521283V369.60079013c0 4.2719763 3.49525333 7.76722963 7.76722963 7.76722962h72.4941432c4.2719763 0 7.76722963-3.49525333 7.76722964-7.76722962V43.37714569c0-21.35988148-17.47626667-38.83614815-38.83614816-38.83614816zM377.36801975 921.07409383c-151.33152395 0-274.44211358-123.11058963-274.44211358-274.44211358s123.11058963-274.44211358 274.44211358-274.44211358 274.44211358 123.11058963 274.44211358 274.44211358-123.11058963 274.44211358-274.44211358 274.44211358z',\n        special: true,\n        outlined: true,\n      },\n    ],\n  }\n]","import { ChartType } from '@/types/slides'\n\ninterface ChartTypes {\n  [propName: string]: ChartType\n}\n\nexport const CHART_TYPES: ChartTypes = {\n  bar: 'bar',\n  horizontalBar: 'bar',\n  line: 'line',\n  area: 'line',\n  scatter: 'line',\n  pie: 'pie',\n  ring: 'pie',\n}","import { debounce, throttle} from 'lodash'\nimport { useSnapshotStore } from '@/store'\n\nexport default () => {\n  const snapshotStore = useSnapshotStore()\n\n  // 添加历史快照(历史记录)\n  const addHistorySnapshot = debounce(function() {\n    snapshotStore.addSnapshot()\n  }, 300, { trailing: true })\n\n  // 重做\n  const redo = throttle(function() {\n    snapshotStore.reDo()\n  }, 100, { leading: true, trailing: false })\n\n  // 撤销\n  const undo = throttle(function() {\n    snapshotStore.unDo()\n  }, 100, { leading: true, trailing: false })\n\n  return {\n    addHistorySnapshot,\n    redo,\n    undo,\n  }\n}","import { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { getImageSize } from '@/utils/image'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport { PPTLineElement, PPTElement, TableCell, TableCellStyle, PPTShapeElement, PPTChartElement, ChartOptions, PresetChartType } from '@/types/slides'\nimport { ShapePoolItem, SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport { LinePoolItem } from '@/configs/lines'\nimport { CHART_TYPES } from '@/configs/chartTypes'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\ninterface CommonElementPosition {\n  top: number\n  left: number\n  width: number\n  height: number\n}\n\ninterface LineElementPosition {\n  top: number\n  left: number\n  start: [number, number]\n  end: [number, number]\n}\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { creatingElement } = storeToRefs(mainStore)\n  const { theme, viewportRatio } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n  // Create (insert) an element and set it as the selected element\n  const createElement = (element: PPTElement, callback?: () => void) => {\n    slidesStore.addElement(element)\n    mainStore.setActiveElementIdList([element.id])\n\n    if (creatingElement.value) mainStore.setCreatingElement(null)\n\n    setTimeout(() => {\n      mainStore.setEditorareaFocus(true)\n    }, 0)\n\n    if (callback) callback()\n\n    addHistorySnapshot()\n  }\n\n  /**\n   * Create image elements\n   * @param src image address\n   */\n  const createImageElement = (src: string) => {\n    getImageSize(src).then(({ width, height }) => {\n      const scale = height / width\n\n      if (scale < viewportRatio.value && width > VIEWPORT_SIZE) {\n        width = VIEWPORT_SIZE\n        height = width * scale\n      }\n      else if (height > VIEWPORT_SIZE * viewportRatio.value) {\n        height = VIEWPORT_SIZE * viewportRatio.value\n        width = height / scale\n      }\n\n      createElement({\n        type: 'image',\n        id: nanoid(10),\n        src,\n        width,\n        height,\n        left: (VIEWPORT_SIZE - width) / 2,\n        top: (VIEWPORT_SIZE * viewportRatio.value - height) / 2,\n        fixedRatio: true,\n        rotate: 0,\n      })\n    })\n  }\n\n  /**\n   * Create chart elements\n   * @param chartType chart type\n   */\n  const createChartElement = (type: PresetChartType) => {\n    const newElement: PPTChartElement = {\n      type: 'chart',\n      id: nanoid(10),\n      chartType: CHART_TYPES[type],\n      left: 300,\n      top: 81.25,\n      width: 400,\n      height: 400,\n      rotate: 0,\n      themeColor: [theme.value.themeColor],\n      gridColor: theme.value.fontColor,\n      data: {\n        labels: ['category 1', 'category 2', 'category 3', 'category 4', 'category 5'],\n        legends: ['Series 1'],\n        series: [\n          [12, 19, 5, 2, 18],\n        ],\n      },\n    }\n\n    const options: ChartOptions = {\n      ...(type === 'bar' ? { horizontalBars: false, stackBars: false } : {}),\n      ...(type === 'horizontalBar' ? { horizontalBars: true, stackBars: false } : {}),\n      ...(type === 'line' ? { showLine: true, lineSmooth: true, showArea: false } : {}),\n      ...(type === 'area' ? { showLine: true, lineSmooth: true, showArea: true } : {}),\n      ...(type === 'scatter' ? { showLine: false, lineSmooth: true, showArea: false } : {}),\n      ...(type === 'pie' ? { donut: false } : {}),\n      ...(type === 'ring' ? { donut: true } : {}),\n    }\n\n    createElement({\n      ...newElement,\n      options,\n    })\n  }\n\n  /**\n   * Create table elements\n   * @param row number of rows\n   * @param col column number\n   */\n  const createTableElement = (row: number, col: number) => {\n    const style: TableCellStyle = {\n      fontname: theme.value.fontName,\n      color: theme.value.fontColor,\n    }\n    const data: TableCell[][] = []\n    for (let i = 0; i < row; i++) {\n      const rowCells: TableCell[] = []\n      for (let j = 0; j < col; j++) {\n        rowCells.push({ id: nanoid(10), colspan: 1, rowspan: 1, text: '', style })\n      }\n      data.push(rowCells)\n    }\n\n    const DEFAULT_CELL_WIDTH = 100\n    const DEFAULT_CELL_HEIGHT = 36\n\n    const colWidths: number[] = new Array(col).fill(1 / col)\n\n    const width = col * DEFAULT_CELL_WIDTH\n    const height = row * DEFAULT_CELL_HEIGHT\n\n    createElement({\n      type: 'table',\n      id: nanoid(10),\n      width,\n      height,\n      colWidths,\n      rotate: 0,\n      data,\n      left: (VIEWPORT_SIZE - width) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - height) / 2,\n      outline: {\n        width: 2,\n        style: 'solid',\n        color: '#eeece1',\n      },\n      theme: {\n        color: theme.value.themeColor,\n        rowHeader: true,\n        rowFooter: false,\n        colHeader: false,\n        colFooter: false,\n      },\n      cellMinHeight: 36,\n    })\n  }\n\n  /**\n   * Create text element\n   * @param position position size information\n   * @param content text content\n   */\n\n  interface CreateTextData {\n    content?: string\n    vertical?: boolean\n  }\n  const createTextElement = (position: CommonElementPosition, data?: CreateTextData) => {\n    const { left, top, width, height } = position\n    const content = data?.content || ''\n    const vertical = data?.vertical || false\n\n    const id = nanoid(10)\n    createElement({\n      type: 'text',\n      id,\n      left,\n      top,\n      width,\n      height,\n      content,\n      rotate: 0,\n      defaultFontName: theme.value.fontName,\n      defaultColor: theme.value.fontColor,\n      vertical,\n    }, () => {\n      setTimeout(() => {\n        const editorRef: HTMLElement | null = document.querySelector(`#editable-element-${id} .ProseMirror`)\n        if (editorRef) editorRef.focus()\n      }, 0)\n    })\n  }\n\n  /**\n   * Create shape elements\n   * @param position position size information\n   * @param data shape path information\n   */\n  const createShapeElement = (position: CommonElementPosition, data: ShapePoolItem) => {\n    const { left, top, width, height } = position\n    const newElement: PPTShapeElement = {\n      type: 'shape',\n      id: nanoid(10),\n      left,\n      top,\n      width,\n      height,\n      viewBox: data.viewBox,\n      path: data.path,\n      fill: theme.value.themeColor,\n      fixedRatio: false,\n      rotate: 0,\n    }\n    if (data.special) newElement.special = true\n    if (data.pathFormula) {\n      newElement.pathFormula = data.pathFormula\n      newElement.viewBox = [width, height]\n\n      const pathFormula = SHAPE_PATH_FORMULAS[data.pathFormula]\n      if ('editable' in pathFormula) {\n        newElement.path = pathFormula.formula(width, height, pathFormula.defaultValue)\n        newElement.keypoint = pathFormula.defaultValue\n      }\n      else newElement.path = pathFormula.formula(width, height)\n    }\n    createElement(newElement)\n  }\n  /**\n    * Create line elements\n    * @param position position size information\n    * @param data the path and style of the line\n    */\n  const createLineElement = (position: LineElementPosition, data: LinePoolItem) => {\n    const { left, top, start, end } = position\n\n    const newElement: PPTLineElement = {\n      type: 'line',\n      id: nanoid(10),\n      left,\n      top,\n      start,\n      end,\n      points: data.points,\n      color: theme.value.themeColor,\n      style: data.style,\n      width: 2,\n    }\n    if (data.isBroken) newElement.broken = [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]\n    if (data.isCurve) newElement.curve = [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]\n    if (data.isCubic) newElement.cubic = [[(start[0] + end[0]) / 2, (start[1] + end[1]) / 2], [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]]\n    createElement(newElement)\n  }\n\n  /**\n   * Create LaTeX elements\n   * @param svg SVG code\n   */\n  const createLatexElement = (data: { path: string; latex: string; w: number; h: number; }) => {\n    createElement({\n      type: 'latex',\n      id: nanoid(10),\n      width: data.w,\n      height: data.h,\n      rotate: 0,\n      left: (VIEWPORT_SIZE - data.w) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - data.h) / 2,\n      path: data.path,\n      latex: data.latex,\n      color: theme.value.fontColor,\n      strokeWidth: 2,\n      viewBox: [data.w, data.h],\n      fixedRatio: true,\n    })\n  }\n\n  /**\n   * Create video elements\n   * @param src video address\n   */\n  const createVideoElement = (src: string) => {\n    createElement({\n      type: 'video',\n      id: nanoid(10),\n      width: 500,\n      height: 300,\n      rotate: 0,\n      left: (VIEWPORT_SIZE - 500) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - 300) / 2,\n      src,\n    })\n  }\n\n  /**\n   * Create audio elements\n   * @param src audio address\n   */\n  const createAudioElement = (src: string) => {\n    createElement({\n      type: 'audio',\n      id: nanoid(10),\n      width: 50,\n      height: 50,\n      rotate: 0,\n      left: (VIEWPORT_SIZE - 50) / 2,\n      top: (VIEWPORT_SIZE * viewportRatio.value - 50) / 2,\n      loop: false,\n      autoplay: false,\n      fixedRatio: true,\n      color: theme.value.themeColor,\n      src,\n    })\n  }\n\n  return {\n    createImageElement,\n    createChartElement,\n    createTableElement,\n    createTextElement,\n    createShapeElement,\n    createLineElement,\n    createLatexElement,\n    createVideoElement,\n    createAudioElement,\n  }\n}","import { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useSlidesStore, useMainStore } from '@/store'\nimport { PPTElement, Slide } from '@/types/slides'\nimport { createSlideIdMap, createElementIdMap } from '@/utils/element'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { currentSlide } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  /**\n   * 添加指定的元素数据（一组）\n   * @param elements 元素列表数据\n   */\n  const addElementsFromData = (elements: PPTElement[]) => {\n    const { groupIdMap, elIdMap } = createElementIdMap(elements)\n    const currentSlideElementIdList = currentSlide.value.elements.map(el => el.id)\n    \n    for (const element of elements) {\n      const inCurrentSlide = currentSlideElementIdList.includes(element.id)\n      \n      element.id = elIdMap[element.id]\n\n      if (inCurrentSlide) {\n        element.left = element.left + 10\n        element.top = element.top + 10\n      }\n\n      if (element.groupId) element.groupId = groupIdMap[element.groupId]\n    }\n    slidesStore.addElement(elements)\n    mainStore.setActiveElementIdList(Object.values(elIdMap))\n    addHistorySnapshot()\n  }\n\n  /**\n   * 添加指定的页面数据\n   * @param slide 页面数据\n   */\n  const addSlidesFromData = (slides: Slide[]) => {\n    const slideIdMap = createSlideIdMap(slides)\n    const newSlides = slides.map(slide => {\n      const { groupIdMap, elIdMap } = createElementIdMap(slide.elements)\n\n      for (const element of slide.elements) {\n        element.id = elIdMap[element.id]\n        if (element.groupId) element.groupId = groupIdMap[element.groupId]\n\t\t\n        // 若元素绑定了页面跳转链接\n        if (element.link && element.link.type === 'slide') {\n\n          // 待添加页面中包含该页面，则替换相关绑定关系\n          if (slideIdMap[element.link.target]) {\n            element.link.target = slideIdMap[element.link.target]\n          }\n          // 待添加页面中不包含该页面，则删除该元素绑定的页面跳转\n          else delete element.link\n        }\n      }\n      // 动画id替换\n      if (slide.animations) {\n        for (const animation of slide.animations) {\n          animation.id = nanoid(10)\n          animation.elId = elIdMap[animation.elId]\n        }\n      }\n      return {\n        ...slide,\n        id: slideIdMap[slide.id],\n      }\n    })\n    slidesStore.addSlide(newSlides)\n    addHistorySnapshot()\n  }\n\n  return {\n    addElementsFromData,\n    addSlidesFromData,\n  }\n}","import { pasteCustomClipboardString } from '@/utils/clipboard'\nimport { parseText2Paragraphs } from '@/utils/textParser'\nimport useCreateElement from '@/hooks/useCreateElement'\nimport useAddSlidesOrElements from '@/hooks/useAddSlidesOrElements'\n\ninterface PasteTextClipboardDataOptions {\n  onlySlide?: boolean\n  onlyElements?: boolean\n}\n\nexport default () => {\n  const { createTextElement } = useCreateElement()\n  const { addElementsFromData, addSlidesFromData } = useAddSlidesOrElements()\n\n  /**\n   * 粘贴普通文本：创建为新的文本元素\n   * @param text 文本\n   */\n  const createTextElementFromClipboard = (text: string) => {\n    createTextElement({\n      left: 0,\n      top: 0,\n      width: 600,\n      height: 50,\n    }, { content: text })\n  }\n\n  /**\n   * 解析剪贴板内容，根据解析结果选择合适的粘贴方式\n   * @param text 剪贴板内容\n   * @param options 配置项：onlySlide -- 仅处理页面粘贴；onlyElements -- 仅处理元素粘贴；\n   */\n  const pasteTextClipboardData = (text: string, options?: PasteTextClipboardDataOptions) => {\n    const onlySlide = options?.onlySlide || false\n    const onlyElements = options?.onlyElements || false\n\n    const clipboardData = pasteCustomClipboardString(text)\n\n    // 元素或页面\n    if (typeof clipboardData === 'object') {\n      const { type, data } = clipboardData\n\n      if (type === 'elements' && !onlySlide) addElementsFromData(data)\n      else if (type === 'slides' && !onlyElements) addSlidesFromData(data)\n    }\n\n    // 普通文本\n    else if (!onlyElements && !onlySlide) {\n      const string = parseText2Paragraphs(clipboardData)\n      createTextElementFromClipboard(string)\n    }\n  }\n\n  return {\n    pasteTextClipboardData,\n  }\n}","import { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { Slide } from '@/types/slides'\nimport { copyText, readClipboard } from '@/utils/clipboard'\nimport { encrypt } from '@/utils/crypto'\nimport { createElementIdMap } from '@/utils/element'\nimport { KEYS } from '@/configs/hotkey'\nimport { message } from 'ant-design-vue'\nimport usePasteTextClipboardData from '@/hooks/usePasteTextClipboardData'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useAddSlidesOrElements from '@/hooks//useAddSlidesOrElements'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { selectedSlidesIndex: _selectedSlidesIndex, activeElementIdList } = storeToRefs(mainStore)\n  const { currentSlide, slides, theme, slideIndex } = storeToRefs(slidesStore)\n\n  const selectedSlidesIndex = computed(() => [..._selectedSlidesIndex.value, slideIndex.value])\n  const selectedSlides = computed(() => slides.value.filter((item, index) => selectedSlidesIndex.value.includes(index)))\n  const selectedSlidesId = computed(() => selectedSlides.value.map(item => item.id))\n\n  const { pasteTextClipboardData } = usePasteTextClipboardData()\n  const { addSlidesFromData } = useAddSlidesOrElements()\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // 重置幻灯片\n  const resetSlides = () => {\n    const emptySlide: Slide = {\n      id: nanoid(10),\n      elements: [],\n      background: {\n        type: 'solid',\n        color: theme.value.backgroundColor,\n      },\n    }\n    slidesStore.updateSlideIndex(0)\n    mainStore.setActiveElementIdList([])\n    slidesStore.setSlides([emptySlide])\n  }\n\n  /**\n   * 移动页面焦点\n   * @param command 移动页面焦点命令：上移、下移\n   */\n  const updateSlideIndex = (command: string) => {\n    if (command === KEYS.UP && slideIndex.value > 0) {\n      if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n      slidesStore.updateSlideIndex(slideIndex.value - 1)\n    }\n    else if (command === KEYS.DOWN && slideIndex.value < slides.value.length - 1) {\n      if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n      slidesStore.updateSlideIndex(slideIndex.value + 1)\n    }\n  }\n\n  // 将当前页面数据加密后复制到剪贴板\n  const copySlide = () => {\n    const text = encrypt(JSON.stringify({\n      type: 'slides',\n      data: selectedSlides.value,\n    }))\n\n    copyText(text).then(() => {\n      mainStore.setThumbnailsFocus(true)\n    })\n  }\n\n  // 尝试将剪贴板页面数据解密后添加到下一页（粘贴）\n  const pasteSlide = () => {\n    readClipboard().then(text => {\n      pasteTextClipboardData(text, { onlySlide: true })\n    }).catch(err => message.warning(err))\n  }\n\n  // 创建一页空白页并添加到下一页\n  const createSlide = () => {\n    const emptySlide: Slide = {\n      id: nanoid(10),\n      elements: [],\n      background: {\n        type: 'solid',\n        color: theme.value.backgroundColor,\n      },\n    }\n    mainStore.setActiveElementIdList([])\n    slidesStore.addSlide(emptySlide)\n    addHistorySnapshot()\n  }\n\n  // 根据模板创建新页面\n  const createSlideByTemplate = (slide: Slide) => {\n    const { groupIdMap, elIdMap } = createElementIdMap(slide.elements)\n\n    for (const element of slide.elements) {\n      element.id = elIdMap[element.id]\n      if (element.groupId) element.groupId = groupIdMap[element.groupId]\n    }\n    const newSlide = {\n      ...slide,\n      id: nanoid(10),\n    }\n    mainStore.setActiveElementIdList([])\n    slidesStore.addSlide(newSlide)\n    addHistorySnapshot()\n  }\n\n  // 将当前页复制一份到下一页\n  const copyAndPasteSlide = () => {\n    const slide = JSON.parse(JSON.stringify(currentSlide.value))\n    addSlidesFromData([slide])\n  }\n\n  // 删除当前页，若将删除全部页面，则执行重置幻灯片操作\n  const deleteSlide = (targetSlidesId = selectedSlidesId.value) => {\n    if (slides.value.length === targetSlidesId.length) resetSlides()\n    else slidesStore.deleteSlide(targetSlidesId)\n\n    mainStore.updateSelectedSlidesIndex([])\n\n    addHistorySnapshot()\n  }\n\n  // 将当前页复制后删除（剪切）\n  // 由于复制操作会导致多选状态消失，所以需要提前将需要删除的页面ID进行缓存\n  const cutSlide = () => {\n    const targetSlidesId = [...selectedSlidesId.value]\n    copySlide()\n    deleteSlide(targetSlidesId)\n  }\n\n  // 选中全部幻灯片\n  const selectAllSlide = () => {\n    const newSelectedSlidesIndex = Array.from(Array(slides.value.length), (item, index) => index)\n    mainStore.setActiveElementIdList([])\n    mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n  }\n\n  // 拖拽调整幻灯片顺序同步数据\n  const sortSlides = (newIndex: number, oldIndex: number) => {\n    if (oldIndex === newIndex) return\n  \n    const _slides = JSON.parse(JSON.stringify(slides.value))\n    const _slide = _slides[oldIndex]\n    _slides.splice(oldIndex, 1)\n    _slides.splice(newIndex, 0, _slide)\n    slidesStore.setSlides(_slides)\n    slidesStore.updateSlideIndex(newIndex)\n  }\n\n  return {\n    resetSlides,\n    updateSlideIndex,\n    copySlide,\n    pasteSlide,\n    createSlide,\n    createSlideByTemplate,\n    copyAndPasteSlide,\n    deleteSlide,\n    cutSlide,\n    selectAllSlide,\n    sortSlides,\n  }\n}","import { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList } = storeToRefs(mainStore)\n  const { currentSlide } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // 锁定选中的元素,并清空选中元素状态\n  const lockElement = () => {\n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\n  \n    for (const element of newElementList) {\n      if (activeElementIdList.value.includes(element.id)) element.lock = true\n    }\n    slidesStore.updateSlide({ elements: newElementList })\n    mainStore.setActiveElementIdList([])\n    addHistorySnapshot()\n  }\n\n  /**\n   * 解除元素的锁定状态,并将其设置为当前选择元素\n   * @param handleElement 需要解锁的元素\n   */\n  const unlockElement = (handleElement: PPTElement) => {\n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\n\n    if (handleElement.groupId) {\n      const groupElementIdList = []\n      for (const element of newElementList) {\n        if (element.groupId === handleElement.groupId) {\n          element.lock = false\n          groupElementIdList.push(element.id)\n        }\n      }\n      slidesStore.updateSlide({ elements: newElementList })\n      mainStore.setActiveElementIdList(groupElementIdList)\n    }\n    else {\n      for (const element of newElementList) {\n        if (element.id === handleElement.id) {\n          element.lock = false\n          break\n        }\n      }\n      slidesStore.updateSlide({ elements: newElementList })\n      mainStore.setActiveElementIdList([handleElement.id])\n    }\n    addHistorySnapshot()\n  }\n\n  return {\n    lockElement,\n    unlockElement,\n  }\n}","import { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList, activeGroupElementId } = storeToRefs(mainStore)\n  const { currentSlide } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // delete all selected elements\n  // Among the combined element members, if there is an element that is selected and can be operated independently, the element will be deleted first. Otherwise, delete all selected elements by default\n  const deleteElement = () => {\n    if (!activeElementIdList.value.length) return\n\n    let newElementList: PPTElement[] = []\n    if (activeGroupElementId.value) {\n      newElementList = currentSlide.value.elements.filter(el => el.id !== activeGroupElementId.value)\n    }\n    else {\n      newElementList = currentSlide.value.elements.filter(el => !activeElementIdList.value.includes(el.id))\n    }\n\n    mainStore.setActiveElementIdList([])\n    slidesStore.updateSlide({ elements: newElementList })\n    addHistorySnapshot()\n  }\n\n  // Delete all elements in the inner surface (whether selected or not)\n  const deleteAllElements = () => {\n    if (!currentSlide.value.elements.length) return\n    mainStore.setActiveElementIdList([])\n    slidesStore.updateSlide({ elements: [] })\n    addHistorySnapshot()\n  }\n\n  return {\n    deleteElement,\n    deleteAllElements,\n  }\n}","import { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList, activeElementList, handleElementId } = storeToRefs(mainStore)\n  const { currentSlide } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  /**\n   * 判断当前选中的元素是否可以组合\n   */\n  const canCombine = computed(() => {\n    if (activeElementList.value.length < 2) return false\n\n    const firstGroupId = activeElementList.value[0].groupId\n    if (!firstGroupId) return true\n\n    const inSameGroup = activeElementList.value.every(el => (el.groupId && el.groupId) === firstGroupId)\n    return !inSameGroup\n  })\n\n  /**\n   * 组合当前选中的元素：给当前选中的元素赋予一个相同的分组ID\n   */\n  const combineElements = () => {\n    if (!activeElementList.value.length) return\n\n    // 生成一个新元素列表进行后续操作\n    let newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\n\n    // 生成分组ID\n    const groupId = nanoid(10)\n\n    // 收集需要组合的元素列表，并赋上唯一分组ID\n    const combineElementList: PPTElement[] = []\n    for (const element of newElementList) {\n      if (activeElementIdList.value.includes(element.id)) {\n        element.groupId = groupId\n        combineElementList.push(element)\n      }\n    }\n\n    // 确保该组合内所有元素成员的层级是连续的，具体操作方法为：\n    // 先获取到该组合内最上层元素的层级，将本次需要组合的元素从新元素列表中移除，\n    // 再根据最上层元素的层级位置，将上面收集到的需要组合的元素列表一起插入到新元素列表中合适的位置\n    const combineElementMaxLevel = newElementList.findIndex(_element => _element.id === combineElementList[combineElementList.length - 1].id)\n    const combineElementIdList = combineElementList.map(_element => _element.id)\n    newElementList = newElementList.filter(_element => !combineElementIdList.includes(_element.id))\n\n    const insertLevel = combineElementMaxLevel - combineElementList.length + 1\n    newElementList.splice(insertLevel, 0, ...combineElementList)\n\n    slidesStore.updateSlide({ elements: newElementList })\n    addHistorySnapshot()\n  }\n\n  /**\n   * 取消组合元素：移除选中元素的分组ID\n   */\n  const uncombineElements = () => {\n    if (!activeElementList.value.length) return\n    const hasElementInGroup = activeElementList.value.some(item => item.groupId)\n    if (!hasElementInGroup) return\n    \n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\n    for (const element of newElementList) {\n      if (activeElementIdList.value.includes(element.id) && element.groupId) delete element.groupId\n    }\n    slidesStore.updateSlide({ elements: newElementList })\n\n    // 取消组合后，需要重置激活元素状态\n    // 默认重置为当前正在操作的元素,如果不存在则重置为空\n    const handleElementIdList = handleElementId.value ? [handleElementId.value] : []\n    mainStore.setActiveElementIdList(handleElementIdList)\n\n    addHistorySnapshot()\n  }\n\n  return {\n    canCombine,\n    combineElements,\n    uncombineElements,\n  }\n}","import { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { copyText, readClipboard } from '@/utils/clipboard'\nimport { encrypt } from '@/utils/crypto'\nimport { message } from 'ant-design-vue'\nimport usePasteTextClipboardData from '@/hooks/usePasteTextClipboardData'\nimport useDeleteElement from './useDeleteElement'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const { activeElementIdList, activeElementList } = storeToRefs(mainStore)\n\n  const { pasteTextClipboardData } = usePasteTextClipboardData()\n  const { deleteElement } = useDeleteElement()\n\n  // 将选中元素数据加密后复制到剪贴板\n  const copyElement = () => {\n    if (!activeElementIdList.value.length) return\n\n    const text = encrypt(JSON.stringify({\n      type: 'elements',\n      data: activeElementList.value,\n    }))\n\n    copyText(text).then(() => {\n      mainStore.setEditorareaFocus(true)\n    })\n  }\n\n  // 将选中元素复制后删除（剪切）\n  const cutElement = () => {\n    copyElement()\n    deleteElement()\n  }\n\n  // 尝试将剪贴板元素数据解密后进行粘贴\n  const pasteElement = () => {\n    readClipboard().then(text => {\n      pasteTextClipboardData(text)\n    }).catch(err => message.warning(err))\n  }\n\n  // 将选中元素复制后立刻粘贴\n  const quickCopyElement = () => {\n    copyElement()\n    pasteElement()\n  }\n\n  return {\n    copyElement,\n    cutElement,\n    pasteElement,\n    quickCopyElement,\n  }\n}","import { storeToRefs } from 'pinia'\r\nimport { useMainStore, useSlidesStore } from '@/store'\r\n\r\nexport default () => {\r\n  const mainStore = useMainStore()\r\n  const { currentSlide } = storeToRefs(useSlidesStore())\r\n  const { hiddenElementIdList } = storeToRefs(mainStore)\r\n\r\n  // 将当前页面全部元素设置为被选择状态\r\n  const selectAllElement = () => {\r\n    const unlockedElements = currentSlide.value.elements.filter(el => !el.lock && !hiddenElementIdList.value.includes(el.id))\r\n    const newActiveElementIdList = unlockedElements.map(el => el.id)\r\n    mainStore.setActiveElementIdList(newActiveElementIdList)\r\n  }\r\n\r\n  return {\r\n    selectAllElement,\r\n  }\r\n}","import { storeToRefs } from 'pinia'\r\nimport { useMainStore, useSlidesStore } from '@/store'\r\nimport { PPTElement } from '@/types/slides'\r\nimport { KEYS } from '@/configs/hotkey'\r\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\r\n\r\nexport default () => {\r\n  const slidesStore = useSlidesStore()\r\n  const { activeElementIdList, activeGroupElementId } = storeToRefs(useMainStore())\r\n  const { currentSlide } = storeToRefs(slidesStore)\r\n\r\n  const { addHistorySnapshot } = useHistorySnapshot()\r\n\r\n  /**\r\n   * 将元素向指定方向移动指定的距离\r\n   * 组合元素成员中，存在被选中可独立操作的元素时，优先移动该元素。否则默认移动所有被选中的元素\r\n   * @param command 移动方向\r\n   * @param step 移动距离\r\n   */\r\n  const moveElement = (command: string, step = 1) => {\r\n    let newElementList: PPTElement[] = []\r\n\r\n    const move = (el: PPTElement) => {\r\n      let { left, top } = el\r\n      switch (command) {\r\n        case KEYS.LEFT: \r\n          left = left - step\r\n          break\r\n        case KEYS.RIGHT: \r\n          left = left + step\r\n          break\r\n        case KEYS.UP: \r\n          top = top - step\r\n          break\r\n        case KEYS.DOWN: \r\n          top = top + step\r\n          break\r\n        default: break\r\n      }\r\n      return { ...el, left, top }\r\n    }\r\n\r\n    if (activeGroupElementId.value) {\r\n      newElementList = currentSlide.value.elements.map(el => {\r\n        return activeGroupElementId.value === el.id ? move(el) : el\r\n      })\r\n    }\r\n    else {\r\n      newElementList = currentSlide.value.elements.map(el => {\r\n        return activeElementIdList.value.includes(el.id) ? move(el) : el\r\n      })\r\n    }\r\n\r\n    slidesStore.updateSlide({ elements: newElementList })\r\n    addHistorySnapshot()\r\n  }\r\n\r\n  return {\r\n    moveElement,\r\n  }\r\n}","import { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { PPTElement } from '@/types/slides'\nimport { ElementOrderCommands } from '@/types/edit'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { currentSlide } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  /**\n   * Get the level scope of the combined element\n   * @param elementList list of all elements on this page\n   * @param combineElementList combined element list\n   */\n  const getCombineElementLevelRange = (elementList: PPTElement[], combineElementList: PPTElement[]) => {\n    return {\n      minLevel: elementList.findIndex(_element => _element.id === combineElementList[0].id),\n      maxLevel: elementList.findIndex(_element => _element.id === combineElementList[combineElementList.length - 1].id),\n    }\n  }\n\n  /**\n   * Move up one layer\n   * @param elementList list of all elements on this page\n   * @param element The element of the current operation\n   */\n  const moveUpElement = (elementList: PPTElement[], element: PPTElement) => {\n    const copyOfElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList))\n\n    // If the element being operated is a member of a combination element, all members of the combination need to be moved together\n    if (element.groupId) {\n\n      // Obtain all members of the combination, as well as the level range of all members\n      const combineElementList = copyOfElementList.filter(_element => _element.groupId === element.groupId)\n      const { minLevel, maxLevel } = getCombineElementLevelRange(elementList, combineElementList)\n\n      // Already at the top level, cannot move further\n      if (maxLevel === elementList.length - 1) return\n\n      // Through the maximum value of the combined member range, get the element of the upper level of the combination, and then remove the combined element from the element list (and cache the removed element list)\n      // If the upper-level element is in another combination, insert the above-mentioned removed combination element above the upper-level combination\n      // If the upper-level element is not in any group, insert the above-mentioned removed combination element above the upper-level element\n      const nextElement = copyOfElementList[maxLevel + 1]\n      const movedElementList = copyOfElementList.splice(minLevel, combineElementList.length)\n\n      if (nextElement.groupId) {\n        const nextCombineElementList = copyOfElementList.filter(_element => _element.groupId === nextElement.groupId)\n        copyOfElementList.splice(minLevel + nextCombineElementList.length, 0, ...movedElementList)\n      }\n      else copyOfElementList.splice(minLevel + 1, 0, ...movedElementList)\n    }\n\n    // If the element being operated on is not a composite element member\n    else {\n\n      // Get the level of the element in the list\n      const level = elementList.findIndex(item => item.id === element.id)\n\n      // Already at the top level, cannot move further\n      if (level === elementList.length - 1) return\n\n      // Get the elements of the upper layer of the combination, and then remove the combined element from the element list (and cache the removed element list)\n      const nextElement = copyOfElementList[level + 1]\n      const movedElement = copyOfElementList.splice(level, 1)[0]\n\n      // Through the maximum value of the combined member range, get the element of the upper level of the combination, and then remove the combined element from the element list (and cache the removed element list)\n      // If the upper-level element is in another combination, insert the above-mentioned removed combination element above the upper-level combination\n      // If the upper-level element is not in any group, insert the above-mentioned removed combination element above the upper-level element\n      if (nextElement.groupId) {\n        const combineElementList = copyOfElementList.filter(_element => _element.groupId === nextElement.groupId)\n        copyOfElementList.splice(level + combineElementList.length, 0, movedElement)\n      }\n      else copyOfElementList.splice(level + 1, 0, movedElement)\n    }\n\n    return copyOfElementList\n  }\n\n  /**\n   * Move down one layer, the operation method is the same as move up\n   * @param elementList list of all elements on this page\n   * @param element The element of the current operation\n   */\n  const moveDownElement = (elementList: PPTElement[], element: PPTElement) => {\n    const copyOfElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList))\n\n    if (element.groupId) {\n      const combineElementList = copyOfElementList.filter(_element => _element.groupId === element.groupId)\n      const { minLevel } = getCombineElementLevelRange(elementList, combineElementList)\n      if (minLevel === 0) return\n\n      const prevElement = copyOfElementList[minLevel - 1]\n      const movedElementList = copyOfElementList.splice(minLevel, combineElementList.length)\n\n      if (prevElement.groupId) {\n        const prevCombineElementList = copyOfElementList.filter(_element => _element.groupId === prevElement.groupId)\n        copyOfElementList.splice(minLevel - prevCombineElementList.length, 0, ...movedElementList)\n      }\n      else copyOfElementList.splice(minLevel - 1, 0, ...movedElementList)\n    }\n\n    else {\n      const level = elementList.findIndex(item => item.id === element.id)\n      if (level === 0) return\n\n      const prevElement = copyOfElementList[level - 1]\n      const movedElement = copyOfElementList.splice(level, 1)[0]\n\n      if (prevElement.groupId) {\n        const combineElementList = copyOfElementList.filter(_element => _element.groupId === prevElement.groupId)\n        copyOfElementList.splice(level - combineElementList.length, 0, movedElement)\n      }\n      else copyOfElementList.splice(level - 1, 0, movedElement)\n    }\n\n    return copyOfElementList\n  }\n  /**\n    * top layer\n    * @param elementList list of all elements on this page\n    * @param element The element of the current operation\n    */\n  const moveTopElement = (elementList: PPTElement[], element: PPTElement) => {\n    const copyOfElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList))\n\n    // If the element being operated is a member of a combination element, all members of the combination need to be moved together\n    if (element.groupId) {\n\n      // Obtain all members of the combination, as well as the level range of all members\n      const combineElementList = copyOfElementList.filter(_element => _element.groupId === element.groupId)\n      const { minLevel, maxLevel } = getCombineElementLevelRange(elementList, combineElementList)\n\n      // Already at the top level, cannot move further\n      if (maxLevel === elementList.length - 1) return null\n\n      // Remove the combined element from the element list, and then add the removed element to the top of the element list\n      const movedElementList = copyOfElementList.splice(minLevel, combineElementList.length)\n      copyOfElementList.push(...movedElementList)\n    }\n\n    // If the element being operated on is not a composite element member\n    else {\n\n      // Get the level of the element in the list\n      const level = elementList.findIndex(item => item.id === element.id)\n\n      // Already at the top level, cannot move further\n      if (level === elementList.length - 1) return null\n\n      // Remove the combined element from the element list, and then add the removed element to the bottom of the element list\n      copyOfElementList.splice(level, 1)\n      copyOfElementList.push(element)\n    }\n\n    return copyOfElementList\n  }\n\n  /**\n   * Put it at the bottom, the operation method is the same as putting it at the top\n   * @param elementList list of all elements on this page\n   * @param element The element of the current operation\n   */\n  const moveBottomElement = (elementList: PPTElement[], element: PPTElement) => {\n    const copyOfElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList))\n\n    if (element.groupId) {\n      const combineElementList = copyOfElementList.filter(_element => _element.groupId === element.groupId)\n      const { minLevel } = getCombineElementLevelRange(elementList, combineElementList)\n      if (minLevel === 0) return\n\n      const movedElementList = copyOfElementList.splice(minLevel, combineElementList.length)\n      copyOfElementList.unshift(...movedElementList)\n    }\n\n    else {\n      const level = elementList.findIndex(item => item.id === element.id)\n      if (level === 0) return\n\n      copyOfElementList.splice(level, 1)\n      copyOfElementList.unshift(element)\n    }\n\n    return copyOfElementList\n  }\n\n  /**\n   * Adjust element level\n   * @param element The element that needs to adjust the level\n   * @param command adjustment command: move up, move down, top, bottom\n   */\n  const orderElement = (element: PPTElement, command: ElementOrderCommands) => {\n    let newElementList\n\n    if (command === ElementOrderCommands.UP) newElementList = moveUpElement(currentSlide.value.elements, element)\n    else if (command === ElementOrderCommands.DOWN) newElementList = moveDownElement(currentSlide.value.elements, element)\n    else if (command === ElementOrderCommands.TOP) newElementList = moveTopElement(currentSlide.value.elements, element)\n    else if (command === ElementOrderCommands.BOTTOM) newElementList = moveBottomElement(currentSlide.value.elements, element)\n\n    if (!newElementList) return\n\n    slidesStore.updateSlide({ elements: newElementList })\n    addHistorySnapshot()\n  }\n\n  return {\n    orderElement,\n  }\n}","// 进入全屏\nexport const enterFullscreen = () => {\n  const docElm = document.documentElement\n  if (docElm.requestFullscreen) docElm.requestFullscreen() \n  else if (docElm.mozRequestFullScreen) docElm.mozRequestFullScreen() \n  else if (docElm.webkitRequestFullScreen) docElm.webkitRequestFullScreen()\n  else if (docElm.msRequestFullscreen) docElm.msRequestFullscreen()\n}\n\n// 退出全屏\nexport const exitFullscreen = () => {\n  if (document.exitFullscreen) document.exitFullscreen()\n  else if (document.mozCancelFullScreen) document.mozCancelFullScreen()\n  else if (document.webkitExitFullscreen) document.webkitExitFullscreen()\n  else if (document.msExitFullscreen) document.msExitFullscreen()\n}\n\n// 判断是否全屏\nexport const isFullscreen = () => {\n  const fullscreenElement = \n    document.fullscreenElement ||\n    document.mozFullScreenElement ||\n    document.webkitFullscreenElement ||\n    document.msFullscreenElement ||\n    document.webkitCurrentFullScreenElement\n  return !!fullscreenElement\n}","import { useScreenStore, useSlidesStore } from '@/store'\nimport { enterFullscreen, exitFullscreen, isFullscreen } from '@/utils/fullscreen'\n\nexport default () => {\n  const screenStore = useScreenStore()\n  const slidesStore = useSlidesStore()\n\n  // 进入放映状态（从当前页开始）\n  const enterScreening = () => {\n    enterFullscreen()\n    screenStore.setScreening(true)\n  }\n\n  // 进入放映状态（从第一页开始）\n  const enterScreeningFromStart = () => {\n    slidesStore.updateSlideIndex(0)\n    enterScreening()\n  }\n\n  // 退出放映状态\n  const exitScreening = () => {\n    screenStore.setScreening(false)\n    if (isFullscreen()) exitFullscreen()\n  }\n\n  return {\n    enterScreening,\n    enterScreeningFromStart,\n    exitScreening,\n  }\n}","import { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const { canvasPercentage, canvasScale, canvasDragged } = storeToRefs(mainStore)\n\n  const canvasScalePercentage = computed(() => Math.round(canvasScale.value * 100) + '%')\n\n  /**\n   * 缩放画布百分比\n   * @param command 缩放命令：放大、缩小\n   */\n  const scaleCanvas = (command: '+' | '-') => {\n    let percentage = canvasPercentage.value\n    const step = 5\n    const max = 200\n    const min = 30\n    if (command === '+' && percentage <= max) percentage += step\n    if (command === '-' && percentage >= min) percentage -= step\n\n    mainStore.setCanvasPercentage(percentage)\n  }\n\n  /**\n   * 设置画布缩放比例\n   * 但不是直接设置该值，而是通过设置画布可视区域百分比来动态计算\n   * @param value 目标画布缩放比例\n   */\n  const setCanvasScalePercentage = (value: number) => {\n    const percentage = Math.round(value / canvasScale.value * canvasPercentage.value) / 100\n    mainStore.setCanvasPercentage(percentage)\n  }\n\n  /**\n   * 重置画布尺寸和位置\n   */\n  const resetCanvas = () => {\n    mainStore.setCanvasPercentage(90)\n    if (canvasDragged) mainStore.setCanvasDragged(false)\n  }\n\n  return {\n    canvasScalePercentage,\n    setCanvasScalePercentage,\n    scaleCanvas,\n    resetCanvas,\n  }\n}","import { onMounted, onUnmounted } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport { ElementOrderCommands } from '@/types/edit'\nimport { KEYS } from '@/configs/hotkey'\n\nimport useSlideHandler from './useSlideHandler'\nimport useLockElement from './useLockElement'\nimport useDeleteElement from './useDeleteElement'\nimport useCombineElement from './useCombineElement'\nimport useCopyAndPasteElement from './useCopyAndPasteElement'\nimport useSelectAllElement from './useSelectAllElement'\nimport useMoveElement from './useMoveElement'\nimport useOrderElement from './useOrderElement'\nimport useHistorySnapshot from './useHistorySnapshot'\nimport useScreening from './useScreening'\nimport useScaleCanvas from './useScaleCanvas'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const keyboardStore = useKeyboardStore()\n  const {\n    activeElementIdList,\n    disableHotkeys,\n    handleElement,\n    handleElementId,\n    editorAreaFocus,\n    thumbnailsFocus,\n  } = storeToRefs(mainStore)\n  const { currentSlide } = storeToRefs(useSlidesStore())\n  const { ctrlKeyState, shiftKeyState, spaceKeyState } = storeToRefs(keyboardStore)\n\n  const {\n    updateSlideIndex,\n    copySlide,\n    createSlide,\n    deleteSlide,\n    cutSlide,\n    copyAndPasteSlide,\n    selectAllSlide,\n  } = useSlideHandler()\n\n  const { combineElements, uncombineElements } = useCombineElement()\n  const { deleteElement } = useDeleteElement()\n  const { lockElement } = useLockElement()\n  const { copyElement, cutElement, quickCopyElement } = useCopyAndPasteElement()\n  const { selectAllElement } = useSelectAllElement()\n  const { moveElement } = useMoveElement()\n  const { orderElement } = useOrderElement()\n  const { redo, undo } = useHistorySnapshot()\n  const { enterScreening, enterScreeningFromStart } = useScreening()\n  const { scaleCanvas, resetCanvas } = useScaleCanvas()\n\n  const copy = () => {\n    if (activeElementIdList.value.length) copyElement()\n    else if (thumbnailsFocus.value) copySlide()\n  }\n\n  const cut = () => {\n    if (activeElementIdList.value.length) cutElement()\n    else if (thumbnailsFocus.value) cutSlide()\n  }\n\n  const quickCopy = () => {\n    if (activeElementIdList.value.length) quickCopyElement()\n    else if (thumbnailsFocus.value) copyAndPasteSlide()\n  }\n\n  const selectAll = () => {\n    if (editorAreaFocus.value) selectAllElement()\n    if (thumbnailsFocus.value) selectAllSlide()\n  }\n\n  const lock = () => {\n    if (!editorAreaFocus.value) return\n    lockElement()\n  }\n  const combine = () => {\n    if (!editorAreaFocus.value) return\n    combineElements()\n  }\n\n  const uncombine = () => {\n    if (!editorAreaFocus.value) return\n    uncombineElements()\n  }\n\n  const remove = () => {\n    if (activeElementIdList.value.length) deleteElement()\n    else if (thumbnailsFocus.value) deleteSlide()\n  }\n\n  const move = (key: string) => {\n    if (activeElementIdList.value.length) moveElement(key)\n    else if (key === KEYS.UP || key === KEYS.DOWN) updateSlideIndex(key)\n  }\n\n  const moveSlide = (key: string) => {\n    if (key === KEYS.PAGEUP) updateSlideIndex(KEYS.UP)\n    else if (key === KEYS.PAGEDOWN) updateSlideIndex(KEYS.DOWN)\n  }\n\n  const order = (command: ElementOrderCommands) => {\n    if (!handleElement.value) return\n    orderElement(handleElement.value, command)\n  }\n\n  const create = () => {\n    if (!thumbnailsFocus.value) return\n    createSlide()\n  }\n\n  const tabActiveElement = () => {\n    if (!currentSlide.value.elements.length) return\n    if (!handleElementId.value) {\n      const firstElement = currentSlide.value.elements[0]\n      mainStore.setActiveElementIdList([firstElement.id])\n      return\n    }\n    const currentIndex = currentSlide.value.elements.findIndex(el => el.id === handleElementId.value)\n    const nextIndex = currentIndex >= currentSlide.value.elements.length - 1 ? 0 : currentIndex + 1\n    const nextElementId = currentSlide.value.elements[nextIndex].id\n\n    mainStore.setActiveElementIdList([nextElementId])\n  }\n\n  const keydownListener = (e: KeyboardEvent) => {\n    const { ctrlKey, shiftKey, altKey, metaKey } = e\n    const ctrlOrMetaKeyActive = ctrlKey || metaKey\n    \n    const key = e.key.toUpperCase()\n\n    if (ctrlOrMetaKeyActive && !ctrlKeyState.value) keyboardStore.setCtrlKeyState(true)\n    if (shiftKey && !shiftKeyState.value) keyboardStore.setShiftKeyState(true)\n    if (!disableHotkeys.value && key === KEYS.SPACE) keyboardStore.setSpaceKeyState(true)\n\n    \n    if (ctrlOrMetaKeyActive && key === KEYS.P) {\n      e.preventDefault()\n      mainStore.setDialogForExport('pdf')\n      return\n    }\n    if (shiftKey && key === KEYS.F5) {\n      e.preventDefault()\n      enterScreening()\n      keyboardStore.setShiftKeyState(false)\n      return\n    }\n    if (key === KEYS.F5) {\n      e.preventDefault()\n      enterScreeningFromStart()\n      return\n    }\n    \n    if (!editorAreaFocus.value && !thumbnailsFocus.value) return      \n\n    if (ctrlOrMetaKeyActive && key === KEYS.C) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      copy()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.X) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      cut()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.D) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      quickCopy()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.Z) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      undo()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.Y) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      redo()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.A) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      selectAll()\n    }\n    if (ctrlOrMetaKeyActive && key === KEYS.L) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      lock()\n    }\n    if (!shiftKey && ctrlOrMetaKeyActive && key === KEYS.G) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      combine()\n    }\n    if (shiftKey && ctrlOrMetaKeyActive && key === KEYS.G) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      uncombine()\n    }\n    if (altKey && key === KEYS.F) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      order(ElementOrderCommands.TOP)\n    }\n    if (altKey && key === KEYS.B) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      order(ElementOrderCommands.BOTTOM)\n    }\n    if (key === KEYS.DELETE || key === KEYS.BACKSPACE) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      remove()\n    }\n    if (key === KEYS.UP) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      move(KEYS.UP)\n    }\n    if (key === KEYS.DOWN) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      move(KEYS.DOWN)\n    }\n    if (key === KEYS.LEFT) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      move(KEYS.LEFT)\n    }\n    if (key === KEYS.RIGHT) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      move(KEYS.RIGHT)\n    }\n    if (key === KEYS.PAGEUP) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      moveSlide(KEYS.PAGEUP)\n    }\n    if (key === KEYS.PAGEDOWN) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      moveSlide(KEYS.PAGEDOWN)\n    }\n    if (key === KEYS.ENTER) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      create()\n    }\n    if (key === KEYS.MINUS) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      scaleCanvas('-')\n    }\n    if (key === KEYS.EQUAL) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      scaleCanvas('+')\n    }\n    if (key === KEYS.DIGIT_0) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      resetCanvas()\n    }\n    if (key === KEYS.TAB) {\n      if (disableHotkeys.value) return\n      e.preventDefault()\n      tabActiveElement()\n    }\n  }\n  \n  const keyupListener = () => {\n    if (ctrlKeyState.value) keyboardStore.setCtrlKeyState(false)\n    if (shiftKeyState.value) keyboardStore.setShiftKeyState(false)\n    if (spaceKeyState.value) keyboardStore.setSpaceKeyState(false)\n  }\n\n  onMounted(() => {\n    document.addEventListener('keydown', keydownListener)\n    document.addEventListener('keyup', keyupListener)\n    window.addEventListener('blur', keyupListener)\n  })\n  onUnmounted(() => {\n    document.removeEventListener('keydown', keydownListener)\n    document.removeEventListener('keyup', keyupListener)\n    window.removeEventListener('blur', keyupListener)\n  })\n}","import { onMounted, onUnmounted } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { getImageDataURL } from '@/utils/image'\nimport usePasteTextClipboardData from './usePasteTextClipboardData'\nimport useCreateElement from './useCreateElement'\n\nexport default () => {\n  const { editorAreaFocus, thumbnailsFocus, disableHotkeys } = storeToRefs(useMainStore())\n\n  const { pasteTextClipboardData } = usePasteTextClipboardData()\n  const { createImageElement } = useCreateElement()\n\n  // 粘贴图片到幻灯片元素\n  const pasteImageFile = (imageFile: File) => {\n    getImageDataURL(imageFile).then(dataURL => createImageElement(dataURL))\n  }\n\n  /**\n   * 粘贴事件监听\n   * @param e ClipboardEvent\n   */\n  const pasteListener = (e: ClipboardEvent) => {\n    if (!editorAreaFocus.value && !thumbnailsFocus.value) return\n    if (disableHotkeys.value) return\n\n    if (!e.clipboardData) return\n\n    const clipboardDataItems = e.clipboardData.items\n    const clipboardDataFirstItem = clipboardDataItems[0]\n\n    if (!clipboardDataFirstItem) return\n\n    // 如果剪贴板内有图片，优先尝试读取图片\n    for (const item of clipboardDataItems) {\n      if (item.kind === 'file' && item.type.indexOf('image') !== -1) {\n        const imageFile = item.getAsFile()\n        if (imageFile) pasteImageFile(imageFile)\n        return\n      }\n    }\n    \n    // 如果剪贴板内没有图片，但有文字内容，尝试解析文字内容\n    if (clipboardDataFirstItem.kind === 'string' && clipboardDataFirstItem.type === 'text/plain') {\n      clipboardDataFirstItem.getAsString(text => pasteTextClipboardData(text))\n    }\n  }\n\n  onMounted(() => {\n    document.addEventListener('paste', pasteListener)\n  })\n  onUnmounted(() => {\n    document.removeEventListener('paste', pasteListener)\n  })\n}","import { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { parse, Shape, Element } from 'pptxtojson'\nimport { nanoid } from 'nanoid'\nimport { Slide, TableCellStyle, TableCell, ChartType, ChartOptions, SlideBackground, PPTShapeElement, PPTLineElement } from '@/types/slides'\nimport { useSlidesStore } from '@/store'\nimport { decrypt } from '@/utils/crypto'\nimport { ShapePoolItem, SHAPE_LIST, SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useAddSlidesOrElements from '@/hooks/useAddSlidesOrElements'\n\nimport { message } from 'ant-design-vue'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { theme } = storeToRefs(useSlidesStore())\n\n  const { addSlidesFromData } = useAddSlidesOrElements()\n\n  const exporting = ref(false)\n\n  // Import the pptist file\n  const importSpecificFile = (files: FileList, cover = false) => {\n    const file = files[0]\n\n    const reader = new FileReader()\n    reader. addEventListener('load', () => {\n      try {\n        const slides = JSON. parse(decrypt(reader. result as string))\n        if (cover) slidesStore. setSlides(slides)\n        else addSlidesFromData(slides)\n      }\n      catch {\n        message.error('The file cannot be read/parsed correctly')\n      }\n    })\n    reader. readAsText(file)\n  }\n\n  const parseLineElement = (el: Shape): PPTLineElement => {\n    let start: [number, number] = [0, 0]\n    let end: [number, number] = [0, 0]\n\n    if (!el.isFlipV && !el.isFlipH) { // bottom right\n      start = [0, 0]\n      end = [el. width, el. height]\n    }\n    else if (el.isFlipV && el.isFlipH) { // top left\n      start = [el. width, el. height]\n      end = [0, 0]\n    }\n    else if (el.isFlipV && !el.isFlipH) { // top right\n      start = [0, el. height]\n      end = [el. width, 0]\n    }\n    else { // bottom left\n      start = [el. width, 0]\n      end = [0, el. height]\n    }\n    return {\n      type: 'line',\n      id: nanoid(10),\n      width: el. borderWidth || 1,\n      left: el. left,\n      top: el.top,\n      start,\n      end,\n      style: el. borderType,\n      color: el. borderColor,\n      points: ['', el.shapType === 'straightConnector1' ? 'arrow' : '']\n    }\n  }\n\n  // Import PPTX file\n  const importPPTXFile = (files: FileList) => {\n    const file = files[0]\n    if (!file) return\n\n    exporting. value = true\n\n    const shapeList: ShapePoolItem[] = []\n    for (const item of SHAPE_LIST) {\n      shapeList. push(...item. children)\n    }\n   \n    const reader = new FileReader()\n    reader.onload = async e => {\n      const json = await parse(e. target!. result as ArrayBuffer)\n\n      const width = json. size. width\n      const scale = VIEWPORT_SIZE / width\n\n      const slides: Slide[] = []\n      for (const item of json. slides) {\n        const { type, value } = item. fill\n        let background: SlideBackground\n        if (type === 'image') {\n          background = {\n            type: 'image',\n            image: value.picBase64,\n            imageSize: 'cover',\n          }\n        }\n        else {\n          background = {\n            type: 'solid',\n            color: value,\n          }\n        }\n\n        const slide: Slide = {\n          id: nanoid(10),\n          elements: [],\n          background,\n        }\n\n        const parseElements = (elements: Element[]) => {\n          for (const el of elements) {\n            el.width = el.width * scale\n            el.height = el.height * scale\n            el. left = el. left * scale\n            el.top = el.top * scale\n \n            if (el. type === 'text') {\n              slide. elements. push({\n                type: 'text',\n                id: nanoid(10),\n                width: el. width,\n                height: el. height,\n                left: el.left,\n                top: el.top,\n                rotate: el.rotate,\n                defaultFontName: theme.value.fontName,\n                defaultColor: theme.value.fontColor,\n                content: el. content,\n                lineHeight: 1,\n                outline: {\n                  color: el. borderColor,\n                  width: el. borderWidth,\n                  style: el. borderType,\n                },\n                fill: el.fillColor,\n              })\n            }\n            else if (el. type === 'image') {\n              slide. elements. push({\n                type: 'image',\n                id: nanoid(10),\n                src: el.src,\n                width: el.width,\n                height: el. height,\n                left: el. left,\n                top: el.top,\n                fixedRatio: true,\n                rotate: el.rotate,\n              })\n            }\n            else if (el. type === 'shape') {\n              if (el.shapType === 'line' || el.shapType === 'straightConnector1') {\n                const lineElement = parseLineElement(el)\n                slide. elements. push(lineElement)\n              }\n              else {\n                const shape = shapeList.find(item => item.pptxShapeType === el.shapType)\n                \n                const element: PPTShapeElement = {\n                  type: 'shape',\n                  id: nanoid(10),\n                  width: el.width,\n                  height: el.height,\n                  left: el.left,\n                  top: el.top,\n                  viewBox: [200, 200],\n                  path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n                  fill: el.fillColor || 'none',\n                  fixedRatio: false,\n                  rotate: el.rotate,\n                  outline: {\n                    color: el.borderColor,\n                    width: el.borderWidth,\n                    style: el.borderType,\n                  },\n                  text: {\n                    content: el.content,\n                    defaultFontName: theme.value.fontName,\n                    defaultColor: theme.value.fontColor,\n                    align: 'middle',\n                  }\n                }\n    \n                if (shape) {\n                  element.path = shape.path\n                  element.viewBox = shape.viewBox\n    \n                  if (shape.pathFormula) {\n                    element.pathFormula = shape.pathFormula\n                    element.viewBox = [el.width, el.height]\n    \n                    const pathFormula = SHAPE_PATH_FORMULAS[shape.pathFormula]\n                    if ('editable' in pathFormula) {\n                      element.path = pathFormula.formula(el.width, el.height, pathFormula.defaultValue)\n                      element.keypoint = pathFormula.defaultValue\n                    }\n                    else element.path = pathFormula.formula(el.width, el.height)\n                  }\n                }\n    \n                slide.elements.push(element)\n              }\n            }\n            else if (el.type === 'table') {\n              const row = el.data.length\n              const col = el.data[0].length\n  \n              const style: TableCellStyle = {\n                fontname: theme.value.fontName,\n                color: theme.value.fontColor,\n              }\n              const data: TableCell[][] = []\n              for (let i = 0; i < row; i++) {\n                const rowCells: TableCell[] = []\n                for (let j = 0; j < col; j++) {\n                  const cellData = el.data[i][j]\n                  rowCells.push({\n                    id: nanoid(10),\n                    colspan: 1,\n                    rowspan: cellData.rowSpan || 1,\n                    text: cellData.text,\n                    style,\n                  })\n                }\n                data.push(rowCells)\n              }\n  \n              const colWidths: number[] = new Array(col).fill(1 / col)\n  \n              slide.elements.push({\n                type: 'table',\n                id: nanoid(10),\n                width: el.width,\n                height: el.height,\n                left: el.left,\n                top: el.top,\n                colWidths,\n                rotate: 0,\n                data,\n                outline: {\n                  width: 2,\n                  style: 'solid',\n                  color: '#eeece1',\n                },\n                theme: {\n                  color: theme.value.themeColor,\n                  rowHeader: true,\n                  rowFooter: false,\n                  colHeader: false,\n                  colFooter: false,\n                },\n                cellMinHeight: 36,\n              })\n            }\n            else if (el.type === 'chart') {\n              let labels: string[]\n              let legends: string[]\n              let series: number[][]\n  \n              if (el.chartType === 'scatterChart') {\n                labels = el.data[0].map(item => item + '')\n                legends = ['Series 1']\n                series = [el.data[1]]\n              }\n              else {\n                labels = Object.values(el.data[0].xlabels)\n                legends = el.data.map(item => item.key)\n                series = el.data.map(item => item.values.map(v => v.y))\n              }\n  \n              let options: ChartOptions = {}\n  \n              let chartType: ChartType = 'bar'\n              if (el.chartType === 'barChart') {\n                chartType = 'bar'\n              }\n              if (el.chartType === 'stackedBarChart') {\n                chartType = 'bar'\n                options = { stackBars: true }\n              }\n              else if (el.chartType === 'lineChart') {\n                chartType = 'line'\n              }\n              else if (el.chartType === 'areaChart') {\n                chartType = 'line'\n                options = { showArea: true }\n              }\n              else if (el.chartType === 'scatterChart') {\n                chartType = 'line'\n                options = { showLine: false }\n              }\n              else if (el.chartType === 'pieChart' || el.chartType === 'pie3DChart') {\n                chartType = 'pie'\n              }\n  \n              slide.elements.push({\n                type: 'chart',\n                id: nanoid(10),\n                chartType: chartType,\n                width: el.width,\n                height: el.height,\n                left: el.left,\n                top: el.top,\n                rotate: 0,\n                themeColor: [theme.value.themeColor],\n                gridColor: theme.value.fontColor,\n                data: {\n                  labels,\n                  legends,\n                  series,\n                },\n                options,\n              })\n            }\n            else if (el.type === 'group') {\n              const elements = el.elements.map(_el => ({\n                ..._el,\n                left: _el.left + el.left,\n                top: _el.top + el.top,\n              }))\n              parseElements(elements)\n            }\n          }\n        }\n        parseElements(item.elements)\n        slides.push(slide)\n      }\n      addSlidesFromData(slides)\n      exporting.value = false\n    }\n    reader.readAsArrayBuffer(file)\n  }\n\n  return {\n    importSpecificFile,\n    importPPTXFile,\n    exporting,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4b1afc5f\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"hotkey-doc\" }\nconst _hoisted_2 = { class: \"title\" }\nconst _hoisted_3 = { class: \"label\" }\nconst _hoisted_4 = { class: \"value\" }\n\nimport { HOTKEY_DOC } from '@/configs/hotkey' \n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'HotkeyDoc',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(HOTKEY_DOC), (item) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: item.type\n      }, [\n        _createElementVNode(\"div\", _hoisted_2, _toDisplayString(item.type), 1),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.children, (hotkey) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: \"hotkey-item\",\n            key: hotkey.label\n          }, [\n            _createElementVNode(\"div\", _hoisted_3, _toDisplayString(hotkey.label), 1),\n            _createElementVNode(\"div\", _hoisted_4, _toDisplayString(hotkey.value), 1)\n          ]))\n        }), 128))\n      ], 64))\n    }), 128))\n  ]))\n}\n}\n\n})","import script from \"./HotkeyDoc.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./HotkeyDoc.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./HotkeyDoc.vue?vue&type=style&index=0&id=4b1afc5f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4b1afc5f\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-cdb026e2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"accept\"]\n\nimport { ref } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FileInput',\n  props: {\n  accept: {\n    type: String,\n    default: 'image/*',\n  },\n},\n  emits: [\"change\"],\n  setup(__props, { emit }) {\n\n\n\n\n\nconst inputRef = ref<HTMLInputElement>()\n\nconst handleClick = () => {\n  if (!inputRef.value) return\n  inputRef.value.value = ''\n  inputRef.value.click()\n}\nconst handleChange = (e: Event) => {\n  const files = (e.target as HTMLInputElement).files\n  if (files) emit('change', files)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"file-input\",\n    onClick: _cache[1] || (_cache[1] = ($event: any) => (handleClick()))\n  }, [\n    _renderSlot(_ctx.$slots, \"default\"),\n    _createElementVNode(\"input\", {\n      class: \"input\",\n      type: \"file\",\n      name: \"upload\",\n      ref_key: \"inputRef\",\n      ref: inputRef,\n      accept: __props.accept,\n      onChange: _cache[0] || (_cache[0] = $event => handleChange($event))\n    }, null, 40, _hoisted_1)\n  ]))\n}\n}\n\n})","import script from \"./FileInput.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FileInput.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FileInput.vue?vue&type=style&index=0&id=cdb026e2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-cdb026e2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5a56d59c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"fullscreen-spin\"\n}\nconst _hoisted_2 = { class: \"spin\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"spinner\" }, null, -1))\nconst _hoisted_4 = { class: \"text\" }\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FullscreenSpin',\n  props: {\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  tip: {\n    type: String,\n    default: '',\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.loading)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createElementVNode(\"div\", _hoisted_4, _toDisplayString(__props.tip), 1)\n        ])\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./FullscreenSpin.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FullscreenSpin.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FullscreenSpin.vue?vue&type=style&index=0&id=5a56d59c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5a56d59c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-590daa64\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"editor-header\" }\nconst _hoisted_2 = { class: \"left\" }\nconst _hoisted_3 = { class: \"menu-item\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"text\" }, \"File\", -1))\nconst _hoisted_5 = { class: \"menu-item\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"text\" }, \"Edit\", -1))\nconst _hoisted_7 = { class: \"menu-item\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"text\" }, \"Demo\", -1))\nconst _hoisted_9 = { class: \"menu-item\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"text\" }, \"Help\", -1))\nconst _hoisted_11 = { class: \"right\" }\nconst _hoisted_12 = {\n  href: \"https://github.com/supernovate07/super-ppt\",\n  target: \"_blank\"\n}\nconst _hoisted_13 = { class: \"menu-item\" }\n\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport useScreening from '@/hooks/useScreening'\nimport useSlideHandler from '@/hooks/useSlideHandler'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useImport from '@/hooks/useImport'\n\nimport HotkeyDoc from './HotkeyDoc.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport FullscreenSpin from '@/components/FullscreenSpin.vue'\nimport {\n  Tooltip,\n  Dropdown,\n  Menu,\n  Drawer,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst MenuItem = Menu.Item\n\nconst mainStore = useMainStore()\nconst { gridLineSize, showRuler, showSelectPanel } = storeToRefs(mainStore)\n\nconst { enterScreening, enterScreeningFromStart } = useScreening()\nconst { createSlide, deleteSlide, resetSlides } = useSlideHandler()\nconst { redo, undo } = useHistorySnapshot()\nconst { importSpecificFile, importPPTXFile, exporting } = useImport()\n\nconst setDialogForExport = mainStore.setDialogForExport\n\nconst toggleGridLines = () => {\n  mainStore.setGridLineSize(gridLineSize.value ? 0 : 50)\n}\n\nconst toggleRuler = () => {\n  mainStore.setRulerState(!showRuler.value)\n}\n\nconst openSelectPanel = () => {\n  if (!showSelectPanel.value) mainStore.setSelectPanelState(true)\n  else mainStore.setSelectPanelState(false)\n}\n\nconst hotkeyDrawerVisible = ref(false)\n\nconst goLink = (url: string) => window.open(url)\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconFolderClose = _resolveComponent(\"IconFolderClose\")!\n  const _component_IconEdit = _resolveComponent(\"IconEdit\")!\n  const _component_IconPpt = _resolveComponent(\"IconPpt\")!\n  const _component_IconHelpcenter = _resolveComponent(\"IconHelpcenter\")!\n  const _component_IconShare = _resolveComponent(\"IconShare\")!\n  const _component_IconGithub = _resolveComponent(\"IconGithub\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_unref(Dropdown), { trigger: ['click'] }, {\n        overlay: _withCtx(() => [\n          _createVNode(_unref(Menu), null, {\n            default: _withCtx(() => [\n              _createVNode(FileInput, {\n                accept: \".super-ppt\",\n                onChange: _cache[0] || (_cache[0] = files => _unref(importSpecificFile)(files))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(MenuItem), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Import super-ppt file\")\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(FileInput, {\n                accept: \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\n                onChange: _cache[1] || (_cache[1] = files => _unref(importPPTXFile)(files))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(MenuItem), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Import pptx file (demo)\")\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(setDialogForExport)('pptx')))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Export file\")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createVNode(_component_IconFolderClose),\n            _createTextVNode(),\n            _hoisted_4\n          ])\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Dropdown), { trigger: ['click'] }, {\n        overlay: _withCtx(() => [\n          _createVNode(_unref(Menu), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[3] || (_cache[3] = ($event: any) => (_unref(undo)()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Undo\")\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[4] || (_cache[4] = ($event: any) => (_unref(redo)()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Redo\")\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[5] || (_cache[5] = ($event: any) => (_unref(createSlide)()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Add Page\")\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[6] || (_cache[6] = ($event: any) => (_unref(deleteSlide)()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Delete page\")\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[7] || (_cache[7] = ($event: any) => (toggleGridLines()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_unref(gridLineSize) ? 'Turn off gridlines' : 'Turn on gridlines'), 1)\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[8] || (_cache[8] = ($event: any) => (toggleRuler()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_unref(showRuler) ? 'Close Ruler' : 'Open Ruler'), 1)\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[9] || (_cache[9] = ($event: any) => (_unref(resetSlides)()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Reset Slides\")\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[10] || (_cache[10] = ($event: any) => (openSelectPanel()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_unref(showSelectPanel) ? 'Close Select Panel' : 'Open Select Panel'), 1)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createVNode(_component_IconEdit),\n            _createTextVNode(),\n            _hoisted_6\n          ])\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Dropdown), { trigger: ['click'] }, {\n        overlay: _withCtx(() => [\n          _createVNode(_unref(Menu), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[11] || (_cache[11] = ($event: any) => (_unref(enterScreeningFromStart)()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Start from scratch\")\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[12] || (_cache[12] = ($event: any) => (_unref(enterScreening)()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Start from current page\")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_7, [\n            _createVNode(_component_IconPpt),\n            _createTextVNode(),\n            _hoisted_8\n          ])\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Dropdown), { trigger: ['click'] }, {\n        overlay: _withCtx(() => [\n          _createVNode(_unref(Menu), null, {\n            default: _withCtx(() => [\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[13] || (_cache[13] = ($event: any) => (goLink('https://github.com/supernovate07/super-ppt/issues')))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Feedback\")\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[14] || (_cache[14] = ($event: any) => (goLink('https://github.com/supernovate07/super-ppt/blob/master/doc/Q&A.md')))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"FAQ\")\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(MenuItem), {\n                onClick: _cache[15] || (_cache[15] = ($event: any) => (hotkeyDrawerVisible.value = true))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Shortcut keys\")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_9, [\n            _createVNode(_component_IconHelpcenter),\n            _createTextVNode(),\n            _hoisted_10\n          ])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_11, [\n      _createVNode(_unref(Tooltip), {\n        mouseLeaveDelay: 0,\n        title: \"Export\"\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", {\n            class: \"menu-item\",\n            onClick: _cache[16] || (_cache[16] = ($event: any) => (_unref(setDialogForExport)('pptx')))\n          }, [\n            _createVNode(_component_IconShare, {\n              size: \"18\",\n              fill: \"#666\"\n            })\n          ])\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Tooltip), {\n        mouseLeaveDelay: 0,\n        title: \"Slide Show\"\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", {\n            class: \"menu-item\",\n            onClick: _cache[17] || (_cache[17] = ($event: any) => (_unref(enterScreening)()))\n          }, [\n            _createVNode(_component_IconPpt, {\n              size: \"19\",\n              fill: \"#666\",\n              style: {\"margin-top\":\"1px\"}\n            })\n          ])\n        ]),\n        _: 1\n      }),\n      _createElementVNode(\"a\", _hoisted_12, [\n        _createElementVNode(\"div\", _hoisted_13, [\n          _createVNode(_component_IconGithub, {\n            size: \"18\",\n            fill: \"#666\"\n          })\n        ])\n      ])\n    ]),\n    _createVNode(_unref(Drawer), {\n      width: \"320\",\n      placement: \"right\",\n      closable: false,\n      visible: hotkeyDrawerVisible.value,\n      onClose: _cache[18] || (_cache[18] = ($event: any) => (hotkeyDrawerVisible.value = false))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(HotkeyDoc)\n      ]),\n      _: 1\n    }, 8, [\"visible\"]),\n    _createVNode(FullscreenSpin, {\n      loading: _unref(exporting),\n      tip: \"Importing...\"\n    }, null, 8, [\"loading\"])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=590daa64&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-590daa64\"]])\n\nexport default __exports__","import { InjectionKey, Ref } from 'vue'\n\nexport type SlideScale = Ref<number>\nexport type SlideId = Ref<string>\n\nexport const injectKeySlideScale: InjectionKey<SlideScale> = Symbol()\nexport const injectKeySlideId: InjectionKey<SlideId> = Symbol()","// 清除文字选区\nexport const removeAllRanges = () => {\n  const selection = window.getSelection()\n  selection && selection.removeAllRanges()\n}","import { ref, computed, onMounted, onUnmounted, Ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nexport default (canvasRef: Ref<HTMLElement | undefined>) => {\n  const viewportLeft = ref(0)\n  const viewportTop = ref(0)\n\n  const mainStore = useMainStore()\n  const { canvasPercentage, canvasDragged } = storeToRefs(mainStore)\n  const { viewportRatio } = storeToRefs(useSlidesStore())\n\n  // 初始化画布可视区域的位置\n  const initViewportPosition = () => {\n    if (!canvasRef.value) return\n    const canvasWidth = canvasRef.value.clientWidth\n    const canvasHeight = canvasRef.value.clientHeight\n\n    if (canvasHeight / canvasWidth > viewportRatio.value) {\n      const viewportActualWidth = canvasWidth * (canvasPercentage.value / 100)\n      mainStore.setCanvasScale(viewportActualWidth / VIEWPORT_SIZE)\n      viewportLeft.value = (canvasWidth - viewportActualWidth) / 2\n      viewportTop.value = (canvasHeight - viewportActualWidth * viewportRatio.value) / 2\n    }\n    else {\n      const viewportActualHeight = canvasHeight * (canvasPercentage.value / 100)\n      mainStore.setCanvasScale(viewportActualHeight / (VIEWPORT_SIZE * viewportRatio.value))\n      viewportLeft.value = (canvasWidth - viewportActualHeight / viewportRatio.value) / 2\n      viewportTop.value = (canvasHeight - viewportActualHeight) / 2\n    }\n  }\n\n  // 更新画布可视区域的位置\n  const setViewportPosition = (newValue: number, oldValue: number) => {\n    if (!canvasRef.value) return\n    const canvasWidth = canvasRef.value.clientWidth\n    const canvasHeight = canvasRef.value.clientHeight\n\n    const newViewportActualWidth = canvasWidth * (newValue / 100)\n    const oldViewportActualWidth = canvasWidth * (oldValue / 100)\n    const newViewportActualHeight = canvasHeight * (newValue / 100)\n    const oldViewportActualHeight = canvasHeight * (oldValue / 100)\n\n    if (canvasHeight / canvasWidth > viewportRatio.value) {\n      mainStore.setCanvasScale(newViewportActualWidth / VIEWPORT_SIZE)\n    }\n    else {\n      mainStore.setCanvasScale(newViewportActualHeight / (VIEWPORT_SIZE * viewportRatio.value))\n    }\n    viewportLeft.value = viewportLeft.value - (newViewportActualWidth - oldViewportActualWidth) / 2\n    viewportTop.value = viewportTop.value - (newViewportActualHeight - oldViewportActualHeight) / 2\n  }\n\n  // 可视区域缩放或比例变化时，重置/更新可视区域的位置\n  watch(canvasPercentage, setViewportPosition)\n  watch(viewportRatio, initViewportPosition)\n\n  // 画布拖拽状态改变（复原）时，重置可视区域的位置\n  watch(canvasDragged, () => {\n    if (!canvasDragged.value) initViewportPosition()\n  })\n\n  // 画布可视区域位置和大小的样式\n  const viewportStyles = computed(() => ({\n    width: VIEWPORT_SIZE,\n    height: VIEWPORT_SIZE * viewportRatio.value,\n    left: viewportLeft.value,\n    top: viewportTop.value,\n  }))\n\n  // 监听画布尺寸发生变化时，重置可视区域的位置\n  const resizeObserver = new ResizeObserver(initViewportPosition)\n\n  onMounted(() => {\n    if (canvasRef.value) resizeObserver.observe(canvasRef.value)\n  })\n  onUnmounted(() => {\n    if (canvasRef.value) resizeObserver.unobserve(canvasRef.value)\n  })\n\n  // 拖拽画布\n  const dragViewport = (e: MouseEvent) => {\n    let isMouseDown = true\n\n    const startPageX = e.pageX\n    const startPageY = e.pageY\n\n    const originLeft = viewportLeft.value\n    const originTop = viewportTop.value\n\n    document.onmousemove = e => {\n      if (!isMouseDown) return\n\n      const currentPageX = e.pageX\n      const currentPageY = e.pageY\n\n      viewportLeft.value = originLeft + (currentPageX - startPageX)\n      viewportTop.value = originTop + (currentPageY - startPageY)\n    }\n\n    document.onmouseup = () => {\n      isMouseDown = false\n      document.onmousemove = null\n      document.onmouseup = null\n\n      mainStore.setCanvasDragged(true)\n    }\n  }\n\n  return {\n    viewportStyles,\n    dragViewport,\n  }\n}","import { Ref, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { PPTElement } from '@/types/slides'\nimport { getElementRange } from '@/utils/element'\n\nexport default (elementList: Ref<PPTElement[]>, viewportRef: Ref<HTMLElement | undefined>) => {\n  const mainStore = useMainStore()\n  const { canvasScale, hiddenElementIdList } = storeToRefs(mainStore)\n\n  const mouseSelectionVisible = ref(false)\n  const mouseSelectionQuadrant = ref(1)\n  const mouseSelection = ref({\n    top: 0,\n    left: 0,\n    width: 0,\n    height: 0,\n  })\n\n  // 更新鼠标框选范围\n  const updateMouseSelection = (e: MouseEvent) => {\n    if (!viewportRef.value) return\n\n    let isMouseDown = true\n    const viewportRect = viewportRef.value.getBoundingClientRect()\n\n    const minSelectionRange = 5\n    \n    const startPageX = e.pageX\n    const startPageY = e.pageY\n\n    const left = (startPageX - viewportRect.x) / canvasScale.value\n    const top = (startPageY - viewportRect.y) / canvasScale.value\n\n    // 确定框选的起始位置和其他默认值初始化\n    mouseSelection.value = {\n      top: top,\n      left: left,\n      width: 0,\n      height: 0,\n    }\n    mouseSelectionVisible.value = false\n    mouseSelectionQuadrant.value = 4\n\n    document.onmousemove = e => {\n      if (!isMouseDown) return\n\n      const currentPageX = e.pageX\n      const currentPageY = e.pageY\n\n      const offsetWidth = (currentPageX - startPageX) / canvasScale.value\n      const offsetHeight = (currentPageY - startPageY) / canvasScale.value\n\n      const width = Math.abs(offsetWidth)\n      const height = Math.abs(offsetHeight)\n\n      if ( width < minSelectionRange || height < minSelectionRange ) return\n      \n      // 计算鼠标框选（移动）的方向\n      // 按四个象限的位置区分，如右下角为第四象限\n      let quadrant = 0\n      if ( offsetWidth > 0 && offsetHeight > 0 ) quadrant = 4\n      else if ( offsetWidth < 0 && offsetHeight < 0 ) quadrant = 1\n      else if ( offsetWidth > 0 && offsetHeight < 0 ) quadrant = 2\n      else if ( offsetWidth < 0 && offsetHeight > 0 ) quadrant = 3\n\n      // 更新框选范围\n      mouseSelection.value = {\n        ...mouseSelection.value,\n        width: width,\n        height: height,\n      }\n      mouseSelectionVisible.value = true\n      mouseSelectionQuadrant.value = quadrant\n    }\n\n    document.onmouseup = () => {\n      document.onmousemove = null\n      document.onmouseup = null\n      isMouseDown = false\n\n      // 计算画布中的元素是否处在鼠标选择范围中，处在范围中的元素设置为被选中状态\n      let inRangeElementList: PPTElement[] = []\n      for (let i = 0; i < elementList.value.length; i++) {\n        const element = elementList.value[i]\n        const mouseSelectionLeft = mouseSelection.value.left\n        const mouseSelectionTop = mouseSelection.value.top\n        const mouseSelectionWidth = mouseSelection.value.width\n        const mouseSelectionHeight = mouseSelection.value.height\n\n        const { minX, maxX, minY, maxY } = getElementRange(element)\n\n        // 计算元素是否处在框选范围内时，四个框选方向的计算方式有差异\n        let isInclude = false\n        if (mouseSelectionQuadrant.value === 4) {\n          isInclude = minX > mouseSelectionLeft && \n                      maxX < mouseSelectionLeft + mouseSelectionWidth && \n                      minY > mouseSelectionTop && \n                      maxY < mouseSelectionTop + mouseSelectionHeight\n        }\n        else if (mouseSelectionQuadrant.value === 1) {\n          isInclude = minX > (mouseSelectionLeft - mouseSelectionWidth) && \n                      maxX < (mouseSelectionLeft - mouseSelectionWidth) + mouseSelectionWidth && \n                      minY > (mouseSelectionTop - mouseSelectionHeight) && \n                      maxY < (mouseSelectionTop - mouseSelectionHeight) + mouseSelectionHeight\n        }\n        else if (mouseSelectionQuadrant.value === 2) {\n          isInclude = minX > mouseSelectionLeft && \n                      maxX < mouseSelectionLeft + mouseSelectionWidth && \n                      minY > (mouseSelectionTop - mouseSelectionHeight) && \n                      maxY < (mouseSelectionTop - mouseSelectionHeight) + mouseSelectionHeight\n        }\n        else if (mouseSelectionQuadrant.value === 3) {\n          isInclude = minX > (mouseSelectionLeft - mouseSelectionWidth) && \n                      maxX < (mouseSelectionLeft - mouseSelectionWidth) + mouseSelectionWidth && \n                      minY > mouseSelectionTop && \n                      maxY < mouseSelectionTop + mouseSelectionHeight\n        }\n\n        // 被锁定或被隐藏的元素即使在范围内，也不需要设置为选中状态\n        if (isInclude && !element.lock && !hiddenElementIdList.value.includes(element.id)) inRangeElementList.push(element)\n      }\n\n      // 如果范围内有组合元素的成员，需要该组全部成员都处在范围内，才会被设置为选中状态\n      inRangeElementList = inRangeElementList.filter(inRangeElement => {\n        if (inRangeElement.groupId) {\n          const inRangeElementIdList = inRangeElementList.map(inRangeElement => inRangeElement.id)\n          const groupElementList = elementList.value.filter(element => element.groupId === inRangeElement.groupId)\n          return groupElementList.every(groupElement => inRangeElementIdList.includes(groupElement.id))\n        }\n        return true\n      })\n      const inRangeElementIdList = inRangeElementList.map(inRangeElement => inRangeElement.id)\n      mainStore.setActiveElementIdList(inRangeElementIdList)\n\n      mouseSelectionVisible.value = false\n    }\n  }\n\n  return {\n    mouseSelection,\n    mouseSelectionVisible,\n    mouseSelectionQuadrant,\n    updateMouseSelection,\n  }\n}","import { onMounted, onUnmounted, Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { getImageDataURL } from '@/utils/image'\nimport { parseText2Paragraphs } from '@/utils/textParser'\nimport useCreateElement from '@/hooks/useCreateElement'\n\nexport default (elementRef: Ref<HTMLElement | undefined>) => {\n  const { disableHotkeys } = storeToRefs(useMainStore())\n\n  const { createImageElement, createTextElement } = useCreateElement()\n\n  // 拖拽元素到画布中\n  const handleDrop = (e: DragEvent) => {\n    if (!e.dataTransfer || e.dataTransfer.items.length === 0) return\n    const dataTransferItem = e.dataTransfer.items[0]\n\n    // 检查事件对象中是否存在图片，存在则插入图片，否则继续检查是否存在文字，存在则插入文字\n    if (dataTransferItem.kind === 'file' && dataTransferItem.type.indexOf('image') !== -1) {\n      const imageFile = dataTransferItem.getAsFile()\n      if (imageFile) {\n        getImageDataURL(imageFile).then(dataURL => createImageElement(dataURL))\n      }\n    }\n    else if (dataTransferItem.kind === 'string' && dataTransferItem.type === 'text/plain') {\n      dataTransferItem.getAsString(text => {\n        if (disableHotkeys.value) return\n        const string = parseText2Paragraphs(text)\n        createTextElement({\n          left: 0,\n          top: 0,\n          width: 600,\n          height: 50,\n        }, { content: string })\n      })\n    }\n  }\n\n  onMounted(() => {\n    elementRef.value && elementRef.value.addEventListener('drop', handleDrop)\n\n    document.ondragleave = e => e.preventDefault()\n    document.ondrop = e => e.preventDefault()\n    document.ondragenter = e => e.preventDefault()\n    document.ondragover = e => e.preventDefault()\n  })\n  onUnmounted(() => {\n    elementRef.value && elementRef.value.removeEventListener('drop', handleDrop)\n\n    document.ondragleave = null\n    document.ondrop = null\n    document.ondragenter = null\n    document.ondragover = null\n  })\n}","import { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElement, PPTLineElement, PPTVideoElement, PPTAudioElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\n/**\n * 计算给定坐标到原点连线的弧度\n * @param x 坐标x\n * @param y 坐标y\n */\nconst getAngleFromCoordinate = (x: number, y: number) => {\n  const radian = Math.atan2(x, y)\n  const angle = 180 / Math.PI * radian\n  return angle\n}\n\nexport default (elementList: Ref<PPTElement[]>, viewportRef: Ref<HTMLElement | undefined>) => {\n  const slidesStore = useSlidesStore()\n  const { canvasScale } = storeToRefs(useMainStore())\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // 旋转元素\n  const rotateElement = (element: Exclude<PPTElement, PPTLineElement | PPTVideoElement | PPTAudioElement>) => {\n    let isMouseDown = true\n    let angle = 0\n    const elOriginRotate = element.rotate || 0\n\n    const elLeft = element.left\n    const elTop = element.top\n    const elWidth = element.width\n    const elHeight = element.height\n\n    // 元素中心点（旋转中心点）\n    const centerX = elLeft + elWidth / 2\n    const centerY = elTop + elHeight / 2\n\n    if (!viewportRef.value) return\n    const viewportRect = viewportRef.value.getBoundingClientRect()\n\n    document.onmousemove = e => {\n      if (!isMouseDown) return\n      \n      // 计算当前鼠标位置相对元素中心点连线的角度（弧度）\n      const mouseX = (e.pageX - viewportRect.left) / canvasScale.value\n      const mouseY = (e.pageY - viewportRect.top) / canvasScale.value\n      const x = mouseX - centerX\n      const y = centerY - mouseY\n\n      angle = getAngleFromCoordinate(x, y)\n\n      // 靠近45倍数的角度时有吸附效果\n      const sorptionRange = 5\n      if ( Math.abs(angle) <= sorptionRange ) angle = 0\n      else if ( angle > 0 && Math.abs(angle - 45) <= sorptionRange ) angle -= (angle - 45)\n      else if ( angle < 0 && Math.abs(angle + 45) <= sorptionRange ) angle -= (angle + 45)\n      else if ( angle > 0 && Math.abs(angle - 90) <= sorptionRange ) angle -= (angle - 90)\n      else if ( angle < 0 && Math.abs(angle + 90) <= sorptionRange ) angle -= (angle + 90)\n      else if ( angle > 0 && Math.abs(angle - 135) <= sorptionRange ) angle -= (angle - 135)\n      else if ( angle < 0 && Math.abs(angle + 135) <= sorptionRange ) angle -= (angle + 135)\n      else if ( angle > 0 && Math.abs(angle - 180) <= sorptionRange ) angle -= (angle - 180)\n      else if ( angle < 0 && Math.abs(angle + 180) <= sorptionRange ) angle -= (angle + 180)\n\n      elementList.value = elementList.value.map(el => element.id === el.id ? { ...el, rotate: angle } : el)\n    }\n\n    document.onmouseup = () => {\n      isMouseDown = false\n      document.onmousemove = null\n      document.onmouseup = null\n\n      if (elOriginRotate === angle) return\n\n      slidesStore.updateSlide({ elements: elementList.value })\n      addHistorySnapshot()\n    }\n  }\n\n  return {\n    rotateElement,\n  }\n}","export const ELEMENT_TYPE_ZH: { [key: string]: string } = {\n  text: 'text',\n  image: 'picture',\n  shape: 'shape',\n  line: 'line',\n  chart: 'chart',\n  table: 'table',\n  video: 'Video',\n  audio: 'Audio',\n  latex: 'formula',\n}\n\nexport const MIN_SIZE: { [key: string]: number } = {\n  text: 20,\n  image: 20,\n  shape: 15,\n  chart: 200,\n  table: 20,\n  video: 250,\n  audio: 20,\n  latex: 20,\n}","import { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport { PPTElement, PPTImageElement, PPTLineElement, PPTShapeElement } from '@/types/slides'\nimport { OperateResizeHandlers, AlignmentLineProps, MultiSelectRange } from '@/types/edit'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport { MIN_SIZE } from '@/configs/element'\nimport { SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport { AlignLine, uniqAlignLines } from '@/utils/element'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\ninterface RotateElementData {\n  left: number\n  top: number\n  width: number\n  height: number\n}\n\n/**\n * 计算旋转后的元素八个缩放点的位置\n * @param element 元素原始位置大小信息\n * @param angle 旋转角度\n */\nconst getRotateElementPoints = (element: RotateElementData, angle: number) => {\n  const { left, top, width, height } = element\n\n  const radius = Math.sqrt( Math.pow(width, 2) + Math.pow(height, 2) ) / 2\n  const auxiliaryAngle = Math.atan(height / width) * 180 / Math.PI\n\n  const tlbraRadian = (180 - angle - auxiliaryAngle) * Math.PI / 180\n  const trblaRadian = (auxiliaryAngle - angle) * Math.PI / 180\n  const taRadian = (90 - angle) * Math.PI / 180\n  const raRadian = angle * Math.PI / 180\n\n  const halfWidth = width / 2\n  const halfHeight = height / 2\n\n  const middleLeft = left + halfWidth\n  const middleTop = top + halfHeight\n\n  const leftTopPoint = {\n    left: middleLeft + radius * Math.cos(tlbraRadian),\n    top: middleTop - radius * Math.sin(tlbraRadian),\n  }\n  const topPoint = {\n    left: middleLeft + halfHeight * Math.cos(taRadian),\n    top: middleTop - halfHeight * Math.sin(taRadian),\n  }\n  const rightTopPoint = {\n    left: middleLeft + radius * Math.cos(trblaRadian),\n    top: middleTop - radius * Math.sin(trblaRadian),\n  }\n  const rightPoint = {\n    left: middleLeft + halfWidth * Math.cos(raRadian),\n    top: middleTop + halfWidth * Math.sin(raRadian),\n  }\n  const rightBottomPoint = {\n    left: middleLeft - radius * Math.cos(tlbraRadian),\n    top: middleTop + radius * Math.sin(tlbraRadian),\n  }\n  const bottomPoint = {\n    left: middleLeft - halfHeight * Math.sin(raRadian),\n    top: middleTop + halfHeight * Math.cos(raRadian),\n  }\n  const leftBottomPoint = {\n    left: middleLeft - radius * Math.cos(trblaRadian),\n    top: middleTop + radius * Math.sin(trblaRadian),\n  }\n  const leftPoint = {\n    left: middleLeft - halfWidth * Math.cos(raRadian),\n    top: middleTop - halfWidth * Math.sin(raRadian),\n  }\n\n  return { leftTopPoint, topPoint, rightTopPoint, rightPoint, rightBottomPoint, bottomPoint, leftBottomPoint, leftPoint }\n}\n\n/**\n * 获取元素某缩放点相对的另一个点的位置，如：【上】对应【下】、【左上】对应【右下】\n * @param direction 当前操作的缩放点\n * @param points 旋转后的元素八个缩放点的位置\n */\nconst getOppositePoint = (direction: OperateResizeHandlers, points: ReturnType<typeof getRotateElementPoints>): { left: number; top: number } => {\n  const oppositeMap = {\n    [OperateResizeHandlers.RIGHT_BOTTOM]: points.leftTopPoint,\n    [OperateResizeHandlers.LEFT_BOTTOM]: points.rightTopPoint,\n    [OperateResizeHandlers.LEFT_TOP]: points.rightBottomPoint,\n    [OperateResizeHandlers.RIGHT_TOP]: points.leftBottomPoint,\n    [OperateResizeHandlers.TOP]: points.bottomPoint,\n    [OperateResizeHandlers.BOTTOM]: points.topPoint,\n    [OperateResizeHandlers.LEFT]: points.rightPoint,\n    [OperateResizeHandlers.RIGHT]: points.leftPoint,\n  }\n  return oppositeMap[direction]\n}\n\nexport default (\n  elementList: Ref<PPTElement[]>,\n  alignmentLines: Ref<AlignmentLineProps[]>,\n  canvasScale: Ref<number>,\n) => {\n  const mainStore = useMainStore()\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList, activeGroupElementId } = storeToRefs(mainStore)\n  const { viewportRatio } = storeToRefs(slidesStore)\n  const { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // 缩放元素\n  const scaleElement = (e: MouseEvent | TouchEvent, element: Exclude<PPTElement, PPTLineElement>, command: OperateResizeHandlers) => {\n    const isTouchEvent = !(e instanceof MouseEvent)\n    if (isTouchEvent && (!e.changedTouches || !e.changedTouches[0])) return\n\n    let isMouseDown = true\n    mainStore.setScalingState(true)\n\n    const elOriginLeft = element.left\n    const elOriginTop = element.top\n    const elOriginWidth = element.width\n    const elOriginHeight = element.height\n\n    const originTableCellMinHeight = element.type === 'table' ? element.cellMinHeight : 0\n    \n    const elRotate = ('rotate' in element && element.rotate) ? element.rotate : 0\n    const rotateRadian = Math.PI * elRotate / 180\n\n    const fixedRatio = ctrlOrShiftKeyActive.value || ('fixedRatio' in element && element.fixedRatio)\n    const aspectRatio = elOriginWidth / elOriginHeight\n\n    const startPageX = isTouchEvent ? e.changedTouches[0].pageX : e.pageX\n    const startPageY = isTouchEvent ? e.changedTouches[0].pageY : e.pageY\n\n    // 元素最小缩放限制\n    const minSize = MIN_SIZE[element.type] || 20\n    const getSizeWithinRange = (size: number) => size < minSize ? minSize : size\n\n    let points: ReturnType<typeof getRotateElementPoints>\n    let baseLeft = 0\n    let baseTop = 0\n    let horizontalLines: AlignLine[] = []\n    let verticalLines: AlignLine[] = []\n\n    // 旋转后的元素进行缩放时，引入基点的概念，以当前操作的缩放点相对的点为基点\n    // 例如拖动右下角缩放时，左上角为基点，需要保持左上角不变然后修改其他的点的位置来达到所放的效果\n    if ('rotate' in element && element.rotate) {\n      const { left, top, width, height } = element\n      points = getRotateElementPoints({ left, top, width, height }, elRotate)\n      const oppositePoint = getOppositePoint(command, points)\n\n      baseLeft = oppositePoint.left\n      baseTop = oppositePoint.top\n    }\n\n    // 未旋转的元素具有缩放时的对齐吸附功能，在此处收集对齐对齐吸附线\n    // 包括页面内除目标元素外的其他元素在画布中的各个可吸附对齐位置：上下左右四边\n    // 其中线条和被旋转过的元素不参与吸附对齐\n    else {\n      const edgeWidth = VIEWPORT_SIZE\n      const edgeHeight = VIEWPORT_SIZE * viewportRatio.value\n      const isActiveGroupElement = element.id === activeGroupElementId.value\n      \n      for (const el of elementList.value) {\n        if ('rotate' in el && el.rotate) continue\n        if (el.type === 'line') continue\n        if (isActiveGroupElement && el.id === element.id) continue\n        if (!isActiveGroupElement && activeElementIdList.value.includes(el.id)) continue\n\n        const left = el.left\n        const top = el.top\n        const width = el.width\n        const height = el.height\n        const right = left + width\n        const bottom = top + height\n\n        const topLine: AlignLine = { value: top, range: [left, right] }\n        const bottomLine: AlignLine = { value: bottom, range: [left, right] }\n        const leftLine: AlignLine = { value: left, range: [top, bottom] }\n        const rightLine: AlignLine = { value: right, range: [top, bottom] }\n\n        horizontalLines.push(topLine, bottomLine)\n        verticalLines.push(leftLine, rightLine)\n      }\n\n      // 画布可视区域的四个边界、水平中心、垂直中心\n      const edgeTopLine: AlignLine = { value: 0, range: [0, edgeWidth] }\n      const edgeBottomLine: AlignLine = { value: edgeHeight, range: [0, edgeWidth] }\n      const edgeHorizontalCenterLine: AlignLine = { value: edgeHeight / 2, range: [0, edgeWidth] }\n      const edgeLeftLine: AlignLine = { value: 0, range: [0, edgeHeight] }\n      const edgeRightLine: AlignLine = { value: edgeWidth, range: [0, edgeHeight] }\n      const edgeVerticalCenterLine: AlignLine = { value: edgeWidth / 2, range: [0, edgeHeight] }\n\n      horizontalLines.push(edgeTopLine, edgeBottomLine, edgeHorizontalCenterLine)\n      verticalLines.push(edgeLeftLine, edgeRightLine, edgeVerticalCenterLine)\n      \n      horizontalLines = uniqAlignLines(horizontalLines)\n      verticalLines = uniqAlignLines(verticalLines)\n    }\n    \n    // 对齐吸附方法\n    // 将收集到的对齐吸附线与计算的目标元素当前的位置大小相关数据做对比，差值小于设定的值时执行自动缩放校正\n    // 水平和垂直两个方向需要分开计算\n    const alignedAdsorption = (currentX: number | null, currentY: number | null) => {\n      const sorptionRange = 5\n\n      const _alignmentLines: AlignmentLineProps[] = []\n      let isVerticalAdsorbed = false\n      let isHorizontalAdsorbed = false\n      const correctionVal = { offsetX: 0, offsetY: 0 }\n      \n      if (currentY || currentY === 0) {\n        for (let i = 0; i < horizontalLines.length; i++) {\n          const { value, range } = horizontalLines[i]\n          const min = Math.min(...range, currentX || 0)\n          const max = Math.max(...range, currentX || 0)\n          \n          if (Math.abs(currentY - value) < sorptionRange && !isHorizontalAdsorbed) {\n            correctionVal.offsetY = currentY - value\n            isHorizontalAdsorbed = true\n            _alignmentLines.push({ type: 'horizontal', axis: {x: min - 50, y: value}, length: max - min + 100 })\n          }\n        }\n      }\n      if (currentX || currentX === 0) {\n        for (let i = 0; i < verticalLines.length; i++) {\n          const { value, range } = verticalLines[i]\n          const min = Math.min(...range, (currentY || 0))\n          const max = Math.max(...range, (currentY || 0))\n\n          if (Math.abs(currentX - value) < sorptionRange && !isVerticalAdsorbed) {\n            correctionVal.offsetX = currentX - value\n            isVerticalAdsorbed = true\n            _alignmentLines.push({ type: 'vertical', axis: {x: value, y: min - 50}, length: max - min + 100 })\n          }\n        }\n      }\n      alignmentLines.value = _alignmentLines\n      return correctionVal\n    }\n\n    const handleMousemove = (e: MouseEvent | TouchEvent) => {\n      if (!isMouseDown) return\n\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n\n      const x = currentPageX - startPageX\n      const y = currentPageY - startPageY\n\n      let width = elOriginWidth\n      let height = elOriginHeight\n      let left = elOriginLeft\n      let top = elOriginTop\n      \n      // 元素被旋转的情况下，需要根据元素旋转的角度，重新计算需要缩放的距离（鼠标按下后移动的距离）\n      if (elRotate) {\n        const revisedX = (Math.cos(rotateRadian) * x + Math.sin(rotateRadian) * y) / canvasScale.value\n        let revisedY = (Math.cos(rotateRadian) * y - Math.sin(rotateRadian) * x) / canvasScale.value\n\n        // 锁定宽高比例（仅四个角可能触发，四条边不会触发）\n        // 以水平方向上缩放的距离为基础，计算垂直方向上的缩放距离，保持二者具有相同的缩放比例\n        if (fixedRatio) {\n          if (command === OperateResizeHandlers.RIGHT_BOTTOM || command === OperateResizeHandlers.LEFT_TOP) revisedY = revisedX / aspectRatio\n          if (command === OperateResizeHandlers.LEFT_BOTTOM || command === OperateResizeHandlers.RIGHT_TOP) revisedY = -revisedX / aspectRatio\n        }\n\n        // 根据不同的操作点分别计算元素缩放后的大小和位置\n        // 需要注意：\n        // 此处计算的位置需要在后面重新进行校正，因为旋转后再缩放事实上会改变元素基点的位置（虽然视觉上基点保持不动，但这是【旋转】+【移动】共同作用的结果）\n        // 但此处计算的大小不需要重新校正，因为前面已经重新计算需要缩放的距离，相当于大小已经经过了校正\n        if (command === OperateResizeHandlers.RIGHT_BOTTOM) {\n          width = getSizeWithinRange(elOriginWidth + revisedX)\n          height = getSizeWithinRange(elOriginHeight + revisedY)\n        }\n        else if (command === OperateResizeHandlers.LEFT_BOTTOM) {\n          width = getSizeWithinRange(elOriginWidth - revisedX)\n          height = getSizeWithinRange(elOriginHeight + revisedY)\n          left = elOriginLeft - (width - elOriginWidth)\n        }\n        else if (command === OperateResizeHandlers.LEFT_TOP) {\n          width = getSizeWithinRange(elOriginWidth - revisedX)\n          height = getSizeWithinRange(elOriginHeight - revisedY)\n          left = elOriginLeft - (width - elOriginWidth)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.RIGHT_TOP) {\n          width = getSizeWithinRange(elOriginWidth + revisedX)\n          height = getSizeWithinRange(elOriginHeight - revisedY)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.TOP) {\n          height = getSizeWithinRange(elOriginHeight - revisedY)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.BOTTOM) {\n          height = getSizeWithinRange(elOriginHeight + revisedY)\n        }\n        else if (command === OperateResizeHandlers.LEFT) {\n          width = getSizeWithinRange(elOriginWidth - revisedX)\n          left = elOriginLeft - (width - elOriginWidth)\n        }\n        else if (command === OperateResizeHandlers.RIGHT) {\n          width = getSizeWithinRange(elOriginWidth + revisedX)\n        }\n\n        // 获取当前元素的基点坐标，与初始状态时的基点坐标进行对比，并计算差值进行元素位置的校正\n        const currentPoints = getRotateElementPoints({ width, height, left, top }, elRotate)\n        const currentOppositePoint = getOppositePoint(command, currentPoints)\n        const currentBaseLeft = currentOppositePoint.left\n        const currentBaseTop = currentOppositePoint.top\n\n        const offsetX = currentBaseLeft - baseLeft\n        const offsetY = currentBaseTop - baseTop\n\n        left = left - offsetX\n        top = top - offsetY\n      }\n\n      // 元素未被旋转的情况下，正常计算新的位置大小即可，无需复杂的校正等工作\n      // 额外需要处理对齐吸附相关的操作\n      // 锁定宽高比例相关的操作同上，不再赘述\n      else {\n        let moveX = x / canvasScale.value\n        let moveY = y / canvasScale.value\n\n        if (fixedRatio) {\n          if (command === OperateResizeHandlers.RIGHT_BOTTOM || command === OperateResizeHandlers.LEFT_TOP) moveY = moveX / aspectRatio\n          if (command === OperateResizeHandlers.LEFT_BOTTOM || command === OperateResizeHandlers.RIGHT_TOP) moveY = -moveX / aspectRatio\n        }\n\n        if (command === OperateResizeHandlers.RIGHT_BOTTOM) {\n          const { offsetX, offsetY } = alignedAdsorption(elOriginLeft + elOriginWidth + moveX, elOriginTop + elOriginHeight + moveY)\n          moveX = moveX - offsetX\n          moveY = moveY - offsetY\n          if (fixedRatio) {\n            if (offsetY) moveX = moveY * aspectRatio\n            else moveY = moveX / aspectRatio\n          }\n          width = getSizeWithinRange(elOriginWidth + moveX)\n          height = getSizeWithinRange(elOriginHeight + moveY)\n        }\n        else if (command === OperateResizeHandlers.LEFT_BOTTOM) {\n          const { offsetX, offsetY } = alignedAdsorption(elOriginLeft + moveX, elOriginTop + elOriginHeight + moveY)\n          moveX = moveX - offsetX\n          moveY = moveY - offsetY\n          if (fixedRatio) {\n            if (offsetY) moveX = -moveY * aspectRatio\n            else moveY = -moveX / aspectRatio\n          }\n          width = getSizeWithinRange(elOriginWidth - moveX)\n          height = getSizeWithinRange(elOriginHeight + moveY)\n          left = elOriginLeft - (width - elOriginWidth)\n        }\n        else if (command === OperateResizeHandlers.LEFT_TOP) {\n          const { offsetX, offsetY } = alignedAdsorption(elOriginLeft + moveX, elOriginTop + moveY)\n          moveX = moveX - offsetX\n          moveY = moveY - offsetY\n          if (fixedRatio) {\n            if (offsetY) moveX = moveY * aspectRatio\n            else moveY = moveX / aspectRatio\n          }\n          width = getSizeWithinRange(elOriginWidth - moveX)\n          height = getSizeWithinRange(elOriginHeight - moveY)\n          left = elOriginLeft - (width - elOriginWidth)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.RIGHT_TOP) {\n          const { offsetX, offsetY } = alignedAdsorption(elOriginLeft + elOriginWidth + moveX, elOriginTop + moveY)\n          moveX = moveX - offsetX\n          moveY = moveY - offsetY\n          if (fixedRatio) {\n            if (offsetY) moveX = -moveY * aspectRatio\n            else moveY = -moveX / aspectRatio\n          }\n          width = getSizeWithinRange(elOriginWidth + moveX)\n          height = getSizeWithinRange(elOriginHeight - moveY)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.LEFT) {\n          const { offsetX } = alignedAdsorption(elOriginLeft + moveX, null)\n          moveX = moveX - offsetX\n          width = getSizeWithinRange(elOriginWidth - moveX)\n          left = elOriginLeft - (width - elOriginWidth)\n        }\n        else if (command === OperateResizeHandlers.RIGHT) {\n          const { offsetX } = alignedAdsorption(elOriginLeft + elOriginWidth + moveX, null)\n          moveX = moveX - offsetX\n          width = getSizeWithinRange(elOriginWidth + moveX)\n        }\n        else if (command === OperateResizeHandlers.TOP) {\n          const { offsetY } = alignedAdsorption(null, elOriginTop + moveY)\n          moveY = moveY - offsetY\n          height = getSizeWithinRange(elOriginHeight - moveY)\n          top = elOriginTop - (height - elOriginHeight)\n        }\n        else if (command === OperateResizeHandlers.BOTTOM) {\n          const { offsetY } = alignedAdsorption(null, elOriginTop + elOriginHeight + moveY)\n          moveY = moveY - offsetY\n          height = getSizeWithinRange(elOriginHeight + moveY)\n        }\n      }\n      \n      elementList.value = elementList.value.map(el => {\n        if (element.id !== el.id) return el\n        if (el.type === 'shape' && 'pathFormula' in el && el.pathFormula) {\n          const pathFormula = SHAPE_PATH_FORMULAS[el.pathFormula]\n\n          let path = ''\n          if ('editable' in pathFormula) path = pathFormula.formula(width, height, el.keypoint!)\n          else path = pathFormula.formula(width, height)\n\n          return {\n            ...el, left, top, width, height,\n            viewBox: [width, height],\n            path,\n          }\n        }\n        if (el.type === 'table') {\n          let cellMinHeight = originTableCellMinHeight + (height - elOriginHeight) / el.data.length\n          cellMinHeight = cellMinHeight < 36 ? 36 : cellMinHeight\n\n          if (cellMinHeight === originTableCellMinHeight) return { ...el, left, width }\n          return {\n            ...el, left, top, width, height,\n            cellMinHeight: cellMinHeight < 36 ? 36 : cellMinHeight,\n          }\n        }\n        return { ...el, left, top, width, height }\n      })\n    }\n\n    const handleMouseup = (e: MouseEvent | TouchEvent) => {\n      isMouseDown = false\n      \n      document.ontouchmove = null\n      document.ontouchend = null\n      document.onmousemove = null\n      document.onmouseup = null\n\n      alignmentLines.value = []\n\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n      \n      if (startPageX === currentPageX && startPageY === currentPageY) return\n      \n      slidesStore.updateSlide({ elements: elementList.value })\n      mainStore.setScalingState(false)\n      \n      addHistorySnapshot()\n    }\n\n    if (isTouchEvent) {\n      document.ontouchmove = handleMousemove\n      document.ontouchend = handleMouseup\n    }\n    else {\n      document.onmousemove = handleMousemove\n      document.onmouseup = handleMouseup\n    }\n  }\n\n  // 多选元素缩放\n  const scaleMultiElement = (e: MouseEvent, range: MultiSelectRange, command: OperateResizeHandlers) => {\n    let isMouseDown = true\n    \n    const { minX, maxX, minY, maxY } = range\n    const operateWidth = maxX - minX\n    const operateHeight = maxY - minY\n    const aspectRatio = operateWidth / operateHeight\n\n    const startPageX = e.pageX\n    const startPageY = e.pageY\n\n    const originElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList.value))\n\n    document.onmousemove = e => {\n      if (!isMouseDown) return\n      \n      const currentPageX = e.pageX\n      const currentPageY = e.pageY\n\n      const x = (currentPageX - startPageX) / canvasScale.value\n      let y = (currentPageY - startPageY) / canvasScale.value\n\n      // 锁定宽高比例，逻辑同上\n      if (ctrlOrShiftKeyActive.value) {\n        if (command === OperateResizeHandlers.RIGHT_BOTTOM || command === OperateResizeHandlers.LEFT_TOP) y = x / aspectRatio\n        if (command === OperateResizeHandlers.LEFT_BOTTOM || command === OperateResizeHandlers.RIGHT_TOP) y = -x / aspectRatio\n      }\n\n      // 所有选中元素的整体范围\n      let currentMinX = minX\n      let currentMaxX = maxX\n      let currentMinY = minY\n      let currentMaxY = maxY\n\n      if (command === OperateResizeHandlers.RIGHT_BOTTOM) {\n        currentMaxX = maxX + x\n        currentMaxY = maxY + y\n      }\n      else if (command === OperateResizeHandlers.LEFT_BOTTOM) {\n        currentMinX = minX + x\n        currentMaxY = maxY + y\n      }\n      else if (command === OperateResizeHandlers.LEFT_TOP) {\n        currentMinX = minX + x\n        currentMinY = minY + y\n      }\n      else if (command === OperateResizeHandlers.RIGHT_TOP) {\n        currentMaxX = maxX + x\n        currentMinY = minY + y\n      }\n      else if (command === OperateResizeHandlers.TOP) {\n        currentMinY = minY + y\n      }\n      else if (command === OperateResizeHandlers.BOTTOM) {\n        currentMaxY = maxY + y\n      }\n      else if (command === OperateResizeHandlers.LEFT) {\n        currentMinX = minX + x\n      }\n      else if (command === OperateResizeHandlers.RIGHT) {\n        currentMaxX = maxX + x\n      }\n\n      // 所有选中元素的整体宽高\n      const currentOppositeWidth = currentMaxX - currentMinX\n      const currentOppositeHeight = currentMaxY - currentMinY\n\n      // 当前正在操作元素宽高占所有选中元素的整体宽高的比例\n      let widthScale = currentOppositeWidth / operateWidth\n      let heightScale = currentOppositeHeight / operateHeight\n\n      if (widthScale <= 0) widthScale = 0\n      if (heightScale <= 0) heightScale = 0\n      \n      // 根据前面计算的比例，计算并修改所有选中元素的位置大小\n      elementList.value = elementList.value.map(el => {\n        if ((el.type === 'image' || el.type === 'shape') && activeElementIdList.value.includes(el.id)) {\n          const originElement = originElementList.find(originEl => originEl.id === el.id) as PPTImageElement | PPTShapeElement\n          return {\n            ...el,\n            width: originElement.width * widthScale,\n            height: originElement.height * heightScale,\n            left: currentMinX + (originElement.left - minX) * widthScale,\n            top: currentMinY + (originElement.top - minY) * heightScale,\n          }\n        }\n        return el\n      })\n    }\n\n    document.onmouseup = e => {\n      isMouseDown = false\n      document.onmousemove = null\n      document.onmouseup = null\n\n      if (startPageX === e.pageX && startPageY === e.pageY) return\n\n      slidesStore.updateSlide({ elements: elementList.value })\n      addHistorySnapshot()\n    }\n  }\n\n  return {\n    scaleElement,\n    scaleMultiElement,\n  }\n}","export const enum ClipPathTypes {\n  RECT = 'rect',\n  ELLIPSE = 'ellipse',\n  POLYGON = 'polygon',\n}\n\nexport const enum ClipPaths {\n  RECT = 'rect',\n  ROUNDRECT = 'roundRect',\n  ELLIPSE = 'ellipse',\n  TRIANGLE = 'triangle',\n  PENTAGON = 'pentagon',\n  RHOMBUS = 'rhombus',\n  STAR = 'star',\n}\n\ninterface ClipPath {\n  [key: string]: {\n    name: string\n    type: ClipPathTypes\n    style: string\n    radius?: string\n    createPath?: (width: number, height: number) => string\n  }\n}\n\nexport const CLIPPATHS: ClipPath = {\n  rect: {\n    name: 'rectangle',\n    type: ClipPathTypes.RECT,\n    radius: '0',\n    style: '',\n  },\n  rect2: {\n    name: 'Rectangle 2',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 0 100%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 0 L ${width * 0.8} 0 L ${width} ${height * 0.2} L ${width} ${height} L 0 ${height} Z`\n    },\n  },\n  rect3: {\n    name: 'Rectangle 3',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 20% 100%, 0% 80%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 0 L ${width * 0.8} 0 L ${width} ${height * 0.2} L ${width} ${height} L ${width * 0.2} ${height} L 0 ${height * 0.8} Z`\n    },\n  },\n  roundRect: {\n    name: 'rounded rectangle',\n    type: ClipPathTypes.RECT,\n    radius: '10px',\n    style: 'inset(0 0 0 0 round 10px 10px 10px 10px)',\n  },\n  ellipse: {\n    name: 'round',\n    type: ClipPathTypes. ELLIPSE,\n    style: 'ellipse(50% 50% at 50% 50%)',\n  },\n  triangle: {\n    name: 'Triangle',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(50% 0%, 0% 100%, 100% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.5} 0 L 0 ${height} L ${width} ${height} Z`\n    },\n  },\n  triangle2: {\n    name: 'Triangle 2',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(50% 100%, 0% 0%, 100% 0%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.5} ${height} L 0 0 L ${width} 0 Z`\n    },\n  },\n  triangle3: {\n    name: 'Triangle 3',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(0% 0%, 0% 100%, 100% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 0 L 0 ${height} L ${width} ${height} Z`\n    },\n  },\n  rhombus: {\n    name: 'diamond',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.5} 0 L ${width} ${height * 0.5} L ${width * 0.5} ${height} L 0 ${height * 0.5} Z`\n    },\n  },\n  pentagon: {\n    name: 'pentagon',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.5} 0 L ${width} ${0.38 * height} L ${0.82 * width} ${height} L ${0.18 * width} ${height} L 0 ${0.38 * height } Z`\n    },\n  },\n  hexagon: {\n    name: 'Hexagon',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(20% 0%, 80% 0%, 100% 50%, 80% 100%, 20% 100%, 0% 50%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.2} 0 L ${width * 0.8} 0 L ${width} ${height * 0.5} L ${width * 0.8} ${height} L ${width * 0.2} ${height } L 0 ${height * 0.5} Z`\n    },\n  },\n  heptagon: {\n    name: 'heptagon',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.5} 0 L ${width * 0.9} ${height * 0.2} L ${width} ${height * 0.6} L ${width * 0.75} ${height} L ${width * 0.25} ${height} L 0 ${height * 0.6} L ${width * 0.1} ${height * 0.2} Z`\n    },\n  },\n  octagon: {\n    name: 'Octagon',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.3} 0 L ${width * 0.7} 0 L ${width} ${height * 0.3} L ${width} ${height * 0.7} L ${width * 0.7} ${height } L ${width * 0.3} ${height} L 0 ${height * 0.7} L 0 ${height * 0.3} Z`\n    },\n  },\n  chevron: {\n    name: 'V-shaped',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%, 0% 0%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.75} 0 L ${width} ${height * 0.5} L ${width * 0.75} ${height} L 0 ${height} L ${width * 0.25} ${height * 0.5 } L 0 0 Z`\n    },\n  },\n  point: {\n    name: 'point',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 0 L ${width * 0.75} 0 L ${width} ${height * 0.5} L ${width * 0.75} ${height} L 0 ${height} Z`\n    },\n  },\n  arrow: {\n    name: 'Arrow',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(0% 20%, 60% 20%, 60% 0%, 100% 50%, 60% 100%, 60% 80%, 0% 80%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 ${height * 0.2} L ${width * 0.6} ${height * 0.2} L ${width * 0.6} 0 L ${width} ${height * 0.5} L ${width * 0.6} ${height} L ${width * 0.6} ${height * 0.8} L 0 ${height * 0.8} Z`\n    },\n  },\n  parallelogram: {\n    name: 'parallelogram',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(30% 0%, 100% 0%, 70% 100%, 0% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.3} 0 L ${width} 0 L ${width * 0.7} ${height} L 0 ${height} Z`\n    },\n  },\n  parallelogram2: {\n    name: 'Parallelogram 2',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(30% 100%, 100% 100%, 70% 0%, 0% 0%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.3} ${height} L ${width} ${height} L ${width * 0.7} 0 L 0 0 Z`\n    },\n  },\n  trapezoid: {\n    name: 'Trapezoid',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(25% 0%, 75% 0%, 100% 100%, 0% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M ${width * 0.25} 0 L ${width * 0.75} 0 L ${width} ${height} L 0 ${height} Z`\n    },\n  },\n  trapezoid2: {\n    name: 'Trapezoid 2',\n    type: ClipPathTypes. POLYGON,\n    style: 'polygon(0% 0%, 100% 0%, 75% 100%, 25% 100%)',\n    createPath: (width: number, height: number) => {\n      return `M 0 0 L ${width} 0 L ${width * 0.75} ${height} L ${width * 0.25} ${height} Z`\n    },\n  },\n}","import { Ref } from 'vue'\nimport { uniq } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useKeyboardStore } from '@/store'\nimport { PPTElement } from '@/types/slides'\n\nexport default (\n  elementList: Ref<PPTElement[]>,\n  moveElement: (e: MouseEvent | TouchEvent, element: PPTElement) => void,\n) => {\n  const mainStore = useMainStore()\n  const { activeElementIdList, activeGroupElementId, handleElementId, editorAreaFocus } = storeToRefs(mainStore)\n  const { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\n  // 选中元素\n  // startMove 表示是否需要再选中操作后进入到开始移动的状态\n  const selectElement = (e: MouseEvent | TouchEvent, element: PPTElement, startMove = true) => {\n    if (!editorAreaFocus.value) mainStore.setEditorareaFocus(true)\n\n    // 如果目标元素当前未被选中，则将他设为选中状态\n    // 此时如果按下Ctrl键或Shift键，则进入多选状态，将当前已选中的元素和目标元素一起设置为选中状态，否则仅将目标元素设置为选中状态\n    // 如果目标元素是分组成员，需要将该组合的其他元素一起设置为选中状态\n    if (!activeElementIdList.value.includes(element.id)) {\n      let newActiveIdList: string[] = []\n\n      if (ctrlOrShiftKeyActive.value) {\n        newActiveIdList = [...activeElementIdList.value, element.id]\n      }\n      else newActiveIdList = [element.id]\n      \n      if (element.groupId) {\n        const groupMembersId: string[] = []\n        elementList.value.forEach((el: PPTElement) => {\n          if (el.groupId === element.groupId) groupMembersId.push(el.id)\n        })\n        newActiveIdList = [...newActiveIdList, ...groupMembersId]\n      }\n\n      mainStore.setActiveElementIdList(uniq(newActiveIdList))\n      mainStore.setHandleElementId(element.id)\n    }\n\n    // 如果目标元素已被选中，且按下了Ctrl键或Shift键，则取消其被选中状态\n    // 除非目标元素是最后的一个被选中元素，或者目标元素所在的组合是最后一组选中组合\n    // 如果目标元素是分组成员，需要将该组合的其他元素一起取消选中状态\n    else if (ctrlOrShiftKeyActive.value) {\n      let newActiveIdList: string[] = []\n\n      if (element.groupId) {\n        const groupMembersId: string[] = []\n        elementList.value.forEach((el: PPTElement) => {\n          if (el.groupId === element.groupId) groupMembersId.push(el.id)\n        })\n        newActiveIdList = activeElementIdList.value.filter(id => !groupMembersId.includes(id))\n      }\n      else {\n        newActiveIdList = activeElementIdList.value.filter(id => id !== element.id)\n      }\n\n      if (newActiveIdList.length > 0) {\n        mainStore.setActiveElementIdList(newActiveIdList)\n      }\n    }\n\n    // 如果目标元素已被选中，同时目标元素不是当前操作元素，则将其设置为当前操作元素\n    else if (handleElementId.value !== element.id) {\n      mainStore.setHandleElementId(element.id)\n    }\n\n    // 如果目标元素已被选中，同时也是当前操作元素，那么当目标元素在该状态下再次被点击时，将被设置为多选元素中的激活成员\n    else if (activeGroupElementId.value !== element.id) {\n      const startPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const startPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n\n      ;(e.target as HTMLElement).onmouseup = (e: MouseEvent) => {\n        const currentPageX = e.pageX\n        const currentPageY = e.pageY\n\n        if (startPageX === currentPageX && startPageY === currentPageY) {\n          mainStore.setActiveGroupElementId(element.id)\n          ;(e.target as HTMLElement).onmouseup = null\n        }\n      }\n    }\n\n    if (startMove) moveElement(e, element)\n  }\n\n  return {\n    selectElement,\n  }\n}\n","import { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport { PPTElement } from '@/types/slides'\nimport { AlignmentLineProps } from '@/types/edit'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport { getRectRotatedRange, AlignLine, uniqAlignLines } from '@/utils/element'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default (\n  elementList: Ref<PPTElement[]>,\n  alignmentLines: Ref<AlignmentLineProps[]>,\n  canvasScale: Ref<number>,\n) => {\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList, activeGroupElementId } = storeToRefs(useMainStore())\n  const { shiftKeyState } = storeToRefs(useKeyboardStore())\n  const { viewportRatio } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  const dragElement = (e: MouseEvent | TouchEvent, element: PPTElement) => {\n    const isTouchEvent = !(e instanceof MouseEvent)\n    if (isTouchEvent && (!e.changedTouches || !e.changedTouches[0])) return\n\n    if (!activeElementIdList.value.includes(element.id)) return\n    let isMouseDown = true\n\n    const edgeWidth = VIEWPORT_SIZE\n    const edgeHeight = VIEWPORT_SIZE * viewportRatio.value\n    \n    const sorptionRange = 5\n\n    const originElementList: PPTElement[] = JSON.parse(JSON.stringify(elementList.value))\n    const originActiveElementList = originElementList.filter(el => activeElementIdList.value.includes(el.id))\n  \n    const elOriginLeft = element.left\n    const elOriginTop = element.top\n    const elOriginWidth = element.width\n    const elOriginHeight = ('height' in element && element.height) ? element.height : 0\n    const elOriginRotate = ('rotate' in element && element.rotate) ? element.rotate : 0\n  \n    const startPageX = isTouchEvent ? e.changedTouches[0].pageX : e.pageX\n    const startPageY = isTouchEvent ? e.changedTouches[0].pageY : e.pageY\n\n    let isMisoperation: boolean | null = null\n\n    const isActiveGroupElement = element.id === activeGroupElementId.value\n\n    // 收集对齐对齐吸附线\n    // 包括页面内除目标元素外的其他元素在画布中的各个可吸附对齐位置：上下左右四边，水平中心、垂直中心\n    // 其中线条和被旋转过的元素需要重新计算他们在画布中的中心点位置的范围\n    let horizontalLines: AlignLine[] = []\n    let verticalLines: AlignLine[] = []\n\n    for (const el of elementList.value) {\n      if (el.type === 'line') continue\n      if (isActiveGroupElement && el.id === element.id) continue\n      if (!isActiveGroupElement && activeElementIdList.value.includes(el.id)) continue\n\n      let left, top, width, height\n      if ('rotate' in el && el.rotate) {\n        const { xRange, yRange } = getRectRotatedRange({\n          left: el.left,\n          top: el.top,\n          width: el.width,\n          height: el.height,\n          rotate: el.rotate,\n        })\n        left = xRange[0]\n        top = yRange[0]\n        width = xRange[1] - xRange[0]\n        height = yRange[1] - yRange[0]\n      }\n      else {\n        left = el.left\n        top = el.top\n        width = el.width\n        height = el.height\n      }\n      \n      const right = left + width\n      const bottom = top + height\n      const centerX = top + height / 2\n      const centerY = left + width / 2\n\n      const topLine: AlignLine = { value: top, range: [left, right] }\n      const bottomLine: AlignLine = { value: bottom, range: [left, right] }\n      const horizontalCenterLine: AlignLine = { value: centerX, range: [left, right] }\n      const leftLine: AlignLine = { value: left, range: [top, bottom] }\n      const rightLine: AlignLine = { value: right, range: [top, bottom] }\n      const verticalCenterLine: AlignLine = { value: centerY, range: [top, bottom] }\n\n      horizontalLines.push(topLine, bottomLine, horizontalCenterLine)\n      verticalLines.push(leftLine, rightLine, verticalCenterLine)\n    }\n\n    // 画布可视区域的四个边界、水平中心、垂直中心\n    const edgeTopLine: AlignLine = { value: 0, range: [0, edgeWidth] }\n    const edgeBottomLine: AlignLine = { value: edgeHeight, range: [0, edgeWidth] }\n    const edgeHorizontalCenterLine: AlignLine = { value: edgeHeight / 2, range: [0, edgeWidth] }\n    const edgeLeftLine: AlignLine = { value: 0, range: [0, edgeHeight] }\n    const edgeRightLine: AlignLine = { value: edgeWidth, range: [0, edgeHeight] }\n    const edgeVerticalCenterLine: AlignLine = { value: edgeWidth / 2, range: [0, edgeHeight] }\n\n    horizontalLines.push(edgeTopLine, edgeBottomLine, edgeHorizontalCenterLine)\n    verticalLines.push(edgeLeftLine, edgeRightLine, edgeVerticalCenterLine)\n    \n    // 对齐吸附线去重\n    horizontalLines = uniqAlignLines(horizontalLines)\n    verticalLines = uniqAlignLines(verticalLines)\n\n    const handleMousemove = (e: MouseEvent | TouchEvent) => {\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n\n      // 如果鼠标滑动距离过小，则将操作判定为误操作：\n      // 如果误操作标记为null，表示是第一次触发移动，需要计算当前是否是误操作\n      // 如果误操作标记为true，表示当前还处在误操作范围内，但仍然需要继续计算检查后续操作是否还处于误操作\n      // 如果误操作标记为false，表示已经脱离了误操作范围，不需要再次计算\n      if (isMisoperation !== false) {\n        isMisoperation = Math.abs(startPageX - currentPageX) < sorptionRange && \n                         Math.abs(startPageY - currentPageY) < sorptionRange\n      }\n      if (!isMouseDown || isMisoperation) return\n      \n      let moveX = (currentPageX - startPageX) / canvasScale.value\n      let moveY = (currentPageY - startPageY) / canvasScale.value\n\n      if (shiftKeyState.value) {\n        if (Math.abs(moveX) > Math.abs(moveY)) moveY = 0\n        if (Math.abs(moveX) < Math.abs(moveY)) moveX = 0\n      }\n\n      // 基础目标位置\n      let targetLeft = elOriginLeft + moveX\n      let targetTop = elOriginTop + moveY\n\n      // 计算目标元素在画布中的位置范围，用于吸附对齐\n      // 需要区分单选和多选两种情况，其中多选状态下需要计算多选元素的整体范围；单选状态下需要继续区分线条、普通元素、旋转后的普通元素三种情况\n      let targetMinX: number, targetMaxX: number, targetMinY: number, targetMaxY: number\n\n      if (activeElementIdList.value.length === 1 || isActiveGroupElement) {\n        if (elOriginRotate) {\n          const { xRange, yRange } = getRectRotatedRange({\n            left: targetLeft,\n            top: targetTop,\n            width: elOriginWidth,\n            height: elOriginHeight,\n            rotate: elOriginRotate,\n          })\n          targetMinX = xRange[0]\n          targetMaxX = xRange[1]\n          targetMinY = yRange[0]\n          targetMaxY = yRange[1]\n        }\n        else if (element.type === 'line') {\n          targetMinX = targetLeft\n          targetMaxX = targetLeft + Math.max(element.start[0], element.end[0])\n          targetMinY = targetTop\n          targetMaxY = targetTop + Math.max(element.start[1], element.end[1])\n        }\n        else {\n          targetMinX = targetLeft\n          targetMaxX = targetLeft + elOriginWidth\n          targetMinY = targetTop\n          targetMaxY = targetTop + elOriginHeight\n        }\n      }\n      else {\n        const leftValues = []\n        const topValues = []\n        const rightValues = []\n        const bottomValues = []\n        \n        for (let i = 0; i < originActiveElementList.length; i++) {\n          const element = originActiveElementList[i]\n          const left = element.left + moveX\n          const top = element.top + moveY\n          const width = element.width\n          const height = ('height' in element && element.height) ? element.height : 0\n          const rotate = ('rotate' in element && element.rotate) ? element.rotate : 0\n\n          if ('rotate' in element && element.rotate) {\n            const { xRange, yRange } = getRectRotatedRange({ left, top, width, height, rotate })\n            leftValues.push(xRange[0])\n            topValues.push(yRange[0])\n            rightValues.push(xRange[1])\n            bottomValues.push(yRange[1])\n          }\n          else if (element.type === 'line') {\n            leftValues.push(left)\n            topValues.push(top)\n            rightValues.push(left + Math.max(element.start[0], element.end[0]))\n            bottomValues.push(top + Math.max(element.start[1], element.end[1]))\n          }\n          else {\n            leftValues.push(left)\n            topValues.push(top)\n            rightValues.push(left + width)\n            bottomValues.push(top + height)\n          }\n        }\n\n        targetMinX = Math.min(...leftValues)\n        targetMaxX = Math.max(...rightValues)\n        targetMinY = Math.min(...topValues)\n        targetMaxY = Math.max(...bottomValues)\n      }\n      \n      const targetCenterX = targetMinX + (targetMaxX - targetMinX) / 2\n      const targetCenterY = targetMinY + (targetMaxY - targetMinY) / 2\n\n      // 将收集到的对齐吸附线与计算的目标元素位置范围做对比，二者的差小于设定的值时执行自动对齐校正\n      // 水平和垂直两个方向需要分开计算\n      const _alignmentLines: AlignmentLineProps[] = []\n      let isVerticalAdsorbed = false\n      let isHorizontalAdsorbed = false\n      for (let i = 0; i < horizontalLines.length; i++) {\n        const { value, range } = horizontalLines[i]\n        const min = Math.min(...range, targetMinX, targetMaxX)\n        const max = Math.max(...range, targetMinX, targetMaxX)\n        \n        if (Math.abs(targetMinY - value) < sorptionRange && !isHorizontalAdsorbed) {\n          targetTop = targetTop - (targetMinY - value)\n          isHorizontalAdsorbed = true\n          _alignmentLines.push({type: 'horizontal', axis: {x: min - 50, y: value}, length: max - min + 100})\n        }\n        if (Math.abs(targetMaxY - value) < sorptionRange && !isHorizontalAdsorbed) {\n          targetTop = targetTop - (targetMaxY - value)\n          isHorizontalAdsorbed = true\n          _alignmentLines.push({type: 'horizontal', axis: {x: min - 50, y: value}, length: max - min + 100})\n        }\n        if (Math.abs(targetCenterY - value) < sorptionRange && !isHorizontalAdsorbed) {\n          targetTop = targetTop - (targetCenterY - value)\n          isHorizontalAdsorbed = true\n          _alignmentLines.push({type: 'horizontal', axis: {x: min - 50, y: value}, length: max - min + 100})\n        }\n      }\n      for (let i = 0; i < verticalLines.length; i++) {\n        const { value, range } = verticalLines[i]\n        const min = Math.min(...range, targetMinY, targetMaxY)\n        const max = Math.max(...range, targetMinY, targetMaxY)\n\n        if (Math.abs(targetMinX - value) < sorptionRange && !isVerticalAdsorbed) {\n          targetLeft = targetLeft - (targetMinX - value)\n          isVerticalAdsorbed = true\n          _alignmentLines.push({type: 'vertical', axis: {x: value, y: min - 50}, length: max - min + 100})\n        }\n        if (Math.abs(targetMaxX - value) < sorptionRange && !isVerticalAdsorbed) {\n          targetLeft = targetLeft - (targetMaxX - value)\n          isVerticalAdsorbed = true\n          _alignmentLines.push({type: 'vertical', axis: {x: value, y: min - 50}, length: max - min + 100})\n        }\n        if (Math.abs(targetCenterX - value) < sorptionRange && !isVerticalAdsorbed) {\n          targetLeft = targetLeft - (targetCenterX - value)\n          isVerticalAdsorbed = true\n          _alignmentLines.push({type: 'vertical', axis: {x: value, y: min - 50}, length: max - min + 100})\n        }\n      }\n      alignmentLines.value = _alignmentLines\n      \n      // 单选状态下，或者当前选中的多个元素中存在正在操作的元素时，仅修改正在操作的元素的位置\n      if (activeElementIdList.value.length === 1 || isActiveGroupElement) {\n        elementList.value = elementList.value.map(el => {\n          return el.id === element.id ? { ...el, left: targetLeft, top: targetTop } : el\n        })\n      }\n\n      // 多选状态下，除了修改正在操作的元素的位置，其他被选中的元素也需要修改位置信息\n      // 其他被选中的元素的位置信息通过正在操作的元素的移动偏移量来进行计算\n      else {\n        const handleElement = elementList.value.find(el => el.id === element.id)\n        if (!handleElement) return\n\n        elementList.value = elementList.value.map(el => {\n          if (activeElementIdList.value.includes(el.id)) {\n            if (el.id === element.id) {\n              return {\n                ...el,\n                left: targetLeft,\n                top: targetTop,\n              }\n            }\n            return {\n              ...el,\n              left: el.left + (targetLeft - handleElement.left),\n              top: el.top + (targetTop - handleElement.top),\n            }\n          }\n          return el\n        })\n      }\n    }\n\n    const handleMouseup = (e: MouseEvent | TouchEvent) => {\n      isMouseDown = false\n      \n      document.ontouchmove = null\n      document.ontouchend = null\n      document.onmousemove = null\n      document.onmouseup = null\n\n      alignmentLines.value = []\n\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n\n      if (startPageX === currentPageX && startPageY === currentPageY) return\n\n      slidesStore.updateSlide({ elements: elementList.value })\n      addHistorySnapshot()\n    }\n\n    if (isTouchEvent) {\n      document.ontouchmove = handleMousemove\n      document.ontouchend = handleMouseup\n    }\n    else {\n      document.onmousemove = handleMousemove\n      document.onmouseup = handleMouseup\n    }\n  }\n\n  return {\n    dragElement,\n  }\n}","import { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElement, PPTLineElement } from '@/types/slides'\nimport { OperateLineHandlers } from '@/types/edit'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\ninterface AdsorptionPoint {\n  x: number\n  y: number\n}\n\nexport default (elementList: Ref<PPTElement[]>) => {\n  const slidesStore = useSlidesStore()\n  const { canvasScale } = storeToRefs(useMainStore())\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // 拖拽线条端点\n  const dragLineElement = (e: MouseEvent, element: PPTLineElement, command: OperateLineHandlers) => {\n    let isMouseDown = true\n\n    const sorptionRange = 8\n\n    const startPageX = e.pageX\n    const startPageY = e.pageY\n\n    const adsorptionPoints: AdsorptionPoint[] = []\n\n    // 获取所有线条以外的未旋转的元素的8个缩放点作为吸附位置\n    for (let i = 0; i < elementList.value.length; i++) {\n      const _element = elementList.value[i]\n      if (_element.type === 'line' || _element.rotate) continue\n\n      const left = _element.left\n      const top = _element.top\n      const width = _element.width\n      const height = _element.height\n\n      const right = left + width\n      const bottom = top + height\n      const centerX = top + height / 2\n      const centerY = left + width / 2\n\n      const topPoint = { x: centerY, y: top }\n      const bottomPoint = { x: centerY, y: bottom }\n      const leftPoint = { x: left, y: centerX }\n      const rightPoint = { x: right, y: centerX }\n\n      const leftTopPoint = { x: left, y: top }\n      const rightTopPoint = { x: right, y: top }\n      const leftBottomPoint = { x: left, y: bottom }\n      const rightBottomPoint = { x: right, y: bottom }\n\n      adsorptionPoints.push(\n        topPoint,\n        bottomPoint,\n        leftPoint,\n        rightPoint,\n        leftTopPoint,\n        rightTopPoint,\n        leftBottomPoint,\n        rightBottomPoint,\n      )\n    }\n\n    document.onmousemove = e => {\n      if (!isMouseDown) return\n\n      const currentPageX = e.pageX\n      const currentPageY = e.pageY\n\n      const moveX = (currentPageX - startPageX) / canvasScale.value\n      const moveY = (currentPageY - startPageY) / canvasScale.value\n\n      // The positions of the start and end points of the line in the editing area\n      let startX = element.left + element.start[0]\n      let startY = element.top + element.start[1]\n      let endX = element.left + element.end[0]\n      let endY = element.top + element.end[1]\n\n      const mid = element.broken || element.curve || [0, 0]\n      let midX = element.left + mid[0]\n      let midY = element.top + mid[1]\n\n      const [c1, c2] = element.cubic || [[0, 0], [0, 0]]\n      let c1X = element.left + c1[0]\n      let c1Y = element.top + c1[1]\n      let c2X = element.left + c2[0]\n      let c2Y = element.top + c2[1]\n\n      // 拖拽起点或终点的位置\n      // 水平和垂直方向上有吸附\n      if (command === OperateLineHandlers.START) {\n        startX = startX + moveX\n        startY = startY + moveY\n\n        if (Math.abs(startX - endX) < sorptionRange) startX = endX\n        if (Math.abs(startY - endY) < sorptionRange) startY = endY\n\n        for (const adsorptionPoint of adsorptionPoints) {\n          const { x, y } = adsorptionPoint\n          if (Math.abs(x - startX) < sorptionRange && Math.abs(y - startY) < sorptionRange) {\n            startX = x\n            startY = y\n            break\n          }\n        }\n      }\n      else if (command === OperateLineHandlers.END) {\n        endX = endX + moveX\n        endY = endY + moveY\n\n        if (Math.abs(startX - endX) < sorptionRange) endX = startX\n        if (Math.abs(startY - endY) < sorptionRange) endY = startY\n\n        for (const adsorptionPoint of adsorptionPoints) {\n          const { x, y } = adsorptionPoint\n          if (Math.abs(x - endX) < sorptionRange && Math.abs(y - endY) < sorptionRange) {\n            endX = x\n            endY = y\n            break\n          }\n        }\n      }\n      else if (command === OperateLineHandlers.C) {\n        midX = midX + moveX\n        midY = midY + moveY\n\n        if (Math.abs(midX - startX) < sorptionRange) midX = startX\n        if (Math.abs(midY - startY) < sorptionRange) midY = startY\n        if (Math.abs(midX - endX) < sorptionRange) midX = endX\n        if (Math.abs(midY - endY) < sorptionRange) midY = endY\n        if (Math.abs(midX - (startX + endX) / 2) < sorptionRange && Math.abs(midY - (startY + endY) / 2) < sorptionRange) {\n          midX = (startX + endX) / 2\n          midY = (startY + endY) / 2\n        }\n      }\n      else if (command === OperateLineHandlers.C1) {\n        c1X = c1X + moveX\n        c1Y = c1Y + moveY\n\n        if (Math.abs(c1X - startX) < sorptionRange) c1X = startX\n        if (Math.abs(c1Y - startY) < sorptionRange) c1Y = startY\n        if (Math.abs(c1X - endX) < sorptionRange) c1X = endX\n        if (Math.abs(c1Y - endY) < sorptionRange) c1Y = endY\n      }\n      else if (command === OperateLineHandlers.C2) {\n        c2X = c2X + moveX\n        c2Y = c2Y + moveY\n\n        if (Math.abs(c2X - startX) < sorptionRange) c2X = startX\n        if (Math.abs(c2Y - startY) < sorptionRange) c2Y = startY\n        if (Math.abs(c2X - endX) < sorptionRange) c2X = endX\n        if (Math.abs(c2Y - endY) < sorptionRange) c2Y = endY\n      }\n\n      // 计算更新起点和终点基于自身元素位置的坐标\n      const minX = Math.min(startX, endX)\n      const minY = Math.min(startY, endY)\n      const maxX = Math.max(startX, endX)\n      const maxY = Math.max(startY, endY)\n\n      const start: [number, number] = [0, 0]\n      const end: [number, number] = [maxX - minX, maxY - minY]\n      if (startX > endX) {\n        start[0] = maxX - minX\n        end[0] = 0\n      }\n      if (startY > endY) {\n        start[1] = maxY - minY\n        end[1] = 0\n      }\n\n      elementList.value = elementList.value.map(el => {\n        if (el.id === element.id) {\n          const newEl: PPTLineElement = {\n            ...(el as PPTLineElement),\n            left: minX,\n            top: minY,\n            start: start,\n            end: end,\n          }\n          if (command === OperateLineHandlers.START || command === OperateLineHandlers.END) {\n            if (element.broken) newEl.broken = [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]\n            if (element.curve) newEl.curve = [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]\n            if (element.cubic) newEl.cubic = [[(start[0] + end[0]) / 2, (start[1] + end[1]) / 2], [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2]]\n          }\n          else if (command === OperateLineHandlers.C) {\n            if (element.broken) newEl.broken = [midX - minX, midY - minY]\n            if (element.curve) newEl.curve = [midX - minX, midY - minY]\n          }\n          else {\n            if (element.cubic) newEl.cubic = [[c1X - minX, c1Y - minY], [c2X - minX, c2Y - minY]]\n          }\n          return newEl\n        }\n        return el\n      })\n    }\n\n    document.onmouseup = e => {\n      isMouseDown = false\n      document.onmousemove = null\n      document.onmouseup = null\n\n      const currentPageX = e.pageX\n      const currentPageY = e.pageY\n\n      if (startPageX === currentPageX && startPageY === currentPageY) return\n\n      slidesStore.updateSlide({ elements: elementList.value })\n      addHistorySnapshot()\n    }\n  }\n\n  return {\n    dragLineElement,\n  }\n}","import { Ref } from 'vue'\nimport { useSlidesStore } from '@/store'\nimport { PPTElement, PPTShapeElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport { SHAPE_PATH_FORMULAS } from '@/configs/shapes'\n\ninterface ShapePathData {\n  baseSize: number,\n  originPos: number,\n  min: number,\n  max: number,\n  relative: string,\n}\n\nexport default (\n  elementList: Ref<PPTElement[]>,\n  canvasScale: Ref<number>,\n) => {\n  const slidesStore = useSlidesStore()\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  const moveShapeKeypoint = (e: MouseEvent | TouchEvent, element: PPTShapeElement) => {\n    const isTouchEvent = !(e instanceof MouseEvent)\n    if (isTouchEvent && (!e.changedTouches || !e.changedTouches[0])) return\n\n    let isMouseDown = true\n  \n    const startPageX = isTouchEvent ? e.changedTouches[0].pageX : e.pageX\n    const startPageY = isTouchEvent ? e.changedTouches[0].pageY : e.pageY\n\n    const pathFormula = SHAPE_PATH_FORMULAS[element.pathFormula!]\n    let shapePathData: ShapePathData | null = null\n    if ('editable' in pathFormula) {\n      const baseSize = pathFormula.getBaseSize(element.width, element.height)\n      const originPos = baseSize * element.keypoint!\n      const [min, max] = pathFormula.range\n      const relative = pathFormula.relative\n\n      shapePathData = { baseSize, originPos, min, max, relative }\n    }\n\n    const handleMousemove = (e: MouseEvent | TouchEvent) => {\n      if (!isMouseDown) return\n\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n      const moveX = (currentPageX - startPageX) / canvasScale.value\n      const moveY = (currentPageY - startPageY) / canvasScale.value\n\n      elementList.value = elementList.value.map(el => {\n        if (el.id === element.id && shapePathData) {\n          const { baseSize, originPos, min, max, relative } = shapePathData\n          const shapeElement = el as PPTShapeElement\n\n          let keypoint = 0\n\n          if (relative === 'left') keypoint = (originPos + moveX) / baseSize\n          if (relative === 'right') keypoint = (originPos - moveX) / baseSize\n          if (relative === 'center') keypoint = (originPos - moveX * 2) / baseSize\n          if (relative === 'top') keypoint = (originPos + moveY) / baseSize\n          if (relative === 'bottom') keypoint = (originPos - moveY) / baseSize\n\n          if (keypoint < min) keypoint = min\n          if (keypoint > max) keypoint = max\n\n          return {\n            ...el,\n            keypoint,\n            path: pathFormula.formula(shapeElement.width, shapeElement.height, keypoint),\n          }\n        }\n        return el\n      })\n    }\n\n    const handleMouseup = (e: MouseEvent | TouchEvent) => {\n      isMouseDown = false\n      \n      document.ontouchmove = null\n      document.ontouchend = null\n      document.onmousemove = null\n      document.onmouseup = null\n\n      const currentPageX = e instanceof MouseEvent ? e.pageX : e.changedTouches[0].pageX\n      const currentPageY = e instanceof MouseEvent ? e.pageY : e.changedTouches[0].pageY\n\n      if (startPageX === currentPageX && startPageY === currentPageY) return\n\n      slidesStore.updateSlide({ elements: elementList.value })\n      addHistorySnapshot()\n    }\n\n    if (isTouchEvent) {\n      document.ontouchmove = handleMousemove\n      document.ontouchend = handleMouseup\n    }\n    else {\n      document.onmousemove = handleMousemove\n      document.onmouseup = handleMouseup\n    }\n  }\n\n  return {\n    moveShapeKeypoint,\n  }\n}","import { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { CreateElementSelectionData, CreatingLineElement, CreatingShapeElement } from '@/types/edit'\nimport useCreateElement from '@/hooks/useCreateElement'\n\nexport default (viewportRef: Ref<HTMLElement | undefined>) => {\n  const mainStore = useMainStore()\n  const { canvasScale, creatingElement } = storeToRefs(mainStore)\n\n  // 通过鼠标框选时的起点和终点，计算选区的位置大小\n  const formatCreateSelection = (selectionData: CreateElementSelectionData) => {\n    const { start, end } = selectionData\n\n    if (!viewportRef.value) return\n    const viewportRect = viewportRef.value.getBoundingClientRect()\n\n    const [startX, startY] = start\n    const [endX, endY] = end\n    const minX = Math.min(startX, endX)\n    const maxX = Math.max(startX, endX)\n    const minY = Math.min(startY, endY)\n    const maxY = Math.max(startY, endY)\n\n    const left = (minX - viewportRect.x) / canvasScale.value\n    const top = (minY - viewportRect.y) / canvasScale.value\n    const width = (maxX - minX) / canvasScale.value\n    const height = (maxY - minY) / canvasScale.value\n\n    return { left, top, width, height }\n  }\n\n  // 通过鼠标框选时的起点和终点，计算线条在画布中的位置和起点终点\n  const formatCreateSelectionForLine = (selectionData: CreateElementSelectionData) => {\n    const { start, end } = selectionData\n\n    if (!viewportRef.value) return\n    const viewportRect = viewportRef.value.getBoundingClientRect()\n\n    const [startX, startY] = start\n    const [endX, endY] = end\n    const minX = Math.min(startX, endX)\n    const maxX = Math.max(startX, endX)\n    const minY = Math.min(startY, endY)\n    const maxY = Math.max(startY, endY)\n\n    const left = (minX - viewportRect.x) / canvasScale.value\n    const top = (minY - viewportRect.y) / canvasScale.value\n    const width = (maxX - minX) / canvasScale.value\n    const height = (maxY - minY) / canvasScale.value\n\n    const _start: [number, number] = [\n      startX === minX ? 0 : width,\n      startY === minY ? 0 : height,\n    ]\n    const _end: [number, number] = [\n      endX === minX ? 0 : width,\n      endY === minY ? 0 : height,\n    ]\n\n    return {\n      left,\n      top,\n      start: _start,\n      end: _end,\n    }\n  }\n\n  const { createTextElement, createShapeElement, createLineElement } = useCreateElement()\n\n  // 根据鼠标选区的位置大小插入元素\n  const insertElementFromCreateSelection = (selectionData: CreateElementSelectionData) => {\n    if (!creatingElement.value) return\n\n    const type = creatingElement.value.type\n    if (type === 'text') {\n      const position = formatCreateSelection(selectionData)\n      position && createTextElement(position, { vertical: creatingElement.value.vertical })\n    }\n    else if (type === 'shape') {\n      const position = formatCreateSelection(selectionData)\n      position && createShapeElement(position, creatingElement.value.data)\n    }\n    else if (type === 'line') {\n      const position = formatCreateSelectionForLine(selectionData)\n      position && createLineElement(position, creatingElement.value.data)\n    }\n    mainStore.setCreatingElement(null)\n  }\n\n  return {\n    insertElementFromCreateSelection,\n  }\n}","import { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElement } from '@/types/slides'\nimport { ElementAlignCommands } from '@/types/edit'\nimport { getElementListRange } from '@/utils/element'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useHistorySnapshot from './useHistorySnapshot'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { activeElementIdList, activeElementList } = storeToRefs(useMainStore())\n  const { currentSlide, viewportRatio } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  /**\n   * 将所有选中的元素对齐到画布\n   * @param command 对齐方向\n   */\n  const alignElementToCanvas = (command: ElementAlignCommands) => {\n    const viewportWidth = VIEWPORT_SIZE\n    const viewportHeight = VIEWPORT_SIZE * viewportRatio.value\n    const { minX, maxX, minY, maxY } = getElementListRange(activeElementList.value)\n  \n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\n    for (const element of newElementList) {\n      if (!activeElementIdList.value.includes(element.id)) continue\n      \n      // 水平垂直居中\n      if (command === ElementAlignCommands.CENTER) {\n        const offsetY = minY + (maxY - minY) / 2 - viewportHeight / 2\n        const offsetX = minX + (maxX - minX) / 2 - viewportWidth / 2\n        element.top = element.top - offsetY \n        element.left = element.left - offsetX           \n      }\n\n      // 顶部对齐\n      if (command === ElementAlignCommands.TOP) {\n        const offsetY = minY - 0\n        element.top = element.top - offsetY            \n      }\n\n      // 垂直居中\n      else if (command === ElementAlignCommands.VERTICAL) {\n        const offsetY = minY + (maxY - minY) / 2 - viewportHeight / 2\n        element.top = element.top - offsetY            \n      }\n\n      // 底部对齐\n      else if (command === ElementAlignCommands.BOTTOM) {\n        const offsetY = maxY - viewportHeight\n        element.top = element.top - offsetY       \n      }\n      \n      // 左侧对齐\n      else if (command === ElementAlignCommands.LEFT) {\n        const offsetX = minX - 0\n        element.left = element.left - offsetX            \n      }\n\n      // 水平居中\n      else if (command === ElementAlignCommands.HORIZONTAL) {\n        const offsetX = minX + (maxX - minX) / 2 - viewportWidth / 2\n        element.left = element.left - offsetX            \n      }\n\n      // 右侧对齐\n      else if (command === ElementAlignCommands.RIGHT) {\n        const offsetX = maxX - viewportWidth\n        element.left = element.left - offsetX            \n      }\n    }\n\n    slidesStore.updateSlide({ elements: newElementList })\n    addHistorySnapshot()\n  }\n\n  return {\n    alignElementToCanvas,\n  }\n}","import { computed, Ref } from 'vue'\nimport { PPTElementShadow } from '@/types/slides'\n\n// 计算元素的阴影样式\nexport default (shadow: Ref<PPTElementShadow | undefined>) => {\n  const shadowStyle = computed(() => {\n    if (shadow.value) {\n      const { h, v, blur, color } = shadow.value\n      return `${h}px ${v}px ${blur}px ${color}`\n    }\n    return ''\n  })\n\n  return {\n    shadowStyle,\n  }\n}","import { computed, Ref } from 'vue'\n\n// 计算元素的翻转样式\nexport default (flipH: Ref<boolean | undefined>, flipV: Ref<boolean | undefined>) => {\n  const flipStyle = computed(() => {\n    let style = ''\n    \n    if (flipH.value && flipV.value) style = 'rotateX(180deg) rotateY(180deg)'\n    else if (flipV.value) style = 'rotateX(180deg)'\n    else if (flipH.value) style = 'rotateY(180deg)'\n\n    return style\n  })\n\n  return {\n    flipStyle,\n  }\n}","import { computed, Ref } from 'vue'\nimport { CLIPPATHS, ClipPathTypes } from '@/configs/imageClip'\nimport { ImageElementClip } from '@/types/slides'\n\nexport default (clip: Ref<ImageElementClip | undefined>) => {\n  const clipShape = computed(() => {\n    if (!clip.value) return CLIPPATHS.rect\n    const shape = clip.value.shape || ClipPathTypes.RECT\n\n    return CLIPPATHS[shape]\n  })\n\n  const imgPosition = computed(() => {\n    if (!clip.value) {\n      return {\n        top: '0',\n        left: '0',\n        width: '100%',\n        height: '100%',\n      }\n    }\n\n    const [start, end] = clip.value.range\n\n    const widthScale = (end[0] - start[0]) / 100\n    const heightScale = (end[1] - start[1]) / 100\n    const left = start[0] / widthScale\n    const top = start[1] / heightScale\n\n    return {\n      left: -left + '%',\n      top: -top + '%',\n      width: 100 / widthScale + '%',\n      height: 100 / heightScale + '%',\n    }\n  })\n\n  return {\n    clipShape,\n    imgPosition,\n  }\n}","import { computed, Ref } from 'vue'\nimport { ImageElementFilters, ImageElementFilterKeys } from '@/types/slides'\n\nexport default (filters: Ref<ImageElementFilters | undefined>) => {\n  const filter = computed(() => {\n    if (!filters.value) return ''\n    let filter = ''\n    const keys = Object.keys(filters.value) as ImageElementFilterKeys[]\n    for (const key of keys) {\n      filter += `${key}(${filters.value[key]}) `\n    }\n    return filter\n  })\n\n  return {\n    filter,\n  }\n}","import { computed, Ref } from 'vue'\nimport { PPTElementOutline } from '@/types/slides'\n\n// 计算边框相关属性值，主要是对默认值的处理\nexport default (outline: Ref<PPTElementOutline | undefined>) => {\n  const outlineWidth = computed(() => outline.value?.width ?? 0)\n  const outlineStyle = computed(() => outline.value?.style || 'solid')\n  const outlineColor = computed(() => outline.value?.color || '#d14424')\n\n  return {\n    outlineWidth,\n    outlineStyle,\n    outlineColor,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b5bace06\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"rx\", \"ry\", \"width\", \"height\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\n\nimport { PropType, toRef } from 'vue'\nimport { PPTElementOutline } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ImageRectOutline',\n  props: {\n  width: {\n    type: Number,\n    required: true,\n  },\n  height: {\n    type: Number,\n    required: true,\n  },\n  outline: {\n    type: Object as PropType<PPTElementOutline>\n  },\n  radius: {\n    type: String,\n    default: '0',\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst {\n  outlineWidth,\n  outlineStyle,\n  outlineColor,\n} = useElementOutline(toRef(props, 'outline'))\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.outline)\n    ? (_openBlock(), _createElementBlock(\"svg\", {\n        key: 0,\n        class: \"image-rect-outline\",\n        overflow: \"visible\",\n        width: __props.width,\n        height: __props.height\n      }, [\n        _createElementVNode(\"rect\", {\n          \"vector-effect\": \"non-scaling-stroke\",\n          \"stroke-linecap\": \"butt\",\n          \"stroke-miterlimit\": \"8\",\n          fill: \"transparent\",\n          rx: __props.radius,\n          ry: __props.radius,\n          width: __props.width,\n          height: __props.height,\n          stroke: _unref(outlineColor),\n          \"stroke-width\": _unref(outlineWidth),\n          \"stroke-dasharray\": _unref(outlineStyle) === 'dashed' ? '10 6' : '0 0'\n        }, null, 8, _hoisted_2)\n      ], 8, _hoisted_1))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./ImageRectOutline.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImageRectOutline.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImageRectOutline.vue?vue&type=style&index=0&id=b5bace06&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b5bace06\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-71b17928\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"cx\", \"cy\", \"rx\", \"ry\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\n\nimport { PropType, toRef } from 'vue'\nimport { PPTElementOutline } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ImageEllipseOutline',\n  props: {\n  width: {\n    type: Number,\n    required: true,\n  },\n  height: {\n    type: Number,\n    required: true,\n  },\n  outline: {\n    type: Object as PropType<PPTElementOutline>\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst {\n  outlineWidth,\n  outlineStyle,\n  outlineColor,\n} = useElementOutline(toRef(props, 'outline'))\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.outline)\n    ? (_openBlock(), _createElementBlock(\"svg\", {\n        key: 0,\n        class: \"image-ellipse-outline\",\n        overflow: \"visible\",\n        width: __props.width,\n        height: __props.height\n      }, [\n        _createElementVNode(\"ellipse\", {\n          \"vector-effect\": \"non-scaling-stroke\",\n          \"stroke-linecap\": \"butt\",\n          \"stroke-miterlimit\": \"8\",\n          fill: \"transparent\",\n          cx: __props.width / 2,\n          cy: __props.height / 2,\n          rx: __props.width / 2,\n          ry: __props.height / 2,\n          stroke: _unref(outlineColor),\n          \"stroke-width\": _unref(outlineWidth),\n          \"stroke-dasharray\": _unref(outlineStyle) === 'dashed' ? '10 6' : '0 0'\n        }, null, 8, _hoisted_2)\n      ], 8, _hoisted_1))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./ImageEllipseOutline.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImageEllipseOutline.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImageEllipseOutline.vue?vue&type=style&index=0&id=71b17928&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-71b17928\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-41071294\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"d\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\n\nimport { PropType, toRef } from 'vue'\nimport { PPTElementOutline } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ImagePolygonOutline',\n  props: {\n  width: {\n    type: Number,\n    required: true,\n  },\n  height: {\n    type: Number,\n    required: true,\n  },\n  outline: {\n    type: Object as PropType<PPTElementOutline>\n  },\n  createPath: {\n    type: Function,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst {\n  outlineWidth,\n  outlineStyle,\n  outlineColor,\n} = useElementOutline(toRef(props, 'outline'))\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.outline)\n    ? (_openBlock(), _createElementBlock(\"svg\", {\n        key: 0,\n        class: \"image-polygon-outline\",\n        overflow: \"visible\",\n        width: __props.width,\n        height: __props.height\n      }, [\n        _createElementVNode(\"path\", {\n          \"vector-effect\": \"non-scaling-stroke\",\n          \"stroke-linecap\": \"butt\",\n          \"stroke-miterlimit\": \"8\",\n          fill: \"transparent\",\n          d: __props.createPath(__props.width, __props.height),\n          stroke: _unref(outlineColor),\n          \"stroke-width\": _unref(outlineWidth),\n          \"stroke-dasharray\": _unref(outlineStyle) === 'dashed' ? '10 6' : '0 0'\n        }, null, 8, _hoisted_2)\n      ], 8, _hoisted_1))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./ImagePolygonOutline.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImagePolygonOutline.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImagePolygonOutline.vue?vue&type=style&index=0&id=41071294&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-41071294\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"image-outline\" }\n\nimport { computed, PropType } from 'vue'\nimport { PPTImageElement } from '@/types/slides'\nimport useClipImage from '../useClipImage'\n\nimport ImageRectOutline from './ImageRectOutline.vue'\nimport ImageEllipseOutline from './ImageEllipseOutline.vue'\nimport ImagePolygonOutline from './ImagePolygonOutline.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTImageElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst clip = computed(() => props.elementInfo.clip)\nconst { clipShape } = useClipImage(clip)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_unref(clipShape).type === 'rect')\n      ? (_openBlock(), _createBlock(ImageRectOutline, {\n          key: 0,\n          width: __props.elementInfo.width,\n          height: __props.elementInfo.height,\n          radius: _unref(clipShape).radius,\n          outline: __props.elementInfo.outline\n        }, null, 8, [\"width\", \"height\", \"radius\", \"outline\"]))\n      : (_unref(clipShape).type === 'ellipse')\n        ? (_openBlock(), _createBlock(ImageEllipseOutline, {\n            key: 1,\n            width: __props.elementInfo.width,\n            height: __props.elementInfo.height,\n            outline: __props.elementInfo.outline\n          }, null, 8, [\"width\", \"height\", \"outline\"]))\n        : (_unref(clipShape).type === 'polygon')\n          ? (_openBlock(), _createBlock(ImagePolygonOutline, {\n              key: 2,\n              width: __props.elementInfo.width,\n              height: __props.elementInfo.height,\n              outline: __props.elementInfo.outline,\n              createPath: _unref(clipShape).createPath!\n            }, null, 8, [\"width\", \"height\", \"outline\", \"createPath\"]))\n          : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3e0199ec\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = [\"onMousedown\"]\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  width: \"16\",\n  height: \"16\",\n  fill: \"#fff\",\n  stroke: \"#333\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", {\n    \"stroke-width\": \"0.3\",\n    \"shape-rendering\": \"crispEdges\",\n    d: \"M 16 0 L 0 0 L 0 16 L 4 16 L 4 4 L 16 4 L 16 0 Z\"\n  })\n], -1))\nconst _hoisted_5 = [\n  _hoisted_4\n]\nconst _hoisted_6 = [\"onMousedown\"]\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  width: \"16\",\n  height: \"16\",\n  fill: \"#fff\",\n  stroke: \"#333\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", {\n    \"stroke-width\": \"0.3\",\n    \"shape-rendering\": \"crispEdges\",\n    d: \"M 16 0 L 0 0 L 0 4 L 16 4 Z\"\n  })\n], -1))\nconst _hoisted_8 = [\n  _hoisted_7\n]\n\nimport { computed, onMounted, onUnmounted, PropType, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useKeyboardStore } from '@/store'\nimport { KEYS } from '@/configs/hotkey'\nimport { ImageClipedEmitData, OperateResizeHandlers } from '@/types/edit'\nimport { ImageClipDataRange, ImageElementClip } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ImageClipHandler',\n  props: {\n  src: {\n    type: String,\n    required: true,\n  },\n  clipData: {\n    type: Object as PropType<ImageElementClip>,\n  },\n  clipPath: {\n    type: String,\n    required: true,\n  },\n  width: {\n    type: Number,\n    required: true,\n  },\n  height: {\n    type: Number,\n    required: true,\n  },\n  top: {\n    type: Number,\n    required: true,\n  },\n  left: {\n    type: Number,\n    required: true,\n  },\n  rotate: {\n    type: Number,\n    required: true,\n  },\n},\n  emits: [\"clip\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst { canvasScale } = storeToRefs(useMainStore())\nconst { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\nconst clipWrapperPositionStyle = ref({\n  top: '0',\n  left: '0',\n})\nconst isSettingClipRange = ref(false)\nconst currentRange = ref<ImageClipDataRange | null>(null)\n\n// 获取裁剪区域信息（裁剪区域占原图的宽高比例，处在原图中的位置）\nconst getClipDataTransformInfo = () => {\n  const [start, end] = props.clipData ? props.clipData.range : [[0, 0], [100, 100]]\n\n  const widthScale = (end[0] - start[0]) / 100\n  const heightScale = (end[1] - start[1]) / 100\n  const left = start[0] / widthScale\n  const top = start[1] / heightScale\n\n  return { widthScale, heightScale, left, top }\n}\n\n// 底层图片位置大小（遮罩区域图片）\nconst imgPosition = computed(() => {\n  const { widthScale, heightScale, left, top } = getClipDataTransformInfo()\n  return {\n    left: -left,\n    top: -top,\n    width: 100 / widthScale,\n    height: 100 / heightScale,\n  }\n})\n\n// 底层图片位置大小样式（遮罩区域图片）\nconst bottomImgPositionStyle = computed(() => {\n  return {\n    top: imgPosition.value.top + '%',\n    left: imgPosition.value.left + '%',\n    width: imgPosition.value.width + '%',\n    height: imgPosition.value.height + '%',\n  }\n})\n\n// 顶层图片容器位置大小（裁剪高亮区域）\nconst topImgWrapperPosition = ref({\n  top: 0,\n  left: 0,\n  width: 0,\n  height: 0,\n})\n\n// 顶层图片容器位置大小样式（裁剪高亮区域）\nconst topImgWrapperPositionStyle = computed(() => {\n  const { top, left, width, height } = topImgWrapperPosition.value\n  return {\n    top: top + '%',\n    left: left + '%',\n    width: width + '%',\n    height: height + '%',\n  }\n})\n\n// 顶层图片位置大小样式（裁剪区域图片）\nconst topImgPositionStyle = computed(() => {\n  const bottomWidth = imgPosition.value.width\n  const bottomHeight = imgPosition.value.height\n  \n  const { top, left, width, height } = topImgWrapperPosition.value\n  \n  return {\n    left: -left * (100 / width) + '%',\n    top: -top * (100 / height) + '%',\n    width: bottomWidth / width * 100 + '%',\n    height: bottomHeight / height * 100 + '%',\n  }\n})\n\n// 初始化裁剪位置信息\nconst initClipPosition = () => {\n  const { left, top } = getClipDataTransformInfo()\n  topImgWrapperPosition.value = {\n    left: left,\n    top: top,\n    width: 100,\n    height: 100,\n  }\n  \n  clipWrapperPositionStyle.value = {\n    top: -top + '%',\n    left: -left + '%',\n  }\n}\n\n// 执行裁剪：计算裁剪后的图片位置大小和裁剪信息，并将数据同步出去\nconst handleClip = () => {\n  if (isSettingClipRange.value) return\n\n  if (!currentRange.value) {\n    emit('clip', null)\n    return\n  }\n\n  const { left, top } = getClipDataTransformInfo()\n\n  const position = {\n    left: (topImgWrapperPosition.value.left - left) / 100 * props.width,\n    top: (topImgWrapperPosition.value.top - top) / 100 * props.height,\n    width: (topImgWrapperPosition.value.width - 100) / 100 * props.width,\n    height: (topImgWrapperPosition.value.height - 100) / 100 * props.height,\n  }\n\n  const clipedEmitData: ImageClipedEmitData = {\n    range: currentRange.value,\n    position,\n  }\n  emit('clip', clipedEmitData)\n}\n\n// 快捷键监听：回车确认裁剪\nconst keyboardListener = (e: KeyboardEvent) => {\n  const key = e.key.toUpperCase()\n  if (key === KEYS.ENTER) handleClip()\n}\n\nonMounted(() => {\n  initClipPosition()\n  document.addEventListener('keydown', keyboardListener)\n})\nonUnmounted(() => {\n  document.removeEventListener('keydown', keyboardListener)\n})\n\n// 计算并更新裁剪区域范围数据\nconst updateRange = () => {\n  const retPosition = {\n    left: parseInt(topImgPositionStyle.value.left),\n    top: parseInt(topImgPositionStyle.value.top),\n    width: parseInt(topImgPositionStyle.value.width),\n    height: parseInt(topImgPositionStyle.value.height),\n  }\n\n  const widthScale = 100 / retPosition.width\n  const heightScale = 100 / retPosition.height\n\n  const start: [number, number] = [\n    -retPosition.left * widthScale,\n    -retPosition.top * heightScale,\n  ]\n  const end: [number, number] = [\n    widthScale * 100 + start[0],\n    heightScale * 100 + start[1],\n  ]\n\n  currentRange.value = [start, end]\n}\n\n// 移动裁剪区域\nconst moveClipRange = (e: MouseEvent) => {\n  isSettingClipRange.value = true\n  let isMouseDown = true\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n  const bottomPosition = imgPosition.value\n  const originPositopn = { ...topImgWrapperPosition.value }\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const currentPageX = e.pageX\n    const currentPageY = e.pageY\n\n    let moveX = (currentPageX - startPageX) / canvasScale.value / props.width * 100\n    let moveY = (currentPageY - startPageY) / canvasScale.value / props.height * 100\n\n    if (props.rotate > 45 && props.rotate < 135) {\n      moveX = (currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = -(currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n    if ((props.rotate >= 135 && props.rotate <= 180) || (props.rotate >= -180 && props.rotate <= -135)) {\n      moveX = -moveX\n      moveY = -moveY\n    }\n    if (props.rotate > -135 && props.rotate < -45) {\n      moveX = -(currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = (currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n\n    let targetLeft = originPositopn.left + moveX\n    let targetTop = originPositopn.top + moveY\n\n    if (targetLeft < 0) targetLeft = 0\n    else if (targetLeft + originPositopn.width > bottomPosition.width) {\n      targetLeft = bottomPosition.width - originPositopn.width\n    }\n    if (targetTop < 0) targetTop = 0\n    else if (targetTop + originPositopn.height > bottomPosition.height) {\n      targetTop = bottomPosition.height - originPositopn.height\n    }\n    \n    topImgWrapperPosition.value = {\n      ...topImgWrapperPosition.value,\n      left: targetLeft,\n      top: targetTop,\n    }\n  }\n\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    updateRange()\n\n    setTimeout(() => {\n      isSettingClipRange.value = false\n    }, 0)\n  }\n}\n\n// 缩放裁剪区域\nconst scaleClipRange = (e: MouseEvent, type: OperateResizeHandlers) => {\n  isSettingClipRange.value = true\n  let isMouseDown = true\n\n  const minWidth = 50 / props.width * 100\n  const minHeight = 50 / props.height * 100\n  \n  const startPageX = e.pageX\n  const startPageY = e.pageY\n  const bottomPosition = imgPosition.value\n  const originPositopn = { ...topImgWrapperPosition.value }\n\n  const aspectRatio = topImgWrapperPosition.value.width / topImgWrapperPosition.value.height\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const currentPageX = e.pageX\n    const currentPageY = e.pageY\n\n    let moveX = (currentPageX - startPageX) / canvasScale.value / props.width * 100\n    let moveY = (currentPageY - startPageY) / canvasScale.value / props.height * 100\n\n    if (props.rotate > 45 && props.rotate < 135) {\n      moveX = (currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = -(currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n    if ((props.rotate >= 135 && props.rotate <= 180) || (props.rotate >= -180 && props.rotate <= -135)) {\n      moveX = -moveX\n      moveY = -moveY\n    }\n    if (props.rotate > -135 && props.rotate < -45) {\n      moveX = -(currentPageY - startPageY) / canvasScale.value / props.width * 100\n      moveY = (currentPageX - startPageX) / canvasScale.value / props.height * 100\n    }\n\n    if (ctrlOrShiftKeyActive.value) {\n      if (type === OperateResizeHandlers.RIGHT_BOTTOM || type === OperateResizeHandlers.LEFT_TOP) moveY = moveX / aspectRatio\n      if (type === OperateResizeHandlers.LEFT_BOTTOM || type === OperateResizeHandlers.RIGHT_TOP) moveY = -moveX / aspectRatio\n    }\n\n    let targetLeft, targetTop, targetWidth, targetHeight\n\n    if (type === OperateResizeHandlers.LEFT_TOP) {\n      if (originPositopn.left + moveX < 0) {\n        moveX = -originPositopn.left\n      }\n      if (originPositopn.top + moveY < 0) {\n        moveY = -originPositopn.top\n      }\n      if (originPositopn.width - moveX < minWidth) {\n        moveX = originPositopn.width - minWidth\n      }\n      if (originPositopn.height - moveY < minHeight) {\n        moveY = originPositopn.height - minHeight\n      }\n      targetWidth = originPositopn.width - moveX\n      targetHeight = originPositopn.height - moveY\n      targetLeft = originPositopn.left + moveX\n      targetTop = originPositopn.top + moveY\n    }\n    else if (type === OperateResizeHandlers.RIGHT_TOP) {\n      if (originPositopn.left + originPositopn.width + moveX > bottomPosition.width) {\n        moveX = bottomPosition.width - (originPositopn.left + originPositopn.width)\n      }\n      if (originPositopn.top + moveY < 0) {\n        moveY = -originPositopn.top\n      }\n      if (originPositopn.width + moveX < minWidth) {\n        moveX = minWidth - originPositopn.width\n      }\n      if (originPositopn.height - moveY < minHeight) {\n        moveY = originPositopn.height - minHeight\n      }\n      targetWidth = originPositopn.width + moveX\n      targetHeight = originPositopn.height - moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top + moveY\n    }\n    else if (type === OperateResizeHandlers.LEFT_BOTTOM) {\n      if (originPositopn.left + moveX < 0) {\n        moveX = -originPositopn.left\n      }\n      if (originPositopn.top + originPositopn.height + moveY > bottomPosition.height) {\n        moveY = bottomPosition.height - (originPositopn.top + originPositopn.height)\n      }\n      if (originPositopn.width - moveX < minWidth) {\n        moveX = originPositopn.width - minWidth\n      }\n      if (originPositopn.height + moveY < minHeight) {\n        moveY = minHeight - originPositopn.height\n      }\n      targetWidth = originPositopn.width - moveX\n      targetHeight = originPositopn.height + moveY\n      targetLeft = originPositopn.left + moveX\n      targetTop = originPositopn.top\n    }\n    else if (type === OperateResizeHandlers.RIGHT_BOTTOM) {\n      if (originPositopn.left + originPositopn.width + moveX > bottomPosition.width) {\n        moveX = bottomPosition.width - (originPositopn.left + originPositopn.width)\n      }\n      if (originPositopn.top + originPositopn.height + moveY > bottomPosition.height) {\n        moveY = bottomPosition.height - (originPositopn.top + originPositopn.height)\n      }\n      if (originPositopn.width + moveX < minWidth) {\n        moveX = minWidth - originPositopn.width\n      }\n      if (originPositopn.height + moveY < minHeight) {\n        moveY = minHeight - originPositopn.height\n      }\n      targetWidth = originPositopn.width + moveX\n      targetHeight = originPositopn.height + moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top\n    }\n    else if (type === OperateResizeHandlers.TOP) {\n      if (originPositopn.top + moveY < 0) {\n        moveY = -originPositopn.top\n      }\n      if (originPositopn.height - moveY < minHeight) {\n        moveY = originPositopn.height - minHeight\n      }\n      targetWidth = originPositopn.width\n      targetHeight = originPositopn.height - moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top + moveY\n    }\n    else if (type === OperateResizeHandlers.BOTTOM) {\n      if (originPositopn.top + originPositopn.height + moveY > bottomPosition.height) {\n        moveY = bottomPosition.height - (originPositopn.top + originPositopn.height)\n      }\n      if (originPositopn.height + moveY < minHeight) {\n        moveY = minHeight - originPositopn.height\n      }\n      targetWidth = originPositopn.width\n      targetHeight = originPositopn.height + moveY\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top\n    }\n    else if (type === OperateResizeHandlers.LEFT) {\n      if (originPositopn.left + moveX < 0) {\n        moveX = -originPositopn.left\n      }\n      if (originPositopn.width - moveX < minWidth) {\n        moveX = originPositopn.width - minWidth\n      }\n      targetWidth = originPositopn.width - moveX\n      targetHeight = originPositopn.height\n      targetLeft = originPositopn.left + moveX\n      targetTop = originPositopn.top\n    }\n    else {\n      if (originPositopn.left + originPositopn.width + moveX > bottomPosition.width) {\n        moveX = bottomPosition.width - (originPositopn.left + originPositopn.width)\n      }\n      if (originPositopn.width + moveX < minWidth) {\n        moveX = minWidth - originPositopn.width\n      }\n      targetHeight = originPositopn.height\n      targetWidth = originPositopn.width + moveX\n      targetLeft = originPositopn.left\n      targetTop = originPositopn.top\n    }\n\n    topImgWrapperPosition.value = {\n      left: targetLeft,\n      top: targetTop,\n      width: targetWidth,\n      height: targetHeight,\n    }\n  }\n\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    updateRange()\n\n    setTimeout(() => isSettingClipRange.value = false, 0)\n  }\n}\n\nconst rotateClassName = computed(() => {\n  const prefix = 'rotate-'\n  const rotate = props.rotate\n  if (rotate > -22.5 && rotate <= 22.5) return prefix + 0\n  else if (rotate > 22.5 && rotate <= 67.5) return prefix + 45\n  else if (rotate > 67.5 && rotate <= 112.5) return prefix + 90\n  else if (rotate > 112.5 && rotate <= 157.5) return prefix + 135\n  else if (rotate > 157.5 || rotate <= -157.5) return prefix + 0\n  else if (rotate > -157.5 && rotate <= -112.5) return prefix + 45\n  else if (rotate > -112.5 && rotate <= -67.5) return prefix + 90\n  else if (rotate > -67.5 && rotate <= -22.5) return prefix + 135\n  return prefix + 0\n})\n\nconst cornerPoint = [\n  OperateResizeHandlers.LEFT_TOP,\n  OperateResizeHandlers.RIGHT_TOP,\n  OperateResizeHandlers.LEFT_BOTTOM,\n  OperateResizeHandlers.RIGHT_BOTTOM,\n]\nconst edgePoints = [\n  OperateResizeHandlers.TOP,\n  OperateResizeHandlers.BOTTOM,\n  OperateResizeHandlers.LEFT,\n  OperateResizeHandlers.RIGHT,\n]\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    class: \"image-clip-handler\",\n    style: _normalizeStyle(clipWrapperPositionStyle.value)\n  }, [\n    _createElementVNode(\"img\", {\n      class: \"bottom-img\",\n      src: __props.src,\n      draggable: false,\n      alt: \"\",\n      style: _normalizeStyle(bottomImgPositionStyle.value)\n    }, null, 12, _hoisted_1),\n    _createElementVNode(\"div\", {\n      class: \"top-image-content\",\n      style: _normalizeStyle({\n        ...topImgWrapperPositionStyle.value,\n        clipPath: __props.clipPath,\n      })\n    }, [\n      _createElementVNode(\"img\", {\n        class: \"top-img\",\n        src: __props.src,\n        draggable: false,\n        alt: \"\",\n        style: _normalizeStyle(topImgPositionStyle.value)\n      }, null, 12, _hoisted_2)\n    ], 4),\n    _createElementVNode(\"div\", {\n      class: \"operate\",\n      style: _normalizeStyle(topImgWrapperPositionStyle.value),\n      onMousedown: _cache[0] || (_cache[0] = _withModifiers($event => moveClipRange($event), [\"stop\"]))\n    }, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(cornerPoint, (point) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass(['clip-point', point, rotateClassName.value]),\n          key: point,\n          onMousedown: _withModifiers($event => scaleClipRange($event, point), [\"stop\"])\n        }, _hoisted_5, 42, _hoisted_3)\n      }), 64)),\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(edgePoints, (point) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass(['clip-point', point, rotateClassName.value]),\n          key: point,\n          onMousedown: _withModifiers($event => scaleClipRange($event, point), [\"stop\"])\n        }, _hoisted_8, 42, _hoisted_6)\n      }), 64))\n    ], 36)\n  ], 4)), [\n    [_directive_click_outside, handleClip]\n  ])\n}\n}\n\n})","import script from \"./ImageClipHandler.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImageClipHandler.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImageClipHandler.vue?vue&type=style&index=0&id=3e0199ec&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3e0199ec\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-963e3dfc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\n\nimport { computed, PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { ImageElementClip, PPTImageElement } from '@/types/slides'\nimport { ImageClipedEmitData } from '@/types/edit'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useClipImage from './useClipImage'\nimport useFilter from './useFilter'\n\nimport ImageOutline from './ImageOutline/index.vue'\nimport ImageClipHandler from './ImageClipHandler.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTImageElement>,\n    required: true,\n  },\n  selectElement: {\n    type: Function as PropType<(e: MouseEvent | TouchEvent, element: PPTImageElement, canMove?: boolean) => void>,\n    required: true,\n  },\n  contextmenus: {\n    type: Function as PropType<() => ContextmenuItem[] | null>,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { clipingImageElementId } = storeToRefs(mainStore)\n\nconst isCliping = computed(() => clipingImageElementId.value === props.elementInfo.id)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst clip = computed(() => props.elementInfo.clip)\nconst { clipShape, imgPosition } = useClipImage(clip)\n\nconst filters = computed(() => props.elementInfo.filters)\nconst { filter } = useFilter(filters)\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n  props.selectElement(e, props.elementInfo)\n}\n\nconst handleClip = (data: ImageClipedEmitData | null) => {\n  mainStore.setClipingImageElementId('')\n  \n  if (!data) return\n\n  const { range, position } = data\n  const originClip: ImageElementClip = props.elementInfo.clip || { shape: 'rect', range: [[0, 0], [100, 100]] }\n\n  const left = props.elementInfo.left + position.left\n  const top = props.elementInfo.top + position.top\n  const width = props.elementInfo.width + position.width\n  const height = props.elementInfo.height + position.height\n\n  let centerOffsetX = 0\n  let centerOffsetY = 0\n\n  if (props.elementInfo.rotate) {\n    const centerX = (left + width / 2) - (props.elementInfo.left + props.elementInfo.width / 2)\n    const centerY = -((top + height / 2) - (props.elementInfo.top + props.elementInfo.height / 2))\n\n    const radian = -props.elementInfo.rotate * Math.PI / 180\n\n    const rotatedCenterX = centerX * Math.cos(radian) - centerY * Math.sin(radian)\n    const rotatedCenterY = centerX * Math.sin(radian) + centerY * Math.cos(radian)\n\n    centerOffsetX = rotatedCenterX - centerX\n    centerOffsetY = -(rotatedCenterY - centerY)\n  }\n\n  const _props = {\n    clip: { ...originClip, range },\n    left: left + centerOffsetX,\n    top: top + centerOffsetY,\n    width,\n    height,\n  }\n  slidesStore.updateElement({ id: props.elementInfo.id, props: _props })\n  \n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-image\", { 'lock': __props.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      (isCliping.value)\n        ? (_openBlock(), _createBlock(ImageClipHandler, {\n            key: 0,\n            src: __props.elementInfo.src,\n            clipData: __props.elementInfo.clip,\n            width: __props.elementInfo.width,\n            height: __props.elementInfo.height,\n            top: __props.elementInfo.top,\n            left: __props.elementInfo.left,\n            rotate: __props.elementInfo.rotate,\n            clipPath: _unref(clipShape).style,\n            onClip: _cache[0] || (_cache[0] = range => handleClip(range))\n          }, null, 8, [\"src\", \"clipData\", \"width\", \"height\", \"top\", \"left\", \"rotate\", \"clipPath\"]))\n        : _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n            key: 1,\n            class: \"element-content\",\n            style: _normalizeStyle({\n          filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '',\n          transform: _unref(flipStyle),\n        }),\n            onMousedown: _cache[2] || (_cache[2] = $event => handleSelectElement($event)),\n            onTouchstart: _cache[3] || (_cache[3] = $event => handleSelectElement($event))\n          }, [\n            _createVNode(ImageOutline, { elementInfo: __props.elementInfo }, null, 8, [\"elementInfo\"]),\n            _createElementVNode(\"div\", {\n              class: \"image-content\",\n              style: _normalizeStyle({ clipPath: _unref(clipShape).style })\n            }, [\n              _createElementVNode(\"img\", {\n                src: __props.elementInfo.src,\n                draggable: false,\n                style: _normalizeStyle({\n              top: _unref(imgPosition).top,\n              left: _unref(imgPosition).left,\n              width: _unref(imgPosition).width,\n              height: _unref(imgPosition).height,\n              filter: _unref(filter),\n            }),\n                onDragstart: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n                alt: \"\"\n              }, null, 44, _hoisted_1),\n              (__props.elementInfo.colorMask)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"color-mask\",\n                    style: _normalizeStyle({\n              backgroundColor: __props.elementInfo.colorMask.color,\n              opacity: __props.elementInfo.colorMask.opacity,\n            })\n                  }, null, 4))\n                : _createCommentVNode(\"\", true)\n            ], 4)\n          ], 36)), [\n            [_directive_contextmenu, __props.contextmenus]\n          ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=963e3dfc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-963e3dfc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-61b7d06a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"d\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\n\nimport { PropType, toRef } from 'vue'\nimport { PPTElementOutline } from '@/types/slides'\n\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementOutline',\n  props: {\n  width: {\n    type: Number,\n    required: true,\n  },\n  height: {\n    type: Number,\n    required: true,\n  },\n  outline: {\n    type: Object as PropType<PPTElementOutline>\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst {\n  outlineWidth,\n  outlineStyle,\n  outlineColor,\n} = useElementOutline(toRef(props, 'outline'))\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.outline)\n    ? (_openBlock(), _createElementBlock(\"svg\", {\n        key: 0,\n        class: \"element-outline\",\n        overflow: \"visible\",\n        width: __props.width,\n        height: __props.height\n      }, [\n        _createElementVNode(\"path\", {\n          \"vector-effect\": \"non-scaling-stroke\",\n          \"stroke-linecap\": \"butt\",\n          \"stroke-miterlimit\": \"8\",\n          fill: \"transparent\",\n          d: `M0,0 L${__props.width},0 L${__props.width},${__props.height} L0,${__props.height} Z`,\n          stroke: _unref(outlineColor),\n          \"stroke-width\": _unref(outlineWidth),\n          \"stroke-dasharray\": _unref(outlineStyle) === 'dashed' ? '10 6' : '0 0'\n        }, null, 8, _hoisted_2)\n      ], 8, _hoisted_1))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./ElementOutline.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementOutline.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementOutline.vue?vue&type=style&index=0&id=61b7d06a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-61b7d06a\"]])\n\nexport default __exports__","import { splitListItem, liftListItem, sinkListItem } from 'prosemirror-schema-list'\nimport { Schema } from 'prosemirror-model'\nimport { undo, redo } from 'prosemirror-history'\nimport { undoInputRule } from 'prosemirror-inputrules'\nimport { Command } from 'prosemirror-state'\nimport {\n  toggleMark,\n  selectParentNode,\n  joinUp,\n  joinDown,\n  chainCommands,\n  newlineInCode,\n  createParagraphNear,\n  liftEmptyBlock,\n  splitBlockKeepMarks,\n} from 'prosemirror-commands'\n\ninterface Keys {\n  [key: string]: Command\n}\n\nexport const buildKeymap = (schema: Schema) => {\n  const keys: Keys = {}\n  const bind = (key: string, cmd: Command) => keys[key] = cmd\n\n  bind('Alt-ArrowUp', joinUp)\n  bind('Alt-ArrowDown', joinDown)\n  bind('Ctrl-z', undo)\n  bind('Ctrl-y', redo)\n  bind('Backspace', undoInputRule)\n  bind('Escape', selectParentNode)\n  bind('Ctrl-b', toggleMark(schema.marks.strong))\n  bind('Ctrl-i', toggleMark(schema.marks.em))\n  bind('Ctrl-u', toggleMark(schema.marks.underline))\n  bind('Ctrl-d', toggleMark(schema.marks.strikethrough))\n  bind('Enter', chainCommands(\n    splitListItem(schema.nodes.list_item),\n    newlineInCode,\n    createParagraphNear,\n    liftEmptyBlock,\n    splitBlockKeepMarks,\n  ))\n  bind('Mod-[', liftListItem(schema.nodes.list_item))\n  bind('Mod-]', sinkListItem(schema.nodes.list_item))\n  bind('Tab', sinkListItem(schema.nodes.list_item))\n\n  return keys\n}","import { NodeType, Schema } from 'prosemirror-model'\nimport {\n  inputRules,\n  wrappingInputRule,\n  textblockTypeInputRule,\n  smartQuotes,\n  emDash,\n  ellipsis,\n  InputRule,\n} from 'prosemirror-inputrules'\n\nconst blockQuoteRule = (nodeType: NodeType) => wrappingInputRule(/^\\s*>\\s$/, nodeType)\n\nconst orderedListRule = (nodeType: NodeType) => (\n  wrappingInputRule(\n    /^(\\d+)\\.\\s$/, \n    nodeType, \n    match => ({order: +match[1]}),\n    (match, node) => node.childCount + node.attrs.order === +match[1],\n  )\n)\n\nconst bulletListRule = (nodeType: NodeType) => wrappingInputRule(/^\\s*([-+*])\\s$/, nodeType)\n\nconst codeBlockRule = (nodeType: NodeType) => textblockTypeInputRule(/^```$/, nodeType)\n\nconst linkRule = () => {\n  const urlRegEx = /(?:https?:\\/\\/)?[\\w-]+(?:\\.[\\w-]+)+\\.?(?:\\d+)?(?:\\/\\S*)?$/\n  \n  return new InputRule(urlRegEx, (state, match, start, end) => {\n    const { schema } = state\n\n    const tr = state.tr.insertText(match[0], start, end)\n    const mark = schema.marks.link.create({ href: match[0], title: match[0] })\n\n    return tr.addMark(start, start + match[0].length, mark)\n  })\n}\n\nexport const buildInputRules = (schema: Schema) => {\n  const rules = [\n    ...smartQuotes,\n    ellipsis,\n    emDash,\n  ]\n  rules.push(blockQuoteRule(schema.nodes.blockquote))\n  rules.push(orderedListRule(schema.nodes.ordered_list))\n  rules.push(bulletListRule(schema.nodes.bullet_list))\n  rules.push(codeBlockRule(schema.nodes.code_block))\n  rules.push(linkRule())\n\n  return inputRules({ rules })\n}","import { keymap } from 'prosemirror-keymap'\nimport { Schema } from 'prosemirror-model'\nimport { history } from 'prosemirror-history'\nimport { baseKeymap } from 'prosemirror-commands'\nimport { dropCursor } from 'prosemirror-dropcursor'\nimport { gapCursor } from 'prosemirror-gapcursor'\n\nimport { buildKeymap } from './keymap'\nimport { buildInputRules } from './inputrules'\n\nexport const buildPlugins = (schema: Schema) => {\n  return [\n    buildInputRules(schema),\n    keymap(buildKeymap(schema)),\n    keymap(baseKeymap),\n    dropCursor(),\n    gapCursor(),\n    history(),\n  ]\n}","import { nodes } from 'prosemirror-schema-basic'\nimport { Node, NodeSpec } from 'prosemirror-model'\nimport { listItem as _listItem } from 'prosemirror-schema-list'\n\ninterface Attr {\n  [key: string]: number | string\n}\n\nconst orderedList: NodeSpec = {\n  attrs: {\n    order: {\n      default: 1,\n    },\n    listStyleType: {\n      default: '',\n    },\n  },\n  content: 'list_item+',\n  group: 'block',\n  parseDOM: [\n    { \n      tag: 'ol', \n      getAttrs: dom => {\n        const order = ((dom as HTMLElement).hasAttribute('start') ? (dom as HTMLElement).getAttribute('start') : 1) || 1\n        const attr: Attr = { order: +order }\n\n        const { listStyleType } = (dom as HTMLElement).style\n        if (listStyleType) attr['listStyleType'] = listStyleType\n\n        return attr\n      }\n    }\n  ],\n  toDOM: (node: Node) => {\n    const { order, listStyleType } = node.attrs\n    let style = ''\n    if (listStyleType) style += `list-style-type: ${listStyleType};`\n\n    const attr: Attr = { style }\n    if (order !== 1) attr['start'] = order\n\n\n    return ['ol', attr, 0]\n  },\n}\n\nconst bulletList: NodeSpec = {\n  attrs: {\n    listStyleType: {\n      default: '',\n    },\n  },\n  content: 'list_item+',\n  group: 'block',\n  parseDOM: [\n    {\n      tag: 'ul',\n      getAttrs: dom => {\n        const { listStyleType } = (dom as HTMLElement).style\n        return listStyleType ? { listStyleType } : {}\n      }\n    }\n  ],\n  toDOM: (node: Node) => {\n    const { listStyleType } = node.attrs\n    let style = ''\n    if (listStyleType) style += `list-style-type: ${listStyleType};`\n\n    return ['ul', { style }, 0]\n  },\n}\n\nconst listItem: NodeSpec = {\n  ..._listItem,\n  content: 'paragraph block*',\n  group: 'block',\n}\n\nconst paragraph: NodeSpec = {\n  attrs: {\n    align: {\n      default: '',\n    },\n    indent: {\n      default: 0,\n    },\n  },\n  content: 'inline*',\n  group: 'block',\n  parseDOM: [\n    {\n      tag: 'p',\n      getAttrs: dom => {\n        const { textAlign } = (dom as HTMLElement).style\n\n        let align = (dom as HTMLElement).getAttribute('align') || textAlign || ''\n        align = /(left|right|center|justify)/.test(align) ? align : ''\n\n        const indent = +((dom as HTMLElement).getAttribute('data-indent') || 0)\n      \n        return { align, indent }\n      }\n    },\n    {\n      tag: 'img',\n      ignore: true,\n    },\n    {\n      tag: 'pre',\n      skip: true,\n    },\n  ],\n  toDOM: (node: Node) => {\n    const { align, indent } = node.attrs\n    let style = ''\n    if (align && align !== 'left') style += `text-align: ${align};`\n\n    const attr: Attr = { style }\n    if (indent) attr['data-indent'] = indent\n\n    return ['p', attr, 0]\n  },\n}\n\n// https://github.com/supernovate07/super-ppt/issues/134\nconst { hard_break, ...otherNodes } = nodes\n\nexport default {\n  ...otherNodes,\n  'ordered_list': orderedList,\n  'bullet_list': bulletList,\n  'list_item': listItem,\n  paragraph,\n}\n","import { marks } from 'prosemirror-schema-basic'\nimport { MarkSpec } from 'prosemirror-model'\n\nconst subscript: MarkSpec = {\n  excludes: 'subscript',\n  parseDOM: [\n    { tag: 'sub' },\n    {\n      style: 'vertical-align',\n      getAttrs: value => value === 'sub' && null\n    },\n  ],\n  toDOM: () => ['sub', 0],\n}\n\nconst superscript: MarkSpec = {\n  excludes: 'superscript',\n  parseDOM: [\n    { tag: 'sup' },\n    {\n      style: 'vertical-align',\n      getAttrs: value => value === 'super' && null\n    },\n  ],\n  toDOM: () => ['sup', 0],\n}\n\nconst strikethrough: MarkSpec = {\n  parseDOM: [\n    { tag: 'strike' },\n    {\n      style: 'text-decoration',\n      getAttrs: value => value === 'line-through' && null\n    },\n    {\n      style: 'text-decoration-line',\n      getAttrs: value => value === 'line-through' && null\n    },\n  ],\n  toDOM: () => ['span', { style: 'text-decoration-line: line-through;' }, 0],\n}\n\nconst underline: MarkSpec = {\n  parseDOM: [\n    { tag: 'u' },\n    {\n      style: 'text-decoration',\n      getAttrs: value => value === 'underline' && null\n    },\n    {\n      style: 'text-decoration-line',\n      getAttrs: value => value === 'underline' && null\n    },\n  ],\n  toDOM: () => ['span', { style: 'text-decoration: underline;' }, 0],\n}\n\nconst forecolor: MarkSpec = {\n  attrs: {\n    color: {},\n  },\n  inline: true,\n  group: 'inline',\n  parseDOM: [\n    {\n      style: 'color',\n      getAttrs: color => color ? { color } : {}\n    },\n  ],\n  toDOM: mark => {\n    const { color } = mark.attrs\n    let style = ''\n    if (color) style += `color: ${color};`\n    return ['span', { style }, 0]\n  },\n}\n\nconst backcolor: MarkSpec = {\n  attrs: {\n    backcolor: {},\n  },\n  inline: true,\n  group: 'inline',\n  parseDOM: [\n    {\n      style: 'background-color',\n      getAttrs: backcolor => backcolor ? { backcolor } : {}\n    },\n  ],\n  toDOM: mark => {\n    const { backcolor } = mark.attrs\n    let style = ''\n    if (backcolor) style += `background-color: ${backcolor};`\n    return ['span', { style }, 0]\n  },\n}\n\nconst fontsize: MarkSpec = {\n  attrs: {\n    fontsize: {},\n  },\n  inline: true,\n  group: 'inline',\n  parseDOM: [\n    {\n      style: 'font-size',\n      getAttrs: fontsize => fontsize ? { fontsize } : {}\n    },\n  ],\n  toDOM: mark => {\n    const { fontsize } = mark.attrs\n    let style = ''\n    if (fontsize) style += `font-size: ${fontsize};`\n    return ['span', { style }, 0]\n  },\n}\n\nconst fontname: MarkSpec = {\n  attrs: {\n    fontname: {},\n  },\n  inline: true,\n  group: 'inline',\n  parseDOM: [\n    {\n      style: 'font-family',\n      getAttrs: fontname => {\n        return { fontname: fontname && typeof fontname === 'string' ? fontname.replace(/[\\\"\\']/g, '') : '' }\n      }\n    },\n  ],\n  toDOM: mark => {\n    const { fontname } = mark.attrs\n    let style = ''\n    if (fontname) style += `font-family: ${fontname};`\n    return ['span', { style }, 0]\n  },\n}\n\nconst link: MarkSpec = {\n  attrs: {\n    href: {},\n    title: { default: null },\n    target: { default: '_blank' },\n  },\n  inclusive: false,\n  parseDOM: [\n    {\n      tag: 'a[href]',\n      getAttrs: dom => {\n        const href = (dom as HTMLElement).getAttribute('href')\n        const title = (dom as HTMLElement).getAttribute('title')\n        return { href, title }\n      }\n    },\n  ],\n  toDOM: node => ['a', node.attrs, 0],\n}\n\nexport default {\n  ...marks,\n  fontsize,\n  fontname,\n  forecolor,\n  backcolor,\n  subscript,\n  superscript,\n  strikethrough,\n  underline,\n  link,\n}","import nodes from './nodes'\nimport marks from './marks'\n\nexport const schemaNodes = nodes\nexport const schemaMarks = marks\n","import { EditorState } from 'prosemirror-state'\nimport { EditorView } from 'prosemirror-view'\nimport { Schema, DOMParser } from 'prosemirror-model'\n\nimport { buildPlugins } from './plugins/index'\nimport { schemaNodes, schemaMarks } from './schema/index'\n\nconst schema = new Schema({\n  nodes: schemaNodes,\n  marks: schemaMarks,\n})\n\nexport const createDocument = (content: string) => {\n  const htmlString = `<div>${content}</div>`\n  const parser = new window.DOMParser()\n  const element = parser.parseFromString(htmlString, 'text/html').body.firstElementChild\n  return DOMParser.fromSchema(schema).parse(element as Element)\n}\n\nexport const initProsemirrorEditor = (dom: Element, content: string, props = {}) => {\n  return new EditorView(dom, {\n    state: EditorState.create({\n      doc: createDocument(content),\n      plugins: buildPlugins(schema),\n    }),\n    ...props,\n  })\n}","import mitt, { Emitter } from 'mitt'\n\nexport const enum EmitterEvents {\n  RICH_TEXT_COMMAND = 'RICH_TEXT_COMMAND',\n  OPEN_CHART_DATA_EDITOR = 'OPEN_CHART_DATA_EDITOR',\n  OPEN_LATEX_EDITOR = 'OPEN_LATEX_EDITOR',\n}\n\nexport interface RichTextAction {\n  command: string\n  value?: string\n}\n\nexport interface RichTextCommand {\n  target?: string\n  action: RichTextAction | RichTextAction[]\n}\n\ntype Events = {\n  [EmitterEvents.RICH_TEXT_COMMAND]: RichTextCommand\n  [EmitterEvents.OPEN_CHART_DATA_EDITOR]: void\n  [EmitterEvents.OPEN_LATEX_EDITOR]: void\n} \n\nconst emitter: Emitter<Events> = mitt<Events>()\n\nexport default emitter","import { Schema, Node, NodeType } from 'prosemirror-model'\nimport { Transaction } from 'prosemirror-state'\nimport { EditorView } from 'prosemirror-view'\n\nexport const setTextAlign = (tr: Transaction, schema: Schema, alignment: string) => {\n  const { selection, doc } = tr\n  if (!selection || !doc) return tr\n\n  const { from, to } = selection\n  const { nodes } = schema\n\n  const blockquote = nodes.blockquote\n  const listItem = nodes.list_item\n  const paragraph = nodes.paragraph\n\n  interface Task {\n    node: Node\n    pos: number\n    nodeType: NodeType\n  }\n\n  const tasks: Task[] = []\n  alignment = alignment || ''\n\n  const allowedNodeTypes = new Set([blockquote, listItem, paragraph])\n\n  doc.nodesBetween(from, to, (node, pos) => {\n    const nodeType = node.type\n    const align = node.attrs.align || ''\n    if (align !== alignment && allowedNodeTypes.has(nodeType)) {\n      tasks.push({\n        node,\n        pos,\n        nodeType,\n      })\n    }\n    return true\n  })\n\n  if (!tasks.length) return tr\n\n  tasks.forEach(task => {\n    const { node, pos, nodeType } = task\n    let { attrs } = node\n    if (alignment) attrs = { ...attrs, align: alignment }\n    else attrs = { ...attrs, align: null }\n    tr = tr.setNodeMarkup(pos, nodeType, attrs, node.marks)\n  })\n\n  return tr\n}\n\nexport const alignmentCommand = (view: EditorView, alignment: string) => {\n  const { state } = view\n  const { schema, selection } = state\n  const tr = setTextAlign(\n    state.tr.setSelection(selection),\n    schema,\n    alignment,\n  )\n  view.dispatch(tr)\n}","import { wrapInList, liftListItem } from 'prosemirror-schema-list'\nimport { Schema, Node, NodeType } from 'prosemirror-model'\nimport { Transaction, EditorState } from 'prosemirror-state'\nimport { findParentNode } from '../utils'\n\nexport const isList = (node: Node, schema: Schema) => {\n  return (\n    node.type === schema.nodes.bullet_list ||\n    node.type === schema.nodes.ordered_list\n  )\n}\n\nexport const toggleList = (listType: NodeType, itemType: NodeType, listStyleType?: string) => {\n  return (state: EditorState, dispatch: (tr: Transaction) => void) => {\n    const { schema, selection } = state\n    const { $from, $to } = selection\n    const range = $from.blockRange($to)\n\n    if (!range) return false\n\n    const parentList = findParentNode((node: Node) => isList(node, schema))(selection)\n\n    if (range.depth >= 1 && parentList && range.depth - parentList.depth <= 1) {\n      if (parentList.node.type === listType && !listStyleType) {\n        return liftListItem(itemType)(state, dispatch)\n      }\n\n      if (isList(parentList.node, schema) && listType.validContent(parentList.node.content)) {\n        const { tr } = state\n        if (listStyleType) {\n          const nodeAttrs = {\n            ...parentList.node.attrs,\n            listStyleType: listStyleType,\n          }\n          tr.setNodeMarkup(parentList.pos, listType, nodeAttrs)\n        }\n        else tr.setNodeMarkup(parentList.pos, listType)\n\n        if (dispatch) dispatch(tr)\n\n        return false\n      }\n    }\n\n    if (listStyleType) return wrapInList(listType, { listStyleType })(state, dispatch)\n    return wrapInList(listType)(state, dispatch)\n  }\n}","import { Schema } from 'prosemirror-model'\nimport { TextSelection, AllSelection, Transaction } from 'prosemirror-state'\nimport { EditorView } from 'prosemirror-view'\nimport { isList } from './toggleList'\n\nfunction setNodeIndentMarkup(tr: Transaction, pos: number, delta: number): Transaction {\n  if (!tr.doc) return tr\n\n  const node = tr.doc.nodeAt(pos)\n  if (!node) return tr\n\n  const minIndent = 0\n  const maxIndent = 7\n\n  let indent = (node.attrs.indent || 0) + delta\n  if (indent < minIndent) indent = minIndent\n  if (indent > maxIndent) indent = maxIndent\n\n  if (indent === node.attrs.indent) return tr\n\n  const nodeAttrs = {\n    ...node.attrs,\n    indent,\n  }\n\n  return tr.setNodeMarkup(pos, node.type, nodeAttrs, node.marks)\n}\n\nconst setTextIndent = (tr: Transaction, schema: Schema, delta: number): Transaction => {\n  const { selection, doc } = tr\n  if (!selection || !doc) return tr\n\n  if (!(selection instanceof TextSelection || selection instanceof AllSelection)) return tr\n\n  const { from, to } = selection\n\n  doc.nodesBetween(from, to, (node, pos) => {\n    const nodeType = node.type\n\n    if (nodeType.name === 'paragraph' || nodeType.name === 'blockquote') {\n      tr = setNodeIndentMarkup(tr, pos, delta)\n      return false\n    } \n    else if (isList(node, schema)) return false\n    return true\n  })\n\n  return tr\n}\n\nexport const indentCommand = (view: EditorView, delta: number) => {\n  const { state } = view\n  const { schema, selection } = state\n\n  const tr = setTextIndent(\n    state.tr.setSelection(selection),\n    schema,\n    delta,\n  )\n  if (tr.docChanged) {\n    view.dispatch(tr)\n    return true\n  }\n\n  return false\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport { debounce } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { EditorView } from 'prosemirror-view'\nimport { toggleMark, wrapIn } from 'prosemirror-commands'\nimport { initProsemirrorEditor, createDocument } from '@/utils/prosemirror'\nimport { findNodesWithSameMark, getTextAttrs, autoSelectAll, addMark, markActive, getFontsize } from '@/utils/prosemirror/utils'\nimport emitter, { EmitterEvents, RichTextAction, RichTextCommand } from '@/utils/emitter'\nimport { alignmentCommand } from '@/utils/prosemirror/commands/setTextAlign'\nimport { indentCommand } from '@/utils/prosemirror/commands/setTextIndent'\nimport { toggleList } from '@/utils/prosemirror/commands/toggleList'\nimport { TextFormatPainterKeys } from '@/types/edit'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ProsemirrorEditor',\n  props: {\n  elementId: {\n    type: String,\n    required: true,\n  },\n  defaultColor: {\n    type: String,\n    required: true,\n  },\n  defaultFontName: {\n    type: String,\n    required: true,\n  },\n  editable: {\n    type: Boolean,\n    default: false,\n  },\n  value: {\n    type: String,\n    required: true,\n  },\n  autoFocus: {\n    type: Boolean,\n    default: false,\n  },\n},\n  emits: [\"update\", \"focus\", \"blur\", \"mousedown\"],\n  setup(__props, { expose: __expose, emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst mainStore = useMainStore()\nconst { handleElementId, textFormatPainter } = storeToRefs(mainStore)\n\nconst editorViewRef = ref<HTMLElement>()\nlet editorView: EditorView\n// Various interactive event listeners for rich text:\n// Cancel the global shortcut key event when focusing\n// Synchronize data to vuex when entering text\n// Synchronize the rich text state to the toolbar when the mouse and keyboard are clicked\nconst handleInput = debounce(function() {\n  emit('update', editorView.dom.innerHTML)\n}, 300, { trailing: true })\n\nconst handleFocus = () => {\n  mainStore.setDisableHotkeysState(true)\n  emit('focus')\n}\n\nconst handleBlur = () => {\n  mainStore.setDisableHotkeysState(false)\n  emit('blur')\n}\n\nconst handleClick = debounce(function() {\n  const attrs = getTextAttrs(editorView, {\n    color: props.defaultColor,\n    fontname: props.defaultFontName,\n  })\n  mainStore.setRichtextAttrs(attrs)\n}, 30, { trailing: true })\n\nconst handleKeydown = () => {\n  handleInput()\n  handleClick()\n}\n\n// Synchronize rich text content to DOM\nconst textContent = computed(() => props.value)\nwatch(textContent, () => {\n  if (!editorView) return\n  if (editorView.hasFocus()) return\n\n  const { doc, tr } = editorView.state\n  editorView.dispatch(tr.replaceRangeWith(0, doc.content.size, createDocument(textContent.value)))\n})\n\n// Turn on/off the edit mode of the editor\nwatch(() => props.editable, () => {\n  editorView.setProps({ editable: () => props.editable })\n})\n\n// expose focus method\nconst focus = () => editorView.focus()\n__expose({ focus })\n\n// Execute rich text commands (can be one or more)\n// Before executing some commands, judge whether the current selection is empty, if the selection is empty, first select all\nconst execCommand = ({ target, action }: RichTextCommand) => {\n  if (!target && handleElementId.value !== props.elementId) return\n  if (target && target !== props.elementId) return\n\n  const actions = ('command' in action) ? [action] : action\n\n  for (const item of actions) {\n    if (item.command === 'fontname' && item.value) {\n      const mark = editorView.state.schema.marks.fontname.create({ fontname: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'fontsize' && item.value) {\n      const mark = editorView.state.schema.marks.fontsize.create({ fontsize: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'fontsize-add') {\n      const step = item.value ? +item.value : 2\n      autoSelectAll(editorView)\n      const fontsize = getFontsize(editorView) + step + 'px'\n      const mark = editorView.state.schema.marks.fontsize.create({ fontsize })\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'fontsize-reduce') {\n      const step = item.value ? +item.value : 2\n      autoSelectAll(editorView)\n      let fontsize = getFontsize(editorView) - step\n      if (fontsize < 12) fontsize = 12\n      const mark = editorView.state.schema.marks.fontsize.create({ fontsize: fontsize + 'px' })\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'color' && item.value) {\n      const mark = editorView.state.schema.marks.forecolor.create({ color: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'backcolor' && item.value) {\n      const mark = editorView.state.schema.marks.backcolor.create({ backcolor: item.value })\n      autoSelectAll(editorView)\n      addMark(editorView, mark)\n    }\n    else if (item.command === 'bold') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.strong)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'em') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.em)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'underline') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.underline)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'strikethrough') {\n      autoSelectAll(editorView)\n      toggleMark(editorView.state.schema.marks.strikethrough)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'subscript') {\n      toggleMark(editorView.state.schema.marks.subscript)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'superscript') {\n      toggleMark(editorView.state.schema.marks.superscript)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'blockquote') {\n      wrapIn(editorView.state.schema.nodes.blockquote)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'code') {\n      toggleMark(editorView.state.schema.marks.code)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'align' && item.value) {\n      alignmentCommand(editorView, item.value)\n    }\n    else if (item.command === 'indent' && item.value) {\n      indentCommand(editorView, +item.value)\n    }\n    else if (item.command === 'bulletList') {\n      const listStyleType = item.value || ''\n      const { bullet_list: bulletList, list_item: listItem } = editorView.state.schema.nodes\n      toggleList(bulletList, listItem, listStyleType)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'orderedList') {\n      const listStyleType = item.value || ''\n      const { ordered_list: orderedList, list_item: listItem } = editorView.state.schema.nodes\n      toggleList(orderedList, listItem, listStyleType)(editorView.state, editorView.dispatch)\n    }\n    else if (item.command === 'clear') {\n      autoSelectAll(editorView)\n      const { $from, $to } = editorView.state.selection\n      editorView.dispatch(editorView.state.tr.removeMark($from.pos, $to.pos))\n    }\n    else if (item.command === 'link') {\n      const markType = editorView.state.schema.marks.link\n      const { from, to } = editorView.state.selection\n      const result = findNodesWithSameMark(editorView.state.doc, from, to, markType)\n      if (result) {\n        if (item.value) {\n          const mark = editorView.state.schema.marks.link.create({ href: item.value, title: item.value })\n          addMark(editorView, mark, { from: result.from.pos, to: result.to.pos + 1 })\n        }\n        else editorView.dispatch(editorView.state.tr.removeMark(result.from.pos, result.to.pos + 1, markType))\n      }\n      else if (markActive(editorView.state, markType)) {\n        if (item.value) {\n          const mark = editorView.state.schema.marks.link.create({ href: item.value, title: item.value })\n          addMark(editorView, mark)\n        }\n        else toggleMark(markType)(editorView.state, editorView.dispatch)\n      }\n      else if (item.value) {\n        autoSelectAll(editorView)\n        toggleMark(markType, { href: item.value, title: item.value })(editorView.state, editorView.dispatch)\n      }\n    }\n    else if (item.command === 'insert' && item.value) {\n      editorView.dispatch(editorView.state.tr.insertText(item.value))\n    }\n  }\n\n  editorView.focus()\n  handleInput()\n  handleClick()\n}\n\n// 鼠标抬起时，执行格式刷命令\nconst handleMouseup = () => {\n  if (!textFormatPainter.value) return\n\n  const actions: RichTextAction[] = [{ command: 'clear' }]\n  for (const key of Object.keys(textFormatPainter.value) as TextFormatPainterKeys[]) {\n    const command = key\n    const value = textFormatPainter.value[key]\n    if (value === true) actions.push({ command })\n    else if (value) actions.push({ command, value })\n  }\n  execCommand({ action: actions })\n  mainStore.setTextFormatPainter(null)\n}\n\n// Prosemirror编辑器的初始化和卸载\nonMounted(() => {\n  editorView = initProsemirrorEditor((editorViewRef.value as Element), textContent.value, {\n    handleDOMEvents: {\n      focus: handleFocus,\n      blur: handleBlur,\n      keydown: handleKeydown,\n      click: handleClick,\n      mouseup: handleMouseup,\n    },\n    editable: () => props.editable,\n  })\n  if (props.autoFocus) editorView.focus()\n})\nonUnmounted(() => {\n  editorView && editorView.destroy()\n})\n\nemitter.on(EmitterEvents.RICH_TEXT_COMMAND, execCommand)\nonUnmounted(() => {\n  emitter.off(EmitterEvents.RICH_TEXT_COMMAND, execCommand)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"prosemirror-editor\", { 'format-painter': _unref(textFormatPainter) }]),\n    ref_key: \"editorViewRef\",\n    ref: editorViewRef,\n    onMousedown: _cache[0] || (_cache[0] = $event => emit('mousedown', $event))\n  }, null, 34))\n}\n}\n\n})","import script from \"./ProsemirrorEditor.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ProsemirrorEditor.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ProsemirrorEditor.vue?vue&type=style&index=0&id=4b4a82bb&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4b4a82bb\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3cccc232\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"drag-handler top\" }, null, -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"drag-handler bottom\" }, null, -1))\n\nimport { computed, onMounted, onUnmounted, PropType, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { debounce } from 'lodash'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTTextElement } from '@/types/slides'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\nimport ProsemirrorEditor from '@/views/components/element/ProsemirrorEditor.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTTextElement>,\n    required: true,\n  },\n  selectElement: {\n    type: Function as PropType<(e: MouseEvent | TouchEvent, element: PPTTextElement, canMove?: boolean) => void>,\n    required: true,\n  },\n  contextmenus: {\n    type: Function as PropType<() => ContextmenuItem[] | null>,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElementId, isScaling } = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst elementRef = ref<HTMLElement>()\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent, canMove = true) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo, canMove)\n}\n\n// 监听文本元素的尺寸变化，当高度变化时，更新高度到vuex\n// 如果高度变化时正处在缩放操作中，则等待缩放操作结束后再更新\nconst realHeightCache = ref(-1)\nconst realWidthCache = ref(-1)\n\nwatch(isScaling, () => {\n  if (handleElementId.value !== props.elementInfo.id) return\n\n  if (!isScaling.value) {\n    if (!props.elementInfo.vertical && realHeightCache.value !== -1) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { height: realHeightCache.value },\n      })\n      realHeightCache.value = -1\n    }\n    if (props.elementInfo.vertical && realWidthCache.value !== -1) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { width: realWidthCache.value },\n      })\n      realWidthCache.value = -1\n    }\n  }\n})\n\nconst updateTextElementHeight = (entries: ResizeObserverEntry[]) => {\n  const contentRect = entries[0].contentRect\n  if (!elementRef.value) return\n\n  const realHeight = contentRect.height + 20\n  const realWidth = contentRect.width + 20\n\n  if (!props.elementInfo.vertical && props.elementInfo.height !== realHeight) {\n    if (!isScaling.value) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { height: realHeight },\n      })\n    }\n    else realHeightCache.value = realHeight\n  }\n  if (props.elementInfo.vertical && props.elementInfo.width !== realWidth) {\n    if (!isScaling.value) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { width: realWidth },\n      })\n    }\n    else realWidthCache.value = realWidth\n  }\n}\nconst resizeObserver = new ResizeObserver(updateTextElementHeight)\n\nonMounted(() => {\n  if (elementRef.value) resizeObserver.observe(elementRef.value)\n})\nonUnmounted(() => {\n  if (elementRef.value) resizeObserver.unobserve(elementRef.value)\n})\n\nconst updateContent = (content: string) => {\n  slidesStore.updateElement({\n    id: props.elementInfo.id,\n    props: { content },\n  })\n  \n  addHistorySnapshot()\n}\n\nconst checkEmptyText = debounce(function() {\n  const pureText = props.elementInfo.content.replaceAll(/<[^>]+>/g, '')\n  if (!pureText) slidesStore.deleteElement(props.elementInfo.id)\n}, 300, { trailing: true })\n\nconst isHandleElement = computed(() => handleElementId.value === props.elementInfo.id)\nwatch(isHandleElement, () => {\n  if (!isHandleElement.value) checkEmptyText()\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-text\", { 'lock': __props.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        ref_key: \"elementRef\",\n        ref: elementRef,\n        style: _normalizeStyle({\n          width: __props.elementInfo.vertical ? 'auto' : __props.elementInfo.width + 'px',\n          height: __props.elementInfo.vertical ? __props.elementInfo.height + 'px' : 'auto',\n          backgroundColor: __props.elementInfo.fill,\n          opacity: __props.elementInfo.opacity,\n          textShadow: _unref(shadowStyle),\n          lineHeight: __props.elementInfo.lineHeight,\n          letterSpacing: (__props.elementInfo.wordSpace || 0) + 'px',\n          color: __props.elementInfo.defaultColor,\n          fontFamily: __props.elementInfo.defaultFontName,\n          writingMode: __props.elementInfo.vertical ? 'vertical-rl' : 'horizontal-tb',\n        }),\n        onMousedown: _cache[2] || (_cache[2] = $event => handleSelectElement($event)),\n        onTouchstart: _cache[3] || (_cache[3] = $event => handleSelectElement($event))\n      }, [\n        _createVNode(ElementOutline, {\n          width: __props.elementInfo.width,\n          height: __props.elementInfo.height,\n          outline: __props.elementInfo.outline\n        }, null, 8, [\"width\", \"height\", \"outline\"]),\n        _createVNode(ProsemirrorEditor, {\n          class: \"text\",\n          elementId: __props.elementInfo.id,\n          defaultColor: __props.elementInfo.defaultColor,\n          defaultFontName: __props.elementInfo.defaultFontName,\n          editable: !__props.elementInfo.lock,\n          value: __props.elementInfo.content,\n          style: _normalizeStyle({\n            '--textIndent': `${__props.elementInfo.textIndent || 0}px`,\n            '--paragraphSpace': `${__props.elementInfo.paragraphSpace === undefined ? 5 : __props.elementInfo.paragraphSpace}px`,\n          }),\n          onUpdate: _cache[0] || (_cache[0] = value => updateContent(value)),\n          onMousedown: _cache[1] || (_cache[1] = $event => handleSelectElement($event, false))\n        }, null, 8, [\"elementId\", \"defaultColor\", \"defaultFontName\", \"editable\", \"value\", \"style\"]),\n        _hoisted_1,\n        _hoisted_2\n      ], 36)), [\n        [_directive_contextmenu, __props.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3cccc232&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3cccc232\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = [\"id\", \"gradientTransform\"]\nconst _hoisted_2 = [\"stop-color\"]\nconst _hoisted_3 = [\"stop-color\"]\nconst _hoisted_4 = [\"id\"]\nconst _hoisted_5 = [\"stop-color\"]\nconst _hoisted_6 = [\"stop-color\"]\n\nimport { PropType } from 'vue'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GradientDefs',\n  props: {\r\n  id: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  type: {\r\n    type: String as PropType<'linear' | 'radial'>,\r\n  },\r\n  color1: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  color2: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  rotate: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n},\n  setup(__props) {\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.type === 'linear')\n    ? (_openBlock(), _createElementBlock(\"linearGradient\", {\n        key: 0,\n        id: __props.id,\n        x1: \"0%\",\n        y1: \"0%\",\n        x2: \"100%\",\n        y2: \"0%\",\n        gradientTransform: `rotate(${__props.rotate},0.5,0.5)`\n      }, [\n        _createElementVNode(\"stop\", {\n          offset: \"0%\",\n          \"stop-color\": __props.color1\n        }, null, 8, _hoisted_2),\n        _createElementVNode(\"stop\", {\n          offset: \"100%\",\n          \"stop-color\": __props.color2\n        }, null, 8, _hoisted_3)\n      ], 8, _hoisted_1))\n    : (_openBlock(), _createElementBlock(\"radialGradient\", {\n        key: 1,\n        id: __props.id\n      }, [\n        _createElementVNode(\"stop\", {\n          offset: \"0%\",\n          \"stop-color\": __props.color1\n        }, null, 8, _hoisted_5),\n        _createElementVNode(\"stop\", {\n          offset: \"100%\",\n          \"stop-color\": __props.color2\n        }, null, 8, _hoisted_6)\n      ], 8, _hoisted_4))\n}\n}\n\n})","import script from \"./GradientDefs.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GradientDefs.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createBlock as _createBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-12af375a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = { key: 0 }\nconst _hoisted_3 = [\"transform\"]\nconst _hoisted_4 = [\"d\", \"fill\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\n\nimport { computed, nextTick, PropType, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTShapeElement, ShapeText } from '@/types/slides'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport GradientDefs from './GradientDefs.vue'\nimport ProsemirrorEditor from '@/views/components/element/ProsemirrorEditor.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTShapeElement>,\n    required: true,\n  },\n  selectElement: {\n    type: Function as PropType<(e: MouseEvent | TouchEvent, element: PPTShapeElement, canMove?: boolean) => void>,\n    required: true,\n  },\n  contextmenus: {\n    type: Function as PropType<() => ContextmenuItem[] | null>,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElementId } = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent, canMove = true) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo, canMove)\n}\n\nconst outline = computed(() => props.elementInfo.outline)\nconst { outlineWidth, outlineStyle, outlineColor } = useElementOutline(outline)\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst editable = ref(false)\n\nwatch(handleElementId, () => {\n  if (handleElementId.value !== props.elementInfo.id) {\n    if (editable.value) editable.value = false\n  }\n})\n\nconst text = computed<ShapeText>(() => {\n  const defaultText: ShapeText = {\n    content: '',\n    defaultFontName: 'Microsoft Yahei',\n    defaultColor: '#000',\n    align: 'middle',\n  }\n  if (!props.elementInfo.text) return defaultText\n\n  return props.elementInfo.text\n})\n\nconst updateText = (content: string) => {\n  const _text = { ...text.value, content }\n  slidesStore.updateElement({\n    id: props.elementInfo.id, \n    props: { text: _text },\n  })\n  \n  addHistorySnapshot()\n}\n\nconst checkEmptyText = () => {\n  if (!props.elementInfo.text) return\n\n  const pureText = props.elementInfo.text.content.replaceAll(/<[^>]+>/g, '')\n  if (!pureText) {\n    slidesStore.removeElementProps({ id: props.elementInfo.id, propName: 'text' })\n    addHistorySnapshot()\n  }\n}\n\nconst prosemirrorEditorRef = ref<typeof ProsemirrorEditor>()\nconst startEdit = () => {\n  editable.value = true\n  nextTick(() => prosemirrorEditorRef.value && prosemirrorEditorRef.value.focus())\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-shape\", { 'lock': __props.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\n          opacity: __props.elementInfo.opacity,\n          filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '',\n          transform: _unref(flipStyle),\n          color: text.value.defaultColor,\n          fontFamily: text.value.defaultFontName,\n        }),\n        onMousedown: _cache[3] || (_cache[3] = $event => handleSelectElement($event)),\n        onTouchstart: _cache[4] || (_cache[4] = $event => handleSelectElement($event)),\n        onDblclick: _cache[5] || (_cache[5] = ($event: any) => (startEdit()))\n      }, [\n        (_openBlock(), _createElementBlock(\"svg\", {\n          overflow: \"visible\",\n          width: __props.elementInfo.width,\n          height: __props.elementInfo.height\n        }, [\n          (__props.elementInfo.gradient)\n            ? (_openBlock(), _createElementBlock(\"defs\", _hoisted_2, [\n                _createVNode(GradientDefs, {\n                  id: `editabel-gradient-${__props.elementInfo.id}`,\n                  type: __props.elementInfo.gradient.type,\n                  color1: __props.elementInfo.gradient.color[0],\n                  color2: __props.elementInfo.gradient.color[1],\n                  rotate: __props.elementInfo.gradient.rotate\n                }, null, 8, [\"id\", \"type\", \"color1\", \"color2\", \"rotate\"])\n              ]))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"g\", {\n            transform: `scale(${__props.elementInfo.width / __props.elementInfo.viewBox[0]}, ${__props.elementInfo.height / __props.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\n          }, [\n            _createElementVNode(\"path\", {\n              class: \"shape-path\",\n              \"vector-effect\": \"non-scaling-stroke\",\n              \"stroke-linecap\": \"butt\",\n              \"stroke-miterlimit\": \"8\",\n              d: __props.elementInfo.path,\n              fill: __props.elementInfo.gradient ? `url(#editabel-gradient-${__props.elementInfo.id})` : __props.elementInfo.fill,\n              stroke: _unref(outlineColor),\n              \"stroke-width\": _unref(outlineWidth),\n              \"stroke-dasharray\": _unref(outlineStyle) === 'dashed' ? '10 6' : '0 0'\n            }, null, 8, _hoisted_4)\n          ], 8, _hoisted_3)\n        ], 8, _hoisted_1)),\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"shape-text\", [text.value.align, { 'editable': editable.value || text.value.content }]])\n        }, [\n          (editable.value || text.value.content)\n            ? (_openBlock(), _createBlock(ProsemirrorEditor, {\n                key: 0,\n                ref_key: \"prosemirrorEditorRef\",\n                ref: prosemirrorEditorRef,\n                elementId: __props.elementInfo.id,\n                defaultColor: text.value.defaultColor,\n                defaultFontName: text.value.defaultFontName,\n                editable: !__props.elementInfo.lock,\n                value: text.value.content,\n                onUpdate: _cache[0] || (_cache[0] = value => updateText(value)),\n                onBlur: _cache[1] || (_cache[1] = ($event: any) => (checkEmptyText())),\n                onMousedown: _cache[2] || (_cache[2] = $event => handleSelectElement($event, false))\n              }, null, 8, [\"elementId\", \"defaultColor\", \"defaultFontName\", \"editable\", \"value\"]))\n            : _createCommentVNode(\"\", true)\n        ], 2)\n      ], 36)), [\n        [_directive_contextmenu, __props.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=12af375a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-12af375a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"id\", \"markerWidth\", \"markerHeight\", \"refX\", \"refY\"]\nconst _hoisted_2 = [\"d\", \"fill\", \"transform\"]\n\nimport { computed, PropType } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LinePointMarker',\n  props: {\n  id: {\n    type: String,\n    required: true,\n  },\n  position: {\n    type: String as PropType<'start' | 'end'>,\n    required: true,\n  },\n  type: {\n    type: String as PropType<'dot' | 'arrow'>,\n    required: true,\n  },\n  color: {\n    type: String,\n  },\n  baseSize: {\n    type: Number,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst pathMap = {\n  dot: 'm0 5a5 5 0 1 0 10 0a5 5 0 1 0 -10 0z',\n  arrow: 'M0,0 L10,5 0,10 Z',\n}\nconst rotateMap: { [key: string]: number } = {\n  'arrow-start': 180,\n  'arrow-end': 0,\n}\n\nconst path = computed(() => pathMap[props.type])\nconst rotate = computed(() => rotateMap[`${props.type}-${props.position}`] || 0)\nconst size = computed(() => props.baseSize < 2 ? 2 : props.baseSize)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"marker\", {\n    id: `${__props.id}-${__props.type}-${__props.position}`,\n    markerUnits: \"userSpaceOnUse\",\n    orient: \"auto\",\n    markerWidth: size.value * 3,\n    markerHeight: size.value * 3,\n    refX: size.value * 1.5,\n    refY: size.value * 1.5\n  }, [\n    _createElementVNode(\"path\", {\n      d: path.value,\n      fill: __props.color,\n      transform: `scale(${size.value * 0.3}, ${size.value * 0.3}) rotate(${rotate.value}, 5, 5)`\n    }, null, 8, _hoisted_2)\n  ], 8, _hoisted_1))\n}\n}\n\n})","import script from \"./LinePointMarker.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LinePointMarker.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6550e504\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"d\", \"stroke\", \"stroke-width\", \"stroke-dasharray\", \"marker-start\", \"marker-end\"]\nconst _hoisted_3 = [\"d\"]\n\nimport { computed, PropType } from 'vue'\nimport { PPTLineElement } from '@/types/slides'\nimport { getLineElementPath } from '@/utils/element'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\n\nimport LinePointMarker from './LinePointMarker.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTLineElement>,\n    required: true,\n  },\n  selectElement: {\n    type: Function as PropType<(e: MouseEvent | TouchEvent, element: PPTLineElement, canMove?: boolean) => void>,\n    required: true,\n  },\n  contextmenus: {\n    type: Function as PropType<() => ContextmenuItem[] | null>,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst svgWidth = computed(() => {\n  const width = Math.abs(props.elementInfo.start[0] - props.elementInfo.end[0])\n  return width < 24 ? 24 : width\n})\nconst svgHeight = computed(() => {\n  const height = Math.abs(props.elementInfo.start[1] - props.elementInfo.end[1])\n  return height < 24 ? 24 : height\n})\n\nconst lineDashArray = computed(() => props.elementInfo.style === 'dashed' ? '10 6' : '0 0')\n\nconst path = computed(() => {\n  return getLineElementPath(props.elementInfo)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-shape\", { 'lock': __props.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"element-content\",\n      style: _normalizeStyle({ filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '' }),\n      onMousedown: _cache[0] || (_cache[0] = $event => handleSelectElement($event)),\n      onTouchstart: _cache[1] || (_cache[1] = $event => handleSelectElement($event))\n    }, [\n      (_openBlock(), _createElementBlock(\"svg\", {\n        overflow: \"visible\",\n        width: svgWidth.value,\n        height: svgHeight.value\n      }, [\n        _createElementVNode(\"defs\", null, [\n          (__props.elementInfo.points[0])\n            ? (_openBlock(), _createBlock(LinePointMarker, {\n                key: 0,\n                id: __props.elementInfo.id,\n                position: \"start\",\n                type: __props.elementInfo.points[0],\n                color: __props.elementInfo.color,\n                baseSize: __props.elementInfo.width\n              }, null, 8, [\"id\", \"type\", \"color\", \"baseSize\"]))\n            : _createCommentVNode(\"\", true),\n          (__props.elementInfo.points[1])\n            ? (_openBlock(), _createBlock(LinePointMarker, {\n                key: 1,\n                id: __props.elementInfo.id,\n                position: \"end\",\n                type: __props.elementInfo.points[1],\n                color: __props.elementInfo.color,\n                baseSize: __props.elementInfo.width\n              }, null, 8, [\"id\", \"type\", \"color\", \"baseSize\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createElementVNode(\"path\", {\n          class: \"line-point\",\n          d: path.value,\n          stroke: __props.elementInfo.color,\n          \"stroke-width\": __props.elementInfo.width,\n          \"stroke-dasharray\": lineDashArray.value,\n          fill: \"none\",\n          \"marker-start\": __props.elementInfo.points[0] ? `url(#${__props.elementInfo.id}-${__props.elementInfo.points[0]}-start)` : '',\n          \"marker-end\": __props.elementInfo.points[1] ? `url(#${__props.elementInfo.id}-${__props.elementInfo.points[1]}-end)` : ''\n        }, null, 8, _hoisted_2),\n        _withDirectives(_createElementVNode(\"path\", {\n          class: \"line-path\",\n          d: path.value,\n          stroke: \"transparent\",\n          \"stroke-width\": \"20\",\n          fill: \"none\"\n        }, null, 8, _hoisted_3), [\n          [_directive_contextmenu, __props.contextmenus]\n        ])\n      ], 8, _hoisted_1))\n    ], 36)\n  ], 6))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=6550e504&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6550e504\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport { computed, inject, onMounted, PropType, ref, watch } from 'vue'\nimport tinycolor from 'tinycolor2'\nimport { BarChart, LineChart, PieChart } from 'chartist'\nimport { ChartData, ChartOptions, ChartType } from '@/types/slides'\nimport { injectKeySlideScale } from '@/types/injectKey'\n\nimport 'chartist/dist/index.css'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Chart',\n  props: {\n  width: {\n    type: Number,\n    required: true,\n  },\n  height: {\n    type: Number,\n    required: true,\n  },\n  type: {\n    type: String as PropType<ChartType>,\n    required: true,\n  },\n  data: {\n    type: Object as PropType<ChartData>,\n    required: true,\n  },\n  options: {\n    type: Object as PropType<ChartOptions>,\n  },\n  themeColor: {\n    type: Array as PropType<string[]>,\n    required: true,\n  },\n  legends: {\n    type: Array as PropType<string[]>,\n    required: true,\n  },\n  gridColor: {\n    type: String,\n  },\n  legend: {\n    type: String as PropType<'' | 'top' | 'bottom'>,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst chartRef = ref<HTMLElement>()\nconst slideScale = inject(injectKeySlideScale) || ref(1)\n\nlet chart: LineChart | BarChart | PieChart | undefined\n\nconst chartHeight = computed(() => {\n  if (props.legend) return props.height - 20\n  return props.height\n})\n\nconst getPieChartData = () => ({ ...props.data, series: props.data.series[0] })\n\nconst getOptions = () => {\n  const propsOptopns = props.options || {}\n  return {\n    ...propsOptopns,\n    width: props.width * slideScale.value,\n    height: chartHeight.value * slideScale.value,\n  }\n}\n\nconst renderChart = () => {\n  if (!chartRef.value) return\n\n  const options = getOptions()\n  if (props.type === 'bar') chart = new BarChart(chartRef.value, props.data, options)\n  if (props.type === 'line') chart = new LineChart(chartRef.value, props.data, options)\n  if (props.type === 'pie') chart = new PieChart(chartRef.value, getPieChartData(), options)\n}\n\nconst updateChart = () => {\n  if (!chart) {\n    renderChart()\n    return\n  }\n  const options = getOptions()\n  const data = props.type === 'pie' ? getPieChartData() : props.data\n  chart.update(data, options)\n}\n\nwatch([\n  () => props.width,\n  () => props.height,\n  () => props.data,\n  () => props.options,\n  slideScale,\n], updateChart)\n\nonMounted(renderChart)\n\nconst themeColors = computed(() => {\n  let colors: string[] = []\n  if (props.themeColor.length >= 10) colors = props.themeColor\n  else if (props.themeColor.length === 1) colors = tinycolor(props.themeColor[0]).analogous(10).map(color => color.toRgbString())\n  else {\n    const len = props.themeColor.length\n    const supplement = tinycolor(props.themeColor[len - 1]).analogous(10 + 1 - len).map(color => color.toRgbString())\n    colors = [...props.themeColor.slice(0, len - 1), ...supplement]\n  }\n  return colors\n})\n\n// 更新主题配色：\n// 如果当前所设置的主题色数小于10，剩余部分获取最后一个主题色的相近颜色作为配色\nconst updateTheme = () => {\n  if (!chartRef.value) return\n\n  for (let i = 0; i < 10; i++) {\n    chartRef.value.style.setProperty(`--theme-color-${i + 1}`, themeColors.value[i])\n  }\n}\n\nwatch(themeColors, updateTheme)\nonMounted(updateTheme)\n\n// 更新网格颜色，包括坐标的文字部分\nconst updateGridColor = () => {\n  if (!chartRef.value) return\n  if (props.gridColor) chartRef.value.style.setProperty(`--grid-color`, props.gridColor)\n}\n\nwatch(() => props.gridColor, updateGridColor)\nonMounted(updateGridColor)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"chart\",\n    style: _normalizeStyle({ flexDirection: __props.legend === 'top' ? 'column-reverse' : 'column' })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"chart-content\",\n      ref_key: \"chartRef\",\n      ref: chartRef,\n      style: _normalizeStyle({\n        width: __props.width + 'px',\n        height: chartHeight.value + 'px',\n        transform: `scale(${1 / _unref(slideScale)})`,\n      })\n    }, null, 4),\n    (__props.legend)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"legends\",\n          style: _normalizeStyle({ transform: `scale(${1 / _unref(slideScale)})` })\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.legends, (legend, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"legend\",\n              key: index,\n              style: _normalizeStyle({ color: __props.gridColor })\n            }, [\n              _createElementVNode(\"div\", {\n                class: \"block\",\n                style: _normalizeStyle({ backgroundColor: themeColors.value[index] })\n              }, null, 4),\n              _createTextVNode(\" \" + _toDisplayString(legend), 1)\n            ], 4))\n          }), 128))\n        ], 4))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}\n}\n\n})","import script from \"./Chart.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Chart.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Chart.vue?vue&type=style&index=0&id=10bb6abe&lang=scss&scoped=true\"\nimport \"./Chart.vue?vue&type=style&index=1&id=10bb6abe&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-10bb6abe\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nimport { PropType } from 'vue'\r\nimport { PPTChartElement } from '@/types/slides'\r\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\r\nimport emitter, { EmitterEvents } from '@/utils/emitter'\r\n\r\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\r\nimport Chart from './Chart.vue'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\r\n  elementInfo: {\r\n    type: Object as PropType<PPTChartElement>,\r\n    required: true,\r\n  },\r\n  selectElement: {\r\n    type: Function as PropType<(e: MouseEvent | TouchEvent, element: PPTChartElement, canMove?: boolean) => void>,\r\n    required: true,\r\n  },\r\n  contextmenus: {\r\n    type: Function as PropType<() => ContextmenuItem[] | null>,\r\n  },\r\n},\n  setup(__props) {\n\nconst props = __props;\n\r\n\r\n\r\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\r\n  if (props.elementInfo.lock) return\r\n  e.stopPropagation()\r\n\r\n  props.selectElement(e, props.elementInfo)\r\n}\r\n\r\nconst openDataEditor = () => {\r\n  emitter.emit(EmitterEvents.OPEN_CHART_DATA_EDITOR)\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-chart\", { 'lock': __props.elementInfo.lock }]),\n    style: _normalizeStyle({\r\n      top: __props.elementInfo.top + 'px',\r\n      left: __props.elementInfo.left + 'px',\r\n      width: __props.elementInfo.width + 'px',\r\n      height: __props.elementInfo.height + 'px',\r\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\r\n          backgroundColor: __props.elementInfo.fill,\r\n        }),\n        onMousedown: _cache[0] || (_cache[0] = $event => handleSelectElement($event)),\n        onTouchstart: _cache[1] || (_cache[1] = $event => handleSelectElement($event)),\n        onDblclick: _cache[2] || (_cache[2] = ($event: any) => (openDataEditor()))\n      }, [\n        _createVNode(ElementOutline, {\n          width: __props.elementInfo.width,\n          height: __props.elementInfo.height,\n          outline: __props.elementInfo.outline\n        }, null, 8, [\"width\", \"height\", \"outline\"]),\n        _createVNode(Chart, {\n          width: __props.elementInfo.width,\n          height: __props.elementInfo.height,\n          type: __props.elementInfo.chartType,\n          data: __props.elementInfo.data,\n          options: __props.elementInfo.options,\n          themeColor: __props.elementInfo.themeColor,\n          gridColor: __props.elementInfo.gridColor,\n          legends: __props.elementInfo.data.legends,\n          legend: __props.elementInfo.legend || ''\n        }, null, 8, [\"width\", \"height\", \"type\", \"data\", \"options\", \"themeColor\", \"gridColor\", \"legends\", \"legend\"])\n      ], 36)), [\n        [_directive_contextmenu, __props.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=f3c03862&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f3c03862\"]])\n\nexport default __exports__","import { CSSProperties } from 'vue'\nimport { TableCellStyle } from '@/types/slides'\n\n/**\n* Calculate cell text style\n  * @param style original data of cell text style\n */\nexport const getTextStyle = (style?: TableCellStyle): CSSProperties => {\n  if (!style) return {}\n  const {\n    bold,\n    em,\n    underline,\n    strikethrough,\n    color,\n    backcolor,\n    fontsize,\n    fontname,\n    align,\n  } = style\n\n  let textDecoration = `${underline ? 'underline' : ''} ${strikethrough ? 'line-through' : ''}`\n  if (textDecoration === ' ') textDecoration = 'none'\n  \n  return {\n    fontWeight: bold ? 'bold' : 'normal',\n    fontStyle: em ? 'italic' : 'normal',\n    textDecoration,\n    color: color || '#000',\n    backgroundColor: backcolor || '',\n    fontSize: fontsize || '14px',\n    fontFamily: fontname || 'Microsoft Yahei',\n    textAlign: align || 'left',\n  }\n}\n\nexport const formatText = (text: string) => {\n  return text.replace(/\\n/g, '</br>').replace(/ /g, '&nbsp;')\n}","import { computed, Ref } from 'vue'\nimport { TableCell } from '@/types/slides'\n\n// 计算无效的单元格位置（被合并的单元格位置）集合\n\nexport default (cells: Ref<TableCell[][]>) => {\n  const hideCells = computed(() => {\n    const hideCells = []\n    \n    for (let i = 0; i < cells.value.length; i++) {\n      const rowCells = cells.value[i]\n\n      for (let j = 0; j < rowCells.length; j++) {\n        const cell = rowCells[j]\n        \n        if (cell.colspan > 1 || cell.rowspan > 1) {\n          for (let row = i; row < i + cell.rowspan; row++) {\n            for (let col = row === i ? j + 1 : j; col < j + cell.colspan; col++) {\n              hideCells.push(`${row}_${col}`)\n            }\n          }\n        }\n      }\n    }\n    return hideCells\n  })\n\n  return {\n    hideCells,\n  }\n}","import { ref, Ref, watch } from 'vue'\nimport { TableTheme } from '@/types/slides'\nimport { getTableSubThemeColor } from '@/utils/element'\n\n// 通过表格的主题色计算辅助颜色\n\nexport default (theme: Ref<TableTheme | undefined>) => {\n  const subThemeColor = ref(['', ''])\n  watch(() => theme.value, () => {\n    if (theme.value) {\n      subThemeColor.value = getTableSubThemeColor(theme.value.color)\n    }\n  }, { immediate: true })\n\n  return {\n    subThemeColor,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-cbe9681c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"innerHTML\"]\n\nimport { onBeforeUnmount, ref, watch } from 'vue'\nimport { pasteCustomClipboardString, pasteExcelClipboardString } from '@/utils/clipboard'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CustomTextarea',\n  props: {\n  value: {\n    type: String,\n    default: '',\n  },\n},\n  emits: [\"updateValue\", \"insertExcelData\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst textareaRef = ref<HTMLElement>()\nconst text = ref('')\nconst isFocus = ref(false)\n\n// 自定义v-modal，同步数据\n// 当文本框聚焦时，不执行数据同步\nwatch(() => props.value, () => {\n  if (isFocus.value) return\n  text.value = props.value\n  if (textareaRef.value) textareaRef.value.innerHTML = props.value\n}, { immediate: true })\n\nconst handleInput = () => {\n  if (!textareaRef.value) return\n  const text = textareaRef.value.innerHTML\n  emit('updateValue', text)\n}\n\n// 聚焦时更新焦点标记，并监听粘贴事件\nconst handleFocus = () => {\n  isFocus.value = true\n\n  if (!textareaRef.value) return\n  textareaRef.value.onpaste = (e: ClipboardEvent) => {\n    e.preventDefault()\n    if (!e.clipboardData) return\n\n    const clipboardDataFirstItem = e.clipboardData.items[0]\n\n    if (clipboardDataFirstItem && clipboardDataFirstItem.kind === 'string' && clipboardDataFirstItem.type === 'text/plain') {\n      clipboardDataFirstItem.getAsString(text => {\n        const clipboardData = pasteCustomClipboardString(text)\n        if (typeof clipboardData === 'object') return\n \n        const excelData = pasteExcelClipboardString(text)\n        if (excelData) {\n          emit('insertExcelData', excelData)\n          if (textareaRef.value) textareaRef.value.innerHTML = excelData[0][0]\n          return\n        }\n\n        document.execCommand('insertText', false, text)\n      })\n    }\n  }\n}\n\n// 失焦时更新焦点标记，清除粘贴事件监听\nconst handleBlur = () => {\n  isFocus.value = false\n  if (textareaRef.value) textareaRef.value.onpaste = null\n}\n\n// 清除粘贴事件监听\nonBeforeUnmount(() => {\n  if (textareaRef.value) textareaRef.value.onpaste = null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"custom-textarea\",\n    ref_key: \"textareaRef\",\n    ref: textareaRef,\n    contenteditable: true,\n    onFocus: _cache[0] || (_cache[0] = ($event: any) => (handleFocus())),\n    onBlur: _cache[1] || (_cache[1] = ($event: any) => (handleBlur())),\n    onInput: _cache[2] || (_cache[2] = ($event: any) => (handleInput())),\n    innerHTML: text.value\n  }, null, 40, _hoisted_1))\n}\n}\n\n})","import script from \"./CustomTextarea.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CustomTextarea.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./CustomTextarea.vue?vue&type=style&index=0&id=cbe9681c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-cbe9681c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, unref as _unref, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, createBlock as _createBlock, vShow as _vShow, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7e8396ea\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"handler\"\n}\nconst _hoisted_2 = [\"onMousedown\"]\nconst _hoisted_3 = [\"width\"]\nconst _hoisted_4 = [\"rowspan\", \"colspan\", \"data-cell-index\", \"onMousedown\", \"onMouseenter\"]\nconst _hoisted_5 = [\"innerHTML\"]\n\nimport { computed, nextTick, onMounted, onUnmounted, PropType, ref, watch } from 'vue'\nimport { debounce, isEqual } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore } from '@/store'\nimport { PPTElementOutline, TableCell, TableTheme } from '@/types/slides'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { KEYS } from '@/configs/hotkey'\nimport { getTextStyle, formatText } from './utils'\nimport useHideCells from './useHideCells'\nimport useSubThemeColor from './useSubThemeColor'\n\nimport CustomTextarea from './CustomTextarea.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EditableTable',\n  props: {\n  data: {\n    type: Array as PropType<TableCell[][]>,\n    required: true,\n  },\n  width: {\n    type: Number,\n    required: true,\n  },\n  cellMinHeight: {\n    type: Number,\n    required: true,\n  },\n  colWidths: {\n    type: Array as PropType<number[]>,\n    required: true,\n  },\n  outline: {\n    type: Object as PropType<PPTElementOutline>,\n    required: true,\n  },\n  theme: {\n    type: Object as PropType<TableTheme>,\n  },\n  editable: {\n    type: Boolean,\n    default: true,\n  },\n},\n  emits: [\"change\", \"changeColWidths\", \"changeSelectedCells\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst isStartSelect = ref(false)\nconst startCell = ref<number[]>([])\nconst endCell = ref<number[]>([])\n\nconst tableCells = computed<TableCell[][]>({\n  get() {\n    return props.data\n  },\n  set(newData) {\n    emit('change', newData)\n  },\n})\n\n// 主题辅助色\nconst theme = computed(() => props.theme)\nconst { subThemeColor } = useSubThemeColor(theme)\n\n// 计算表格每一列的列宽和总宽度\nconst colSizeList = ref<number[]>([])\nconst totalWidth = computed(() => colSizeList.value.reduce((a, b) => a + b))\nwatch([\n  () => props.colWidths,\n  () => props.width,\n], () => {\n  colSizeList.value = props.colWidths.map(item => item * props.width)\n}, { immediate: true })\n\n// 清除全部单元格的选中状态\n// 表格处于不可编辑状态时也需要清除\nconst removeSelectedCells = () => {\n  startCell.value = []\n  endCell.value = []\n}\n\nwatch(() => props.editable, () => {\n  if (!props.editable) removeSelectedCells()\n})\n\n// 用于拖拽列宽的操作节点位置\nconst dragLinePosition = computed(() => {\n  const dragLinePosition: number[] = []\n  for (let i = 1; i < colSizeList.value.length + 1; i++) {\n    const pos = colSizeList.value.slice(0, i).reduce((a, b) => (a + b))\n    dragLinePosition.push(pos)\n  }\n  return dragLinePosition\n})\n\n// 无效的单元格位置（被合并的单元格位置）集合\nconst cells = computed(() => props.data)\nconst { hideCells } = useHideCells(cells)\n\n// 当前选中的单元格集合\nconst selectedCells = computed(() => {\n  if (!startCell.value.length) return []\n  const [startX, startY] = startCell.value\n\n  if (!endCell.value.length) return [`${startX}_${startY}`]\n  const [endX, endY] = endCell.value\n\n  if (startX === endX && startY === endY) return [`${startX}_${startY}`]\n\n  const selectedCells = []\n\n  const minX = Math.min(startX, endX)\n  const minY = Math.min(startY, endY)\n  const maxX = Math.max(startX, endX)\n  const maxY = Math.max(startY, endY)\n\n  for (let i = 0; i < tableCells.value.length; i++) {\n    const rowCells = tableCells.value[i]\n    for (let j = 0; j < rowCells.length; j++) {\n      if (i >= minX && i <= maxX && j >= minY && j <= maxY) selectedCells.push(`${i}_${j}`)\n    }\n  }\n  return selectedCells\n})\n\nwatch(selectedCells, (value, oldValue) => {\n  if (isEqual(value, oldValue)) return\n  emit('changeSelectedCells', selectedCells.value)\n})\n\n// 当前激活的单元格：当且仅当只有一个选中单元格时，该单元格为激活的单元格\nconst activedCell = computed(() => {\n  if (selectedCells.value.length > 1) return null\n  return selectedCells.value[0]\n})\n\n// 设置选中单元格状态（鼠标点击或拖选）\nconst handleMouseup = () => isStartSelect.value = false\n\nconst handleCellMousedown = (e: MouseEvent, rowIndex: number, colIndex: number) => {\n  if (e.button === 0) {\n    endCell.value = []\n    isStartSelect.value = true\n    startCell.value = [rowIndex, colIndex]\n  }\n}\n\nconst handleCellMouseenter = (rowIndex: number, colIndex: number) => {\n  if (!isStartSelect.value) return\n  endCell.value = [rowIndex, colIndex]\n}\n\nonMounted(() => {\n  document.addEventListener('mouseup', handleMouseup)\n})\nonUnmounted(() => {\n  document.removeEventListener('mouseup', handleMouseup)\n})\n\n// 判断某位置是否为无效单元格（被合并掉的位置）\nconst isHideCell = (rowIndex: number, colIndex: number) => hideCells.value.includes(`${rowIndex}_${colIndex}`)\n\n// 选中指定的列\nconst selectCol = (index: number) => {\n  const maxRow = tableCells.value.length - 1\n  startCell.value = [0, index]\n  endCell.value = [maxRow, index]\n}\n\n// 选中指定的行\nconst selectRow = (index: number) => {\n  const maxCol = tableCells.value[index].length - 1\n  startCell.value = [index, 0]\n  endCell.value = [index, maxCol]\n}\n\n// 选中全部单元格\nconst selectAll = () => {\n  const maxRow = tableCells.value.length - 1\n  const maxCol = tableCells.value[maxRow].length - 1\n  startCell.value = [0, 0]\n  endCell.value = [maxRow, maxCol]\n}\n\n// 删除一行\nconst deleteRow = (rowIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(JSON.stringify(tableCells.value))\n\n  const targetCells = tableCells.value[rowIndex]\n  const hideCellsPos = []\n  for (let i = 0; i < targetCells.length; i++) {\n    if (isHideCell(rowIndex, i)) hideCellsPos.push(i)\n  }\n\n  for (const pos of hideCellsPos) {\n    for (let i = rowIndex; i >= 0; i--) {\n      if (!isHideCell(i, pos)) {\n        _tableCells[i][pos].rowspan = _tableCells[i][pos].rowspan - 1\n        break\n      }\n    }\n  }\n\n  _tableCells.splice(rowIndex, 1)\n  tableCells.value = _tableCells\n}\n\n// 删除一列\nconst deleteCol = (colIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(JSON.stringify(tableCells.value))\n\n  const hideCellsPos = []\n  for (let i = 0; i < tableCells.value.length; i++) {\n    if (isHideCell(i, colIndex)) hideCellsPos.push(i)\n  }\n\n  for (const pos of hideCellsPos) {\n    for (let i = colIndex; i >= 0; i--) {\n      if (!isHideCell(pos, i)) {\n        _tableCells[pos][i].colspan = _tableCells[pos][i].colspan - 1\n        break\n      }\n    }\n  }\n\n  tableCells.value = _tableCells.map(item => {\n    item.splice(colIndex, 1)\n    return item\n  })\n  colSizeList.value.splice(colIndex, 1)\n  emit('changeColWidths', colSizeList.value)\n}\n\n// 插入一行\nconst insertRow = (rowIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(JSON.stringify(tableCells.value))\n\n  const rowCells: TableCell[] = []\n  for (let i = 0; i < _tableCells[0].length; i++) {\n    rowCells.push({\n      colspan: 1,\n      rowspan: 1,\n      text: '',\n      id: nanoid(10),\n    })\n  }\n\n  _tableCells.splice(rowIndex, 0, rowCells)\n  tableCells.value = _tableCells\n}\n\n// 插入一列\nconst insertCol = (colIndex: number) => {\n  tableCells.value = tableCells.value.map(item => {\n    const cell = {\n      colspan: 1,\n      rowspan: 1,\n      text: '',\n      id: nanoid(10),\n    }\n    item.splice(colIndex, 0, cell)\n    return item\n  })\n  colSizeList.value.splice(colIndex, 0, 100)\n  emit('changeColWidths', colSizeList.value)\n}\n\n// 填充指定的行/列数\nconst fillTable = (rowCount: number, colCount: number) => {\n  let _tableCells: TableCell[][] = JSON.parse(JSON.stringify(tableCells.value))\n  const defaultCell = { colspan: 1, rowspan: 1, text: '' }\n\n  if (rowCount) {\n    const newRows = []\n    for (let i = 0; i < rowCount; i++) {\n      const rowCells: TableCell[] = []\n      for (let j = 0; j < _tableCells[0].length; j++) {\n        rowCells.push({\n          ...defaultCell,\n          id: nanoid(10),\n        })\n      }\n      newRows.push(rowCells)\n    }\n    _tableCells = [..._tableCells, ...newRows]\n  }\n  if (colCount) {\n    _tableCells = _tableCells.map(item => {\n      const cells: TableCell[] = []\n      for (let i = 0; i < colCount; i++) {\n        const cell = {\n          ...defaultCell,\n          id: nanoid(10),\n        }\n        cells.push(cell)\n      }\n      return [...item, ...cells]\n    })\n    colSizeList.value = [...colSizeList.value, ...new Array(colCount).fill(100)]\n    emit('changeColWidths', colSizeList.value)\n  }\n\n  tableCells.value = _tableCells\n}\n\n// 合并单元格\nconst mergeCells = () => {\n  const [startX, startY] = startCell.value\n  const [endX, endY] = endCell.value\n\n  const minX = Math.min(startX, endX)\n  const minY = Math.min(startY, endY)\n  const maxX = Math.max(startX, endX)\n  const maxY = Math.max(startY, endY)\n\n  const _tableCells: TableCell[][] = JSON.parse(JSON.stringify(tableCells.value))\n\n  _tableCells[minX][minY].rowspan = maxX - minX + 1\n  _tableCells[minX][minY].colspan = maxY - minY + 1\n\n  tableCells.value = _tableCells\n  removeSelectedCells()\n}\n\n// 拆分单元格\nconst splitCells = (rowIndex: number, colIndex: number) => {\n  const _tableCells: TableCell[][] = JSON.parse(JSON.stringify(tableCells.value))\n  _tableCells[rowIndex][colIndex].rowspan = 1\n  _tableCells[rowIndex][colIndex].colspan = 1\n\n  tableCells.value = _tableCells\n  removeSelectedCells()\n}\n\n// 鼠标拖拽调整列宽\nconst handleMousedownColHandler = (e: MouseEvent, colIndex: number) => {\n  removeSelectedCells()\n  let isMouseDown = true\n\n  const originWidth = colSizeList.value[colIndex]\n  const startPageX = e.pageX\n\n  const minWidth = 50\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const moveX = (e.pageX - startPageX) / canvasScale.value\n    const width = originWidth + moveX < minWidth ? minWidth : Math.round(originWidth + moveX)\n\n    colSizeList.value[colIndex] = width\n  }\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    emit('changeColWidths', colSizeList.value)\n  }\n}\n\n// 清空选中单元格内的文字\nconst clearSelectedCellText = () => {\n  const _tableCells: TableCell[][] = JSON.parse(JSON.stringify(tableCells.value))\n\n  for (let i = 0; i < _tableCells.length; i++) {\n    for (let j = 0; j < _tableCells[i].length; j++) {\n      if (selectedCells.value.includes(`${i}_${j}`)) {\n        _tableCells[i][j].text = ''\n      }\n    }\n  }\n  tableCells.value = _tableCells\n}\n\n// 将焦点移动到下一个单元格\n// 当前行右边有单元格时，焦点右移\n// 当前行右边无单元格（已处在行末），且存在下一行时，焦点移动至下一行行首\n// 当前行右边无单元格（已处在行末），且不存在下一行（已处在最后一行）时，新建一行并将焦点移动至下一行行首\nconst tabActiveCell = () => {\n  const getNextCell = (i: number, j: number): [number, number] | null => {\n    if (!tableCells.value[i]) return null\n    if (!tableCells.value[i][j]) return getNextCell(i + 1, 0)\n    if (isHideCell(i, j)) return getNextCell(i, j + 1)\n    return [i, j]\n  }\n\n  endCell.value = []\n\n  const nextRow = startCell.value[0]\n  const nextCol = startCell.value[1] + 1\n\n  const nextCell = getNextCell(nextRow, nextCol)\n  if (!nextCell) {\n    insertRow(nextRow + 1)\n    startCell.value = [nextRow + 1, 0]\n  }\n  else startCell.value = nextCell\n\n  // 移动焦点后自动聚焦文本\n  nextTick(() => {\n    const textRef = document.querySelector('.cell-text.active') as HTMLInputElement\n    if (textRef) textRef.focus()\n  })\n}\n\n// 表格快捷键监听\nconst keydownListener = (e: KeyboardEvent) => {\n  if (!props.editable || !selectedCells.value.length) return\n\n  const key = e.key.toUpperCase()\n  if (selectedCells.value.length < 2) {\n    if (key === KEYS.TAB) {\n      e.preventDefault()\n      tabActiveCell()\n    }\n    if (e.ctrlKey && key === KEYS.UP) {\n      e.preventDefault()\n      const rowIndex = +selectedCells.value[0].split('_')[0]\n      insertRow(rowIndex)\n    }\n    if (e.ctrlKey && key === KEYS.DOWN) {\n      e.preventDefault()\n      const rowIndex = +selectedCells.value[0].split('_')[0]\n      insertRow(rowIndex + 1)\n    }\n    if (e.ctrlKey && key === KEYS.LEFT) {\n      e.preventDefault()\n      const colIndex = +selectedCells.value[0].split('_')[1]\n      insertCol(colIndex)\n    }\n    if (e.ctrlKey && key === KEYS.RIGHT) {\n      e.preventDefault()\n      const colIndex = +selectedCells.value[0].split('_')[1]\n      insertCol(colIndex + 1)\n    }\n  }\n  else if (key === KEYS.DELETE) {\n    clearSelectedCellText()\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('keydown', keydownListener)\n})\nonUnmounted(() => {\n  document.removeEventListener('keydown', keydownListener)\n})\n\n// 单元格文字输入时更新表格数据\nconst handleInput = debounce(function(value, rowIndex, colIndex) {\n  tableCells.value[rowIndex][colIndex].text = value\n  emit('change', tableCells.value)\n}, 300, { trailing: true })\n\n// 插入来自Excel的数据，表格的行/列数不够时自动补足\nconst insertExcelData = (data: string[][], rowIndex: number, colIndex: number) => {\n  const maxRow = data.length\n  const maxCol = data[0].length\n\n  let fillRowCount = 0\n  let fillColCount = 0\n  if (rowIndex + maxRow > tableCells.value.length) fillRowCount = rowIndex + maxRow - tableCells.value.length\n  if (colIndex + maxCol > tableCells.value[0].length) fillColCount = colIndex + maxCol - tableCells.value[0].length\n  if (fillRowCount || fillColCount) fillTable(fillRowCount, fillColCount)\n\n  nextTick(() => {\n    for (let i = 0; i < maxRow; i++) {\n      for (let j = 0; j < maxCol; j++) {\n        if (tableCells.value[rowIndex + i][colIndex + j]) {\n          tableCells.value[rowIndex + i][colIndex + j].text = data[i][j]\n        }\n      }\n    }\n    emit('change', tableCells.value)\n  })\n}\n\n// 获取有效的单元格（排除掉被合并的单元格）\nconst getEffectiveTableCells = () => {\n  const effectiveTableCells = []\n\n  for (let i = 0; i < tableCells.value.length; i++) {\n    const rowCells = tableCells.value[i]\n    const _rowCells = []\n    for (let j = 0; j < rowCells.length; j++) {\n      if (!isHideCell(i, j)) _rowCells.push(rowCells[j])\n    }\n    if (_rowCells.length) effectiveTableCells.push(_rowCells)\n  }\n\n  return effectiveTableCells\n}\n\n// 检查是否可以删除行和列：有效的行/列数大于1\nconst checkCanDeleteRowOrCol = () => {\n  const effectiveTableCells = getEffectiveTableCells()\n  const canDeleteRow = effectiveTableCells.length > 1\n  const canDeleteCol = effectiveTableCells[0].length > 1\n\n  return { canDeleteRow, canDeleteCol }\n}\n\n// 检查是否可以合并或拆分\n// 必须多选才可以合并\n// 必须单选且所选单元格为合并单元格才可以拆分\nconst checkCanMergeOrSplit = (rowIndex: number, colIndex: number) => {\n  const isMultiSelected = selectedCells.value.length > 1\n  const targetCell = tableCells.value[rowIndex][colIndex]\n\n  const canMerge = isMultiSelected\n  const canSplit = !isMultiSelected && (targetCell.rowspan > 1 || targetCell.colspan > 1)\n\n  return { canMerge, canSplit }\n}\n\nconst contextmenus = (el: HTMLElement): ContextmenuItem[] => {\n  const cellIndex = el.dataset.cellIndex as string\n  const rowIndex = +cellIndex.split('_')[0]\n  const colIndex = +cellIndex.split('_')[1]\n\n  if (!selectedCells.value.includes(`${rowIndex}_${colIndex}`)) {\n    startCell.value = [rowIndex, colIndex]\n    endCell.value = []\n  }\n\n  const { canMerge, canSplit } = checkCanMergeOrSplit(rowIndex, colIndex)\n  const { canDeleteRow, canDeleteCol } = checkCanDeleteRowOrCol()\n\n  return [\n    {\n      text: 'Insert column',\n      children: [\n        { text: 'to the left', handler: () => insertCol(colIndex) },\n        { text: 'to the right', handler: () => insertCol(colIndex + 1) },\n      ],\n    },\n    {\n      text: 'Insert row',\n      children: [\n        { text: 'to the top', handler: () => insertRow(rowIndex) },\n        { text: 'to the bottom', handler: () => insertRow(rowIndex + 1) },\n      ],\n    },\n    {\n      text: 'Delete column',\n      disable: !canDeleteCol,\n      handler: () => deleteCol(colIndex),\n    },\n    {\n      text: 'Delete line',\n      disable: !canDeleteRow,\n      handler: () => deleteRow(rowIndex),\n    },\n    { divider: true },\n    {\n      text: 'Merge cells',\n      disable: !canMerge,\n      handler: mergeCells,\n    },\n    {\n      text: 'Unmerge cells',\n      disable: !canSplit,\n      handler: () => splitCells(rowIndex, colIndex),\n    },\n    { divider: true },\n    {\n      text: 'Select the current column',\n      handler: () => selectCol(colIndex),\n    },\n    {\n      text: 'Select the current row',\n      handler: () => selectRow(rowIndex),\n    },\n    {\n      text: 'Select all cells',\n      handler: selectAll,\n    },\n  ]\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"editable-table\",\n    style: _normalizeStyle({ width: totalWidth.value + 'px' })\n  }, [\n    (__props.editable)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(dragLinePosition.value, (pos, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"drag-line\",\n              key: index,\n              style: _normalizeStyle({ left: pos + 'px' }),\n              onMousedown: $event => handleMousedownColHandler($event, index)\n            }, null, 44, _hoisted_2))\n          }), 128))\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"table\", {\n      class: _normalizeClass({\n      'theme': theme.value,\n      'row-header': theme.value?.rowHeader,\n      'row-footer': theme.value?.rowFooter,\n      'col-header': theme.value?.colHeader,\n      'col-footer': theme.value?.colFooter,\n    }),\n      style: _normalizeStyle(`--themeColor: ${theme.value?.color}; --subThemeColor1: ${_unref(subThemeColor)[0]}; --subThemeColor2: ${_unref(subThemeColor)[1]}`)\n    }, [\n      _createElementVNode(\"colgroup\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(colSizeList.value, (width, index) => {\n          return (_openBlock(), _createElementBlock(\"col\", {\n            span: \"1\",\n            key: index,\n            width: width\n          }, null, 8, _hoisted_3))\n        }), 128))\n      ]),\n      _createElementVNode(\"tbody\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(tableCells.value, (rowCells, rowIndex) => {\n          return (_openBlock(), _createElementBlock(\"tr\", {\n            key: rowIndex,\n            style: _normalizeStyle({ height: __props.cellMinHeight + 'px' })\n          }, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(rowCells, (cell, colIndex) => {\n              return _withDirectives((_openBlock(), _createElementBlock(\"td\", {\n                class: _normalizeClass([\"cell\", {\n            'selected': selectedCells.value.includes(`${rowIndex}_${colIndex}`) && selectedCells.value.length > 1,\n            'active': activedCell.value === `${rowIndex}_${colIndex}`,\n          }]),\n                style: _normalizeStyle({\n  borderStyle: __props.outline.style,\n  borderColor: __props.outline.color,\n  borderWidth: __props.outline.width + 'px',\n  ..._unref(getTextStyle)(cell.style),\n}),\n                key: cell.id,\n                rowspan: cell.rowspan,\n                colspan: cell.colspan,\n                \"data-cell-index\": `${rowIndex}_${colIndex}`,\n                onMousedown: $event => handleCellMousedown($event, rowIndex, colIndex),\n                onMouseenter: ($event: any) => (handleCellMouseenter(rowIndex, colIndex))\n              }, [\n                (activedCell.value === `${rowIndex}_${colIndex}`)\n                  ? (_openBlock(), _createBlock(CustomTextarea, {\n                      key: 0,\n                      class: _normalizeClass([\"cell-text\", { 'active': activedCell.value === `${rowIndex}_${colIndex}` }]),\n                      style: _normalizeStyle({ minHeight: (__props.cellMinHeight - 4) + 'px' }),\n                      value: cell.text,\n                      onUpdateValue: value => _unref(handleInput)(value, rowIndex, colIndex),\n                      onInsertExcelData: value => insertExcelData(value, rowIndex, colIndex)\n                    }, null, 8, [\"class\", \"style\", \"value\", \"onUpdateValue\", \"onInsertExcelData\"]))\n                  : (_openBlock(), _createElementBlock(\"div\", {\n                      key: 1,\n                      class: \"cell-text\",\n                      style: _normalizeStyle({ minHeight: (__props.cellMinHeight - 4) + 'px' }),\n                      innerHTML: _unref(formatText)(cell.text)\n                    }, null, 12, _hoisted_5))\n              ], 46, _hoisted_4)), [\n                [_vShow, !_unref(hideCells).includes(`${rowIndex}_${colIndex}`)],\n                [_directive_contextmenu, (el) => contextmenus(el)]\n              ])\n            }), 128))\n          ], 4))\n        }), 128))\n      ])\n    ], 6)\n  ], 4))\n}\n}\n\n})","import script from \"./EditableTable.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EditableTable.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./EditableTable.vue?vue&type=style&index=0&id=7e8396ea&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7e8396ea\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { withModifiers as _withModifiers, createVNode as _createVNode, unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-9c857712\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\n\nimport { nextTick, onMounted, onUnmounted, PropType, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTTableElement, TableCell } from '@/types/slides'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport EditableTable from './EditableTable.vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTTableElement>,\n    required: true,\n  },\n  selectElement: {\n    type: Function as PropType<(e: MouseEvent | TouchEvent, element: PPTTableElement, canMove?: boolean) => void>,\n    required: true,\n  },\n  contextmenus: {\n    type: Function as PropType<() => ContextmenuItem[] | null>,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { canvasScale, handleElementId, isScaling } = storeToRefs(mainStore)\n\nconst elementRef = ref<HTMLElement>()\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n\n// Update the editable state of the table, the global shortcut key needs to be disabled when the table is in the editing state\nconst editable = ref(false)\n\nwatch(handleElementId, () => {\n  if (handleElementId.value !== props.elementInfo.id) editable.value = false\n})\n\nwatch(editable, () => {\n  mainStore.setDisableHotkeysState(editable.value)\n})\n\nconst startEdit = () => {\n  if (!props.elementInfo.lock) editable.value = true\n}\n\n// Monitor the size change of the table element, when the height changes, update the height to vuex\n// If the zoom operation is in progress when the height changes, wait for the zoom operation to end before updating\nconst realHeightCache = ref(-1)\n\nwatch(isScaling, () => {\n  if (handleElementId.value !== props.elementInfo.id) return\n\n  if (isScaling.value) editable.value = false\n\n  if (!isScaling.value && realHeightCache.value !== -1) {\n    slidesStore.updateElement({\n      id: props.elementInfo.id,\n      props: { height: realHeightCache.value },\n    })\n    realHeightCache.value = -1\n  }\n})\n\nconst updateTableElementHeight = (entries: ResizeObserverEntry[]) => {\n  const contentRect = entries[0].contentRect\n  if (!elementRef.value) return\n\n  const realHeight = contentRect.height\n\n  if (props.elementInfo.height !== realHeight) {\n    if (!isScaling.value) {\n      slidesStore.updateElement({\n        id: props.elementInfo.id,\n        props: { height: realHeight },\n      })\n    }\n    else realHeightCache.value = realHeight\n  }\n}\n\nconst resizeObserver = new ResizeObserver(updateTableElementHeight)\n\nonMounted(() => {\n  if (elementRef.value) resizeObserver.observe(elementRef.value)\n})\nonUnmounted(() => {\n  if (elementRef.value) resizeObserver.unobserve(elementRef.value)\n})\n\n// Update table content data\nconst updateTableCells = (data: TableCell[][]) => {\n  slidesStore.updateElement({\n    id: props.elementInfo.id,\n    props: { data },\n  })\n  addHistorySnapshot()\n}\n\n// Update the column width data of the table\nconst updateColWidths = (widths: number[]) => {\n  const width = widths.reduce((a, b) => a + b)\n  const colWidths = widths.map(item => item / width)\n\n  slidesStore.updateElement({\n    id: props.elementInfo.id,\n    props: { width, colWidths },\n  })\n  addHistorySnapshot()\n}\n\n// Update the currently selected cell in the table\nconst updateSelectedCells = (cells: string[]) => {\n  nextTick(() => mainStore.setSelectedTableCells(cells))\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-table\", { 'lock': __props.elementInfo.lock }]),\n    ref_key: \"elementRef\",\n    ref: elementRef,\n    style: _normalizeStyle({\n    top: __props.elementInfo.top + 'px',\n    left: __props.elementInfo.left + 'px',\n    width: __props.elementInfo.width + 'px',\n  })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(EditableTable, {\n          onMousedown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"])),\n          data: __props.elementInfo.data,\n          width: __props.elementInfo.width,\n          cellMinHeight: __props.elementInfo.cellMinHeight,\n          colWidths: __props.elementInfo.colWidths,\n          outline: __props.elementInfo.outline,\n          theme: __props.elementInfo.theme,\n          editable: editable.value,\n          onChange: _cache[1] || (_cache[1] = data => updateTableCells(data)),\n          onChangeColWidths: _cache[2] || (_cache[2] = widths => updateColWidths(widths)),\n          onChangeSelectedCells: _cache[3] || (_cache[3] = cells => updateSelectedCells(cells))\n        }, null, 8, [\"data\", \"width\", \"cellMinHeight\", \"colWidths\", \"outline\", \"theme\", \"editable\"]),\n        (!editable.value || __props.elementInfo.lock)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: _normalizeClass([\"table-mask\", { 'lock': __props.elementInfo.lock }]),\n              onDblclick: _cache[4] || (_cache[4] = ($event: any) => (startEdit())),\n              onMousedown: _cache[5] || (_cache[5] = $event => handleSelectElement($event)),\n              onTouchstart: _cache[6] || (_cache[6] = $event => handleSelectElement($event))\n            }, [\n              _createElementVNode(\"div\", {\n                class: \"mask-tip\",\n                style: _normalizeStyle({ transform: `scale(${1 / _unref(canvasScale)})` })\n              }, \"双击编辑\", 4)\n            ], 34))\n          : _createCommentVNode(\"\", true)\n      ])), [\n        [_directive_contextmenu, __props.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=9c857712&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9c857712\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-31390388\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\", \"stroke\", \"stroke-width\"]\nconst _hoisted_2 = [\"transform\"]\nconst _hoisted_3 = [\"d\"]\n\nimport { PropType } from 'vue'\nimport { PPTLatexElement } from '@/types/slides'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTLatexElement>,\n    required: true,\n  },\n  selectElement: {\n    type: Function as PropType<(e: MouseEvent | TouchEvent, element: PPTLatexElement, canMove?: boolean) => void>,\n    required: true,\n  },\n  contextmenus: {\n    type: Function as PropType<() => ContextmenuItem[] | null>,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n\nconst openLatexEditor = () => {\n  emitter.emit(EmitterEvents.OPEN_LATEX_EDITOR)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-latex\", { 'lock': __props.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        onMousedown: _cache[0] || (_cache[0] = $event => handleSelectElement($event)),\n        onTouchstart: _cache[1] || (_cache[1] = $event => handleSelectElement($event)),\n        onDblclick: _cache[2] || (_cache[2] = ($event: any) => (openLatexEditor()))\n      }, [\n        (_openBlock(), _createElementBlock(\"svg\", {\n          overflow: \"visible\",\n          width: __props.elementInfo.width,\n          height: __props.elementInfo.height,\n          stroke: __props.elementInfo.color,\n          \"stroke-width\": __props.elementInfo.strokeWidth,\n          fill: \"none\",\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\"\n        }, [\n          _createElementVNode(\"g\", {\n            transform: `scale(${__props.elementInfo.width / __props.elementInfo.viewBox[0]}, ${__props.elementInfo.height / __props.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\n          }, [\n            _createElementVNode(\"path\", {\n              d: __props.elementInfo.path\n            }, null, 8, _hoisted_3)\n          ], 8, _hoisted_2)\n        ], 8, _hoisted_1))\n      ], 32)), [\n        [_directive_contextmenu, __props.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=31390388&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-31390388\"]])\n\nexport default __exports__","/* eslint-disable */\n\nimport { onMounted, Ref } from 'vue'\n\nexport default (\n  src: string,\n  videoRef: Ref<HTMLVideoElement | undefined>,\n) => {\n  onMounted(() => {\n    if (!videoRef.value) return\n\n    let type = 'normal'\n    if (/m3u8(#|\\?|$)/i.exec(src)) type = 'hls'\n    else if (/.flv(#|\\?|$)/i.exec(src)) type = 'flv'\n\n    if (videoRef.value && type === 'hls' && (videoRef.value.canPlayType('application/x-mpegURL') || videoRef.value.canPlayType('application/vnd.apple.mpegURL'))) {\n      type = 'normal'\n    }\n\n    if (type === 'hls') {\n      const Hls = (window as any).Hls\n      \n      if (Hls && Hls.isSupported()) {\n        const hls = new Hls()\n        hls.loadSource(src)\n        hls.attachMedia(videoRef.value)\n      }\n    }\n    else if (type === 'flv') {\n      const flvjs = (window as any).flvjs\n      if (flvjs && flvjs.isSupported()) {\n        const flvPlayer = flvjs.createPlayer({\n          type: 'flv',\n          url: src,\n        })\n        flvPlayer.attachMediaElement(videoRef.value)\n        flvPlayer.load()\n      }\n    }\n  })\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-adfce55e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"load-error\"\n}\nconst _hoisted_2 = [\"src\", \"poster\"]\nconst _hoisted_3 = { class: \"bezel\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"controller-mask\" }, null, -1))\nconst _hoisted_5 = { class: \"controller\" }\nconst _hoisted_6 = { class: \"icons icons-left\" }\nconst _hoisted_7 = { class: \"icon-content\" }\nconst _hoisted_8 = { class: \"volume\" }\nconst _hoisted_9 = { class: \"icon-content\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"thumb\" }, null, -1))\nconst _hoisted_11 = [\n  _hoisted_10\n]\nconst _hoisted_12 = { class: \"time\" }\nconst _hoisted_13 = { class: \"ptime\" }\nconst _hoisted_14 = { class: \"dtime\" }\nconst _hoisted_15 = { class: \"icons icons-right\" }\nconst _hoisted_16 = { class: \"speed\" }\nconst _hoisted_17 = { class: \"icon speed-icon\" }\nconst _hoisted_18 = [\"onClick\"]\nconst _hoisted_19 = { class: \"icon-content\" }\nconst _hoisted_20 = { class: \"bar\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"thumb\" }, null, -1))\nconst _hoisted_22 = [\n  _hoisted_21\n]\n\nimport { computed, ref } from 'vue'\nimport useMSE from './useMSE'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  width: {\n    type: Number,\n    required: true,\n  },\n  height: {\n    type: Number,\n    required: true,\n  },\n  src: {\n    type: String,\n    required: true,\n  },\n  poster: {\n    type: String,\n    default: '',\n  },\n  scale: {\n    type: Number,\n    default: 1,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst secondToTime = (second = 0) => {\n  if (second === 0 || isNaN(second)) return '00:00'\n\n  const add0 = (num: number) => (num < 10 ? '0' + num : '' + num)\n  const hour = Math.floor(second / 3600)\n  const min = Math.floor((second - hour * 3600) / 60)\n  const sec = Math.floor(second - hour * 3600 - min * 60)\n  return (hour > 0 ? [hour, min, sec] : [min, sec]).map(add0).join(':')\n}\n\nconst getBoundingClientRectViewLeft = (element: HTMLElement) => {\n  return element.getBoundingClientRect().left\n}\n\nconst videoRef = ref<HTMLVideoElement>()\nconst playBarWrap = ref<HTMLElement>()\nconst volumeBarRef = ref<HTMLElement>()\n\nconst volume = ref(0.5)\nconst paused = ref(true)\nconst currentTime = ref(0)\nconst duration = ref(0)\nconst loaded = ref(0)\nconst loop = ref(false)\nconst bezelTransition = ref(false)\nconst playbackRate = ref(1)\n\nconst playBarTimeVisible = ref(false)\nconst playBarTime = ref('00:00')\nconst playBarTimeLeft = ref('0')\n\nconst ptime = computed(() => secondToTime(currentTime.value))\nconst dtime = computed(() => secondToTime(duration.value))\nconst playedBarWidth = computed(() => currentTime.value / duration.value * 100 + '%')\nconst loadedBarWidth = computed(() => loaded.value / duration.value * 100 + '%')\nconst volumeBarWidth = computed(() => volume.value * 100 + '%')\n\nconst speedMenuVisible = ref(false)\nconst speedOptions = [\n  { label: '2x', value: 2 },\n  { label: '1.5x', value: 1.5 },\n  { label: '1.25x', value: 1.25 },\n  { label: '1x', value: 1 },\n  { label: '0.75x', value: 0.75 },\n  { label: '0.5x', value: 0.5 },\n]\n\nconst seek = (time: number) => {\n  if (!videoRef.value) return\n\n  time = Math.max(time, 0)\n  time = Math.min(time, duration.value)\n\n  videoRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst play = () => {\n  if (!videoRef.value) return\n\n  paused.value = false\n  videoRef.value.play()\n  bezelTransition.value = true\n}\n\nconst pause = () => {\n  if (!videoRef.value) return\n\n  paused.value = true\n  videoRef.value.pause()\n  bezelTransition.value = true\n}\n\nconst toggle = () => {\n  if (paused.value) play() \n  else pause()\n}\n\nconst setVolume = (percentage: number) => {\n  if (!videoRef.value) return\n\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n\n  videoRef.value.volume = percentage\n  volume.value = percentage\n  if (videoRef.value.muted && percentage !== 0) videoRef.value.muted = false\n}\n\nconst speed = (rate: number) => {\n  if (videoRef.value) videoRef.value.playbackRate = rate\n  playbackRate.value = rate\n}\n\nconst handleDurationchange = () => {\n  duration.value = videoRef.value?.duration || 0\n}\n\nconst handleTimeupdate = () => {\n  currentTime.value = videoRef.value?.currentTime || 0\n}\n\nconst handleEnded = () => {\n  if (!loop.value) pause()\n  else {\n    seek(0)\n    play()\n  }\n}\n\nconst handleProgress = () => {\n  loaded.value = videoRef.value?.buffered.length ? videoRef.value.buffered.end(videoRef.value.buffered.length - 1) : 0\n}\n\nconst loadError = ref(false)\nconst handleError = () => loadError.value = true\n\nconst thumbMove = (e: MouseEvent | TouchEvent) => {\n  if (!videoRef.value || !playBarWrap.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  videoRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst thumbUp = (e: MouseEvent | TouchEvent) => {\n  if (!videoRef.value || !playBarWrap.value) return\n\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  videoRef.value.currentTime = time\n  currentTime.value = time\n\n  document.removeEventListener('mousemove', thumbMove)\n  document.removeEventListener('touchmove', thumbMove)\n  document.removeEventListener('mouseup', thumbUp)\n  document.removeEventListener('touchend', thumbUp)\n}\n\nconst handleMousedownPlayBar = () => {\n  document.addEventListener('mousemove', thumbMove)\n  document.addEventListener('touchmove', thumbMove)\n  document.addEventListener('mouseup', thumbUp)\n  document.addEventListener('touchend', thumbUp)\n}\n\nconst volumeMove = (e: MouseEvent | TouchEvent) => {\n  if (!volumeBarRef.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  const percentage = (clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst volumeUp = () => {\n  document.removeEventListener('mousemove', volumeMove)\n  document.removeEventListener('touchmove', volumeMove)\n  document.removeEventListener('mouseup', volumeUp)\n  document.removeEventListener('touchend', volumeUp)\n}\n\nconst handleMousedownVolumeBar = () => {\n  document.addEventListener('mousemove', volumeMove)\n  document.addEventListener('touchmove', volumeMove)\n  document.addEventListener('mouseup', volumeUp)\n  document.addEventListener('touchend', volumeUp)\n}\n\nconst handleClickVolumeBar = (e: MouseEvent) => {\n  if (!volumeBarRef.value) return\n  const percentage = (e.clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst handleMousemovePlayBar = (e: MouseEvent) => {\n  if (duration.value && playBarWrap.value) {\n    const px = playBarWrap.value.getBoundingClientRect().left\n    const tx = e.clientX - px\n    if (tx < 0 || tx > playBarWrap.value.offsetWidth) return\n\n    const time = duration.value * (tx / playBarWrap.value.offsetWidth)\n    playBarTimeLeft.value = `${tx - (time >= 3600 ? 25 : 20)}px`\n    playBarTime.value = secondToTime(time)\n    playBarTimeVisible.value = true\n  }\n}\n\nconst toggleVolume = () => {\n  if (!videoRef.value) return\n\n  if (videoRef.value.muted) {\n    videoRef.value.muted = false\n    setVolume(0.5)\n  }\n  else {\n    videoRef.value.muted = true\n    setVolume(0)\n  }\n}\n\nconst toggleLoop = () => {\n  loop.value = !loop.value\n}\n\nconst autoHideControllerTimer = ref(-1)\nconst hideController = ref(false)\nconst autoHideController = () => {\n  hideController.value = false\n  clearTimeout(autoHideControllerTimer.value)\n  autoHideControllerTimer.value = setTimeout(() => {\n    if (videoRef.value?.played.length) hideController.value = true\n  }, 3000)\n}\n\nuseMSE(props.src, videoRef)\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPause = _resolveComponent(\"IconPause\")!\n  const _component_IconPlayOne = _resolveComponent(\"IconPlayOne\")!\n  const _component_IconVolumeMute = _resolveComponent(\"IconVolumeMute\")!\n  const _component_IconVolumeNotice = _resolveComponent(\"IconVolumeNotice\")!\n  const _component_IconVolumeSmall = _resolveComponent(\"IconVolumeSmall\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"video-player\", { 'hide-controller': hideController.value }]),\n    style: _normalizeStyle({\n      width: __props.width * __props.scale + 'px',\n      height: __props.height * __props.scale + 'px',\n      transform: `scale(${1 / __props.scale})`,\n    }),\n    onMousemove: _cache[22] || (_cache[22] = ($event: any) => (autoHideController())),\n    onClick: _cache[23] || (_cache[23] = ($event: any) => (autoHideController()))\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"video-wrap\",\n      onClick: _cache[8] || (_cache[8] = ($event: any) => (toggle()))\n    }, [\n      (loadError.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"视频加载失败\"))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"video\", {\n        class: \"video\",\n        ref_key: \"videoRef\",\n        ref: videoRef,\n        src: __props.src,\n        poster: __props.poster,\n        \"webkit-playsinline\": \"\",\n        playsinline: \"\",\n        onDurationchange: _cache[0] || (_cache[0] = ($event: any) => (handleDurationchange())),\n        onTimeupdate: _cache[1] || (_cache[1] = ($event: any) => (handleTimeupdate())),\n        onEnded: _cache[2] || (_cache[2] = ($event: any) => (handleEnded())),\n        onProgress: _cache[3] || (_cache[3] = ($event: any) => (handleProgress())),\n        onPlay: _cache[4] || (_cache[4] = ($event: any) => (autoHideController())),\n        onPause: _cache[5] || (_cache[5] = ($event: any) => (autoHideController())),\n        onError: _cache[6] || (_cache[6] = ($event: any) => (handleError()))\n      }, null, 40, _hoisted_2),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"span\", {\n          class: _normalizeClass([\"bezel-icon\", { 'bezel-transition': bezelTransition.value }]),\n          onAnimationend: _cache[7] || (_cache[7] = ($event: any) => (bezelTransition.value = false))\n        }, [\n          (paused.value)\n            ? (_openBlock(), _createBlock(_component_IconPause, { key: 0 }))\n            : (_openBlock(), _createBlock(_component_IconPlayOne, { key: 1 }))\n        ], 34)\n      ])\n    ]),\n    _hoisted_4,\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"div\", {\n          class: \"icon play-icon\",\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (toggle()))\n        }, [\n          _createElementVNode(\"span\", _hoisted_7, [\n            (paused.value)\n              ? (_openBlock(), _createBlock(_component_IconPlayOne, { key: 0 }))\n              : (_openBlock(), _createBlock(_component_IconPause, { key: 1 }))\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"div\", {\n            class: \"icon volume-icon\",\n            onClick: _cache[10] || (_cache[10] = ($event: any) => (toggleVolume()))\n          }, [\n            _createElementVNode(\"span\", _hoisted_9, [\n              (volume.value === 0)\n                ? (_openBlock(), _createBlock(_component_IconVolumeMute, { key: 0 }))\n                : (volume.value === 1)\n                  ? (_openBlock(), _createBlock(_component_IconVolumeNotice, { key: 1 }))\n                  : (_openBlock(), _createBlock(_component_IconVolumeSmall, { key: 2 }))\n            ])\n          ]),\n          _createElementVNode(\"div\", {\n            class: \"volume-bar-wrap\",\n            onMousedown: _cache[11] || (_cache[11] = ($event: any) => (handleMousedownVolumeBar())),\n            onTouchstart: _cache[12] || (_cache[12] = ($event: any) => (handleMousedownVolumeBar())),\n            onClick: _cache[13] || (_cache[13] = $event => handleClickVolumeBar($event))\n          }, [\n            _createElementVNode(\"div\", {\n              class: \"volume-bar\",\n              ref_key: \"volumeBarRef\",\n              ref: volumeBarRef\n            }, [\n              _createElementVNode(\"div\", {\n                class: \"volume-bar-inner\",\n                style: _normalizeStyle({ width: volumeBarWidth.value })\n              }, _hoisted_11, 4)\n            ], 512)\n          ], 32)\n        ]),\n        _createElementVNode(\"span\", _hoisted_12, [\n          _createElementVNode(\"span\", _hoisted_13, _toDisplayString(ptime.value), 1),\n          _createTextVNode(\" / \"),\n          _createElementVNode(\"span\", _hoisted_14, _toDisplayString(dtime.value), 1)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_15, [\n        _createElementVNode(\"div\", _hoisted_16, [\n          _createElementVNode(\"div\", _hoisted_17, [\n            _createElementVNode(\"span\", {\n              class: \"icon-content\",\n              onClick: _cache[14] || (_cache[14] = ($event: any) => (speedMenuVisible.value = !speedMenuVisible.value))\n            }, _toDisplayString(playbackRate.value === 1 ? '倍速' : (playbackRate.value + 'x')), 1),\n            (speedMenuVisible.value)\n              ? (_openBlock(), _createElementBlock(\"div\", {\n                  key: 0,\n                  class: \"speed-menu\",\n                  onMouseleave: _cache[15] || (_cache[15] = ($event: any) => (speedMenuVisible.value = false))\n                }, [\n                  (_openBlock(), _createElementBlock(_Fragment, null, _renderList(speedOptions, (item) => {\n                    return _createElementVNode(\"div\", {\n                      class: _normalizeClass([\"speed-menu-item\", { 'active': item.value === playbackRate.value }]),\n                      key: item.label,\n                      onClick: ($event: any) => (speed(item.value))\n                    }, _toDisplayString(item.label), 11, _hoisted_18)\n                  }), 64))\n                ], 32))\n              : _createCommentVNode(\"\", true)\n          ])\n        ]),\n        _createElementVNode(\"div\", {\n          class: \"loop\",\n          onClick: _cache[16] || (_cache[16] = ($event: any) => (toggleLoop()))\n        }, [\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"icon loop-icon\", { 'active': loop.value }])\n          }, [\n            _createElementVNode(\"span\", _hoisted_19, \"循环\" + _toDisplayString(loop.value ? '开' : '关'), 1)\n          ], 2)\n        ])\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"bar-wrap\",\n        ref_key: \"playBarWrap\",\n        ref: playBarWrap,\n        onMousedown: _cache[17] || (_cache[17] = ($event: any) => (handleMousedownPlayBar())),\n        onTouchstart: _cache[18] || (_cache[18] = ($event: any) => (handleMousedownPlayBar())),\n        onMousemove: _cache[19] || (_cache[19] = $event => handleMousemovePlayBar($event)),\n        onMouseenter: _cache[20] || (_cache[20] = ($event: any) => (playBarTimeVisible.value = true)),\n        onMouseleave: _cache[21] || (_cache[21] = ($event: any) => (playBarTimeVisible.value = false))\n      }, [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"bar-time\", { 'hidden': !playBarTimeVisible.value }]),\n          style: _normalizeStyle({ left: playBarTimeLeft.value })\n        }, _toDisplayString(playBarTime.value), 7),\n        _createElementVNode(\"div\", _hoisted_20, [\n          _createElementVNode(\"div\", {\n            class: \"loaded\",\n            style: _normalizeStyle({ width: loadedBarWidth.value })\n          }, null, 4),\n          _createElementVNode(\"div\", {\n            class: \"played\",\n            style: _normalizeStyle({ width: playedBarWidth.value })\n          }, _hoisted_22, 4)\n        ])\n      ], 544)\n    ])\n  ], 38))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=adfce55e&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-adfce55e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle } from \"vue\"\n\nimport { PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { PPTVideoElement } from '@/types/slides'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\n\nimport VideoPlayer from './VideoPlayer/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTVideoElement>,\n    required: true,\n  },\n  selectElement: {\n    type: Function as PropType<(e: MouseEvent | TouchEvent, element: PPTVideoElement, canMove?: boolean) => void>,\n    required: true,\n  },\n  contextmenus: {\n    type: Function as PropType<() => ContextmenuItem[] | null>,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent, canMove = true) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo, canMove)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-video\", { 'lock': __props.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        onMousedown: _cache[2] || (_cache[2] = $event => handleSelectElement($event, false)),\n        onTouchstart: _cache[3] || (_cache[3] = $event => handleSelectElement($event, false))\n      }, [\n        _createVNode(VideoPlayer, {\n          width: __props.elementInfo.width,\n          height: __props.elementInfo.height,\n          src: __props.elementInfo.src,\n          poster: __props.elementInfo.poster,\n          scale: _unref(canvasScale)\n        }, null, 8, [\"width\", \"height\", \"src\", \"poster\", \"scale\"]),\n        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(['t', 'b', 'l', 'r'], (item) => {\n          return _createElementVNode(\"div\", {\n            class: _normalizeClass(['handler-border', item]),\n            key: item,\n            onMousedown: _cache[0] || (_cache[0] = $event => handleSelectElement($event)),\n            onTouchstart: _cache[1] || (_cache[1] = $event => handleSelectElement($event))\n          }, null, 34)\n        }), 64))\n      ], 32)), [\n        [_directive_contextmenu, __props.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=9d5469c6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9d5469c6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-121f3d11\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\", \"autoplay\"]\nconst _hoisted_2 = { class: \"controller\" }\nconst _hoisted_3 = { class: \"icons\" }\nconst _hoisted_4 = { class: \"icon-content\" }\nconst _hoisted_5 = { class: \"volume\" }\nconst _hoisted_6 = { class: \"icon-content\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"thumb\" }, null, -1))\nconst _hoisted_8 = [\n  _hoisted_7\n]\nconst _hoisted_9 = { class: \"time\" }\nconst _hoisted_10 = { class: \"ptime\" }\nconst _hoisted_11 = { class: \"dtime\" }\nconst _hoisted_12 = { class: \"bar\" }\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"thumb\" }, null, -1))\nconst _hoisted_14 = [\n  _hoisted_13\n]\n\nimport { computed, ref } from 'vue'\nimport { message } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AudioPlayer',\n  props: {\n  src: {\n    type: String,\n    required: true,\n  },\n  loop: {\n    type: Boolean,\n    required: true,\n  },\n  autoplay: {\n    type: Boolean,\n    default: false,\n  },\n  scale: {\n    type: Number,\n    default: 1,\n  },\n},\n  setup(__props, { expose: __expose }) {\n\nconst props = __props;\n\n\n\nconst secondToTime = (second = 0) => {\n  if (second === 0 || isNaN(second)) return '00:00'\n\n  const add0 = (num: number) => (num < 10 ? '0' + num : '' + num)\n  const hour = Math.floor(second / 3600)\n  const min = Math.floor((second - hour * 3600) / 60)\n  const sec = Math.floor(second - hour * 3600 - min * 60)\n  return (hour > 0 ? [hour, min, sec] : [min, sec]).map(add0).join(':')\n}\n\nconst getBoundingClientRectViewLeft = (element: HTMLElement) => {\n  return element.getBoundingClientRect().left\n}\n\nconst audioRef = ref<HTMLAudioElement>()\nconst playBarWrap = ref<HTMLElement>()\nconst volumeBarRef = ref<HTMLElement>()\n\nconst volume = ref(0.5)\nconst paused = ref(true)\nconst currentTime = ref(0)\nconst duration = ref(0)\nconst loaded = ref(0)\n\nconst playBarTimeVisible = ref(false)\nconst playBarTime = ref('00:00')\nconst playBarTimeLeft = ref('0')\n\nconst ptime = computed(() => secondToTime(currentTime.value))\nconst dtime = computed(() => secondToTime(duration.value))\nconst playedBarWidth = computed(() => currentTime.value / duration.value * 100 + '%')\nconst loadedBarWidth = computed(() => loaded.value / duration.value * 100 + '%')\nconst volumeBarWidth = computed(() => volume.value * 100 + '%')\n\nconst seek = (time: number) => {\n  if (!audioRef.value) return\n\n  time = Math.max(time, 0)\n  time = Math.min(time, duration.value)\n\n  audioRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst play = () => {\n  if (!audioRef.value) return\n\n  paused.value = false\n  audioRef.value.play()\n}\n\nconst pause = () => {\n  if (!audioRef.value) return\n\n  paused.value = true\n  audioRef.value.pause()\n}\n\nconst toggle = () => {\n  if (paused.value) play() \n  else pause()\n}\n\nconst setVolume = (percentage: number) => {\n  if (!audioRef.value) return\n\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n\n  audioRef.value.volume = percentage\n  volume.value = percentage\n  if (audioRef.value.muted && percentage !== 0) audioRef.value.muted = false\n}\n\nconst handleDurationchange = () => {\n  duration.value = audioRef.value?.duration || 0\n}\n\nconst handleTimeupdate = () => {\n  currentTime.value = audioRef.value?.currentTime || 0\n}\n\nconst handlePlayed = () => {\n  paused.value = false\n}\n\nconst handleEnded = () => {\n  if (!props.loop) pause()\n  else {\n    seek(0)\n    play()\n  }\n}\n\nconst handleProgress = () => {\n  loaded.value = audioRef.value?.buffered.length ? audioRef.value.buffered.end(audioRef.value.buffered.length - 1) : 0\n}\n\nconst handleError = () => message.error('视频加载失败')\n\nconst thumbMove = (e: MouseEvent | TouchEvent) => {\n  if (!audioRef.value || !playBarWrap.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  audioRef.value.currentTime = time\n  currentTime.value = time\n}\n\nconst thumbUp = (e: MouseEvent | TouchEvent) => {\n  if (!audioRef.value || !playBarWrap.value) return\n\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  let percentage = (clientX - getBoundingClientRectViewLeft(playBarWrap.value)) / playBarWrap.value.clientWidth\n  percentage = Math.max(percentage, 0)\n  percentage = Math.min(percentage, 1)\n  const time = percentage * duration.value\n\n  audioRef.value.currentTime = time\n  currentTime.value = time\n\n  document.removeEventListener('mousemove', thumbMove)\n  document.removeEventListener('touchmove', thumbMove)\n  document.removeEventListener('mouseup', thumbUp)\n  document.removeEventListener('touchend', thumbUp)\n}\n\nconst handleMousedownPlayBar = () => {\n  document.addEventListener('mousemove', thumbMove)\n  document.addEventListener('touchmove', thumbMove)\n  document.addEventListener('mouseup', thumbUp)\n  document.addEventListener('touchend', thumbUp)\n}\n\nconst volumeMove = (e: MouseEvent | TouchEvent) => {\n  if (!volumeBarRef.value) return\n  const clientX = 'clientX' in e ? e.clientX : e.changedTouches[0].clientX\n  const percentage = (clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst volumeUp = () => {\n  document.removeEventListener('mousemove', volumeMove)\n  document.removeEventListener('touchmove', volumeMove)\n  document.removeEventListener('mouseup', volumeUp)\n  document.removeEventListener('touchend', volumeUp)\n}\n\nconst handleMousedownVolumeBar = () => {\n  document.addEventListener('mousemove', volumeMove)\n  document.addEventListener('touchmove', volumeMove)\n  document.addEventListener('mouseup', volumeUp)\n  document.addEventListener('touchend', volumeUp)\n}\n\nconst handleClickVolumeBar = (e: MouseEvent) => {\n  if (!volumeBarRef.value) return\n  const percentage = (e.clientX - getBoundingClientRectViewLeft(volumeBarRef.value)) / 45\n  setVolume(percentage)\n}\n\nconst handleMousemovePlayBar = (e: MouseEvent) => {\n  if (duration.value && playBarWrap.value) {\n    const px = playBarWrap.value.getBoundingClientRect().left\n    const tx = e.clientX - px\n    if (tx < 0 || tx > playBarWrap.value.offsetWidth) return\n\n    const time = duration.value * (tx / playBarWrap.value.offsetWidth)\n    playBarTimeLeft.value = `${tx - (time >= 3600 ? 25 : 20)}px`\n    playBarTime.value = secondToTime(time)\n    playBarTimeVisible.value = true\n  }\n}\n\nconst toggleVolume = () => {\n  if (!audioRef.value) return\n\n  if (audioRef.value.muted) {\n    audioRef.value.muted = false\n    setVolume(0.5)\n  }\n  else {\n    audioRef.value.muted = true\n    setVolume(0)\n  }\n}\n\n__expose({\n  toggle,\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlayOne = _resolveComponent(\"IconPlayOne\")!\n  const _component_IconPause = _resolveComponent(\"IconPause\")!\n  const _component_IconVolumeMute = _resolveComponent(\"IconVolumeMute\")!\n  const _component_IconVolumeNotice = _resolveComponent(\"IconVolumeNotice\")!\n  const _component_IconVolumeSmall = _resolveComponent(\"IconVolumeSmall\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"audio-player\",\n    style: _normalizeStyle({ transform: `scale(${1 / __props.scale})` })\n  }, [\n    _createElementVNode(\"audio\", {\n      class: \"audio\",\n      ref_key: \"audioRef\",\n      ref: audioRef,\n      src: __props.src,\n      autoplay: __props.autoplay,\n      onDurationchange: _cache[0] || (_cache[0] = ($event: any) => (handleDurationchange())),\n      onTimeupdate: _cache[1] || (_cache[1] = ($event: any) => (handleTimeupdate())),\n      onPlay: _cache[2] || (_cache[2] = ($event: any) => (handlePlayed())),\n      onEnded: _cache[3] || (_cache[3] = ($event: any) => (handleEnded())),\n      onProgress: _cache[4] || (_cache[4] = ($event: any) => (handleProgress())),\n      onError: _cache[5] || (_cache[5] = ($event: any) => (handleError()))\n    }, null, 40, _hoisted_1),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", {\n          class: \"icon play-icon\",\n          onClick: _cache[6] || (_cache[6] = ($event: any) => (toggle()))\n        }, [\n          _createElementVNode(\"span\", _hoisted_4, [\n            (paused.value)\n              ? (_openBlock(), _createBlock(_component_IconPlayOne, { key: 0 }))\n              : (_openBlock(), _createBlock(_component_IconPause, { key: 1 }))\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", {\n            class: \"icon volume-icon\",\n            onClick: _cache[7] || (_cache[7] = ($event: any) => (toggleVolume()))\n          }, [\n            _createElementVNode(\"span\", _hoisted_6, [\n              (volume.value === 0)\n                ? (_openBlock(), _createBlock(_component_IconVolumeMute, { key: 0 }))\n                : (volume.value === 1)\n                  ? (_openBlock(), _createBlock(_component_IconVolumeNotice, { key: 1 }))\n                  : (_openBlock(), _createBlock(_component_IconVolumeSmall, { key: 2 }))\n            ])\n          ]),\n          _createElementVNode(\"div\", {\n            class: \"volume-bar-wrap\",\n            onMousedown: _cache[8] || (_cache[8] = ($event: any) => (handleMousedownVolumeBar())),\n            onTouchstart: _cache[9] || (_cache[9] = ($event: any) => (handleMousedownVolumeBar())),\n            onClick: _cache[10] || (_cache[10] = $event => handleClickVolumeBar($event))\n          }, [\n            _createElementVNode(\"div\", {\n              class: \"volume-bar\",\n              ref_key: \"volumeBarRef\",\n              ref: volumeBarRef\n            }, [\n              _createElementVNode(\"div\", {\n                class: \"volume-bar-inner\",\n                style: _normalizeStyle({ width: volumeBarWidth.value })\n              }, _hoisted_8, 4)\n            ], 512)\n          ], 32)\n        ])\n      ]),\n      _createElementVNode(\"span\", _hoisted_9, [\n        _createElementVNode(\"span\", _hoisted_10, _toDisplayString(ptime.value), 1),\n        _createTextVNode(\" / \"),\n        _createElementVNode(\"span\", _hoisted_11, _toDisplayString(dtime.value), 1)\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"bar-wrap\",\n        ref_key: \"playBarWrap\",\n        ref: playBarWrap,\n        onMousedown: _cache[11] || (_cache[11] = ($event: any) => (handleMousedownPlayBar())),\n        onTouchstart: _cache[12] || (_cache[12] = ($event: any) => (handleMousedownPlayBar())),\n        onMousemove: _cache[13] || (_cache[13] = $event => handleMousemovePlayBar($event)),\n        onMouseenter: _cache[14] || (_cache[14] = ($event: any) => (playBarTimeVisible.value = true)),\n        onMouseleave: _cache[15] || (_cache[15] = ($event: any) => (playBarTimeVisible.value = false))\n      }, [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"bar-time\", { 'hidden': !playBarTimeVisible.value }]),\n          style: _normalizeStyle({ left: playBarTimeLeft.value })\n        }, _toDisplayString(playBarTime.value), 7),\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createElementVNode(\"div\", {\n            class: \"loaded\",\n            style: _normalizeStyle({ width: loadedBarWidth.value })\n          }, null, 4),\n          _createElementVNode(\"div\", {\n            class: \"played\",\n            style: _normalizeStyle({ width: playedBarWidth.value })\n          }, _hoisted_14, 4)\n        ])\n      ], 544)\n    ])\n  ], 4))\n}\n}\n\n})","import script from \"./AudioPlayer.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AudioPlayer.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AudioPlayer.vue?vue&type=style&index=0&id=121f3d11&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-121f3d11\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, normalizeStyle as _normalizeStyle, createVNode as _createVNode, unref as _unref, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveDirective as _resolveDirective, createElementBlock as _createElementBlock, withDirectives as _withDirectives, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nimport { computed, PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTAudioElement } from '@/types/slides'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nimport AudioPlayer from './AudioPlayer.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTAudioElement>,\n    required: true,\n  },\n  selectElement: {\n    type: Function as PropType<(e: MouseEvent | TouchEvent, element: PPTAudioElement, canMove?: boolean) => void>,\n    required: true,\n  },\n  contextmenus: {\n    type: Function as PropType<() => ContextmenuItem[] | null>,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { canvasScale, handleElementId } = storeToRefs(useMainStore())\nconst { viewportRatio } = storeToRefs(useSlidesStore())\n\nconst audioIconSize = computed(() => {\n  return Math.min(props.elementInfo.width, props.elementInfo.height) + 'px'\n})\nconst audioPlayerPosition = computed(() => {\n  const canvasWidth = VIEWPORT_SIZE\n  const canvasHeight = VIEWPORT_SIZE * viewportRatio.value\n\n  const audioWidth = 280 / canvasScale.value\n  const audioHeight = 50 / canvasScale.value\n\n  const elWidth = props.elementInfo.width\n  const elHeight = props.elementInfo.height\n  const elLeft = props.elementInfo.left\n  const elTop = props.elementInfo.top\n\n  let left = 0\n  let top = elHeight\n  \n  if (elLeft + audioWidth >= canvasWidth) left = elWidth - audioWidth\n  if (elTop + elHeight + audioHeight >= canvasHeight) top = -audioHeight\n\n  return {\n    left: left + 'px',\n    top: top + 'px',\n  }\n})\n\nconst handleSelectElement = (e: MouseEvent | TouchEvent) => {\n  if (props.elementInfo.lock) return\n  e.stopPropagation()\n\n  props.selectElement(e, props.elementInfo)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconVolumeNotice = _resolveComponent(\"IconVolumeNotice\")!\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"editable-element-audio\", { 'lock': __props.elementInfo.lock }]),\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"element-content\",\n        onMousedown: _cache[1] || (_cache[1] = $event => handleSelectElement($event)),\n        onTouchstart: _cache[2] || (_cache[2] = $event => handleSelectElement($event))\n      }, [\n        _createVNode(_component_IconVolumeNotice, {\n          class: \"audio-icon\",\n          style: _normalizeStyle({\n            fontSize: audioIconSize.value,\n            color: __props.elementInfo.color,\n          })\n        }, null, 8, [\"style\"]),\n        (_unref(handleElementId) === __props.elementInfo.id)\n          ? (_openBlock(), _createBlock(AudioPlayer, {\n              key: 0,\n              class: \"audio-player\",\n              style: _normalizeStyle({ ...audioPlayerPosition.value }),\n              src: __props.elementInfo.src,\n              loop: __props.elementInfo.loop,\n              scale: _unref(canvasScale),\n              onMousedown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n            }, null, 8, [\"style\", \"src\", \"loop\", \"scale\"]))\n          : _createCommentVNode(\"\", true)\n      ], 32)), [\n        [_directive_contextmenu, __props.contextmenus]\n      ])\n    ], 4)\n  ], 6))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=001bfbc4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-001bfbc4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"id\"]\n\nimport { computed, PropType } from 'vue'\nimport { ElementTypes, PPTElement } from '@/types/slides'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\n\nimport useLockElement from '@/hooks/useLockElement'\nimport useDeleteElement from '@/hooks/useDeleteElement'\nimport useCombineElement from '@/hooks/useCombineElement'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useCopyAndPasteElement from '@/hooks/useCopyAndPasteElement'\nimport useSelectAllElement from '@/hooks/useSelectAllElement'\n\nimport { ElementOrderCommands, ElementAlignCommands } from '@/types/edit'\n\nimport ImageElement from '@/views/components/element/ImageElement/index.vue'\nimport TextElement from '@/views/components/element/TextElement/index.vue'\nimport ShapeElement from '@/views/components/element/ShapeElement/index.vue'\nimport LineElement from '@/views/components/element/LineElement/index.vue'\nimport ChartElement from '@/views/components/element/ChartElement/index.vue'\nimport TableElement from '@/views/components/element/TableElement/index.vue'\nimport LatexElement from '@/views/components/element/LatexElement/index.vue'\nimport VideoElement from '@/views/components/element/VideoElement/index.vue'\nimport AudioElement from '@/views/components/element/AudioElement/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EditableElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTElement>,\n    required: true,\n  },\n  elementIndex: {\n    type: Number,\n    required: true,\n  },\n  isMultiSelect: {\n    type: Boolean,\n    required: true,\n  },\n  selectElement: {\n    type: Function as PropType<(e: MouseEvent | TouchEvent, element: PPTElement, canMove?: boolean) => void>,\n    required: true,\n  },\n  openLinkDialog: {\n    type: Function as PropType<() => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst currentElementComponent = computed(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: ImageElement,\n    [ElementTypes.TEXT]: TextElement,\n    [ElementTypes.SHAPE]: ShapeElement,\n    [ElementTypes.LINE]: LineElement,\n    [ElementTypes.CHART]: ChartElement,\n    [ElementTypes.TABLE]: TableElement,\n    [ElementTypes.LATEX]: LatexElement,\n    [ElementTypes.VIDEO]: VideoElement,\n    [ElementTypes.AUDIO]: AudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n\nconst { orderElement } = useOrderElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\nconst { combineElements, uncombineElements } = useCombineElement()\nconst { deleteElement } = useDeleteElement()\nconst { lockElement, unlockElement } = useLockElement()\nconst { copyElement, pasteElement, cutElement } = useCopyAndPasteElement()\nconst { selectAllElement } = useSelectAllElement()\n\nconst contextmenus = (): ContextmenuItem[] => {\n  if (props.elementInfo.lock) {\n    return [{\n      text: '解锁', \n      handler: () => unlockElement(props.elementInfo),\n    }]\n  }\n\n  return [\n    {\n      text: '剪切',\n      subText: 'Ctrl + X',\n      handler: cutElement,\n    },\n    {\n      text: '复制',\n      subText: 'Ctrl + C',\n      handler: copyElement,\n    },\n    {\n      text: '粘贴',\n      subText: 'Ctrl + V',\n      handler: pasteElement,\n    },\n    { divider: true },\n    {\n      text: '水平居中',\n      handler: () => alignElementToCanvas(ElementAlignCommands.HORIZONTAL),\n      children: [\n        { text: '水平垂直居中', handler: () => alignElementToCanvas(ElementAlignCommands.CENTER), },\n        { text: '水平居中', handler: () => alignElementToCanvas(ElementAlignCommands.HORIZONTAL) },\n        { text: '左对齐', handler: () => alignElementToCanvas(ElementAlignCommands.LEFT) },\n        { text: '右对齐', handler: () => alignElementToCanvas(ElementAlignCommands.RIGHT) },\n      ],\n    },\n    {\n      text: '垂直居中',\n      handler: () => alignElementToCanvas(ElementAlignCommands.VERTICAL),\n      children: [\n        { text: '水平垂直居中', handler: () => alignElementToCanvas(ElementAlignCommands.CENTER) },\n        { text: '垂直居中', handler: () => alignElementToCanvas(ElementAlignCommands.VERTICAL) },\n        { text: '顶部对齐', handler: () => alignElementToCanvas(ElementAlignCommands.TOP) },\n        { text: '底部对齐', handler: () => alignElementToCanvas(ElementAlignCommands.BOTTOM) },\n      ],\n    },\n    { divider: true },\n    {\n      text: '置于顶层',\n      disable: props.isMultiSelect && !props.elementInfo.groupId,\n      handler: () => orderElement(props.elementInfo, ElementOrderCommands.TOP),\n      children: [\n        { text: '置于顶层', handler: () => orderElement(props.elementInfo, ElementOrderCommands.TOP) },\n        { text: '上移一层', handler: () => orderElement(props.elementInfo, ElementOrderCommands.UP) },\n      ],\n    },\n    {\n      text: '置于底层',\n      disable: props.isMultiSelect && !props.elementInfo.groupId,\n      handler: () => orderElement(props.elementInfo, ElementOrderCommands.BOTTOM),\n      children: [\n        { text: '置于底层', handler: () => orderElement(props.elementInfo, ElementOrderCommands.BOTTOM) },\n        { text: '下移一层', handler: () => orderElement(props.elementInfo, ElementOrderCommands.DOWN) },\n      ],\n    },\n    { divider: true },\n    {\n      text: '设置链接',\n      handler: props.openLinkDialog,\n    },\n    {\n      text: props.elementInfo.groupId ? '取消组合' : '组合',\n      subText: 'Ctrl + G',\n      handler: props.elementInfo.groupId ? uncombineElements : combineElements,\n      hide: !props.isMultiSelect,\n    },\n    {\n      text: '全选',\n      subText: 'Ctrl + A',\n      handler: selectAllElement,\n    },\n    {\n      text: '锁定',\n      subText: 'Ctrl + L',\n      handler: lockElement,\n    },\n    {\n      text: '删除',\n      subText: 'Delete',\n      handler: deleteElement,\n    },\n  ]\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"editable-element\",\n    ref: \"elementRef\",\n    id: `editable-element-${__props.elementInfo.id}`,\n    style: _normalizeStyle({\n      zIndex: __props.elementIndex,\n    })\n  }, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentElementComponent.value), {\n      elementInfo: __props.elementInfo,\n      selectElement: __props.selectElement,\n      contextmenus: contextmenus\n    }, null, 8, [\"elementInfo\", \"selectElement\"]))\n  ], 12, _hoisted_1))\n}\n}\n\n})","import script from \"./EditableElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EditableElement.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MouseSelection',\n  props: {\n  top: {\n    type: Number,\n    required: true,\n  },\n  left: {\n    type: Number,\n    required: true,\n  },\n  width: {\n    type: Number,\n    required: true,\n  },\n  height: {\n    type: Number,\n    required: true,\n  },\n  quadrant: {\n    type: Number,\n    required: true,\n    validator(value: number) {\n      return [1, 2, 3, 4].includes(value)\n    },\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass(`mouse-selection quadrant-${__props.quadrant}`),\n    style: _normalizeStyle({\n      top: __props.top + 'px',\n      left: __props.left + 'px',\n      width: __props.width + 'px',\n      height: __props.height + 'px',\n    })\n  }, null, 6))\n}\n}\n\n})","import script from \"./MouseSelection.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MouseSelection.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MouseSelection.vue?vue&type=style&index=0&id=0d6c0f73&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0d6c0f73\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-aebac580\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"grid-lines\" }\nconst _hoisted_2 = [\"d\", \"stroke\"]\n\nimport { computed } from 'vue'\nimport tinycolor from 'tinycolor2'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport { SlideBackground } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GridLines',\n  setup(__props) {\n\nconst { canvasScale, gridLineSize } = storeToRefs(useMainStore())\nconst { currentSlide, viewportRatio } = storeToRefs(useSlidesStore())\n\nconst background = computed<SlideBackground | undefined>(() => currentSlide.value?.background)\n\n// 计算网格线的颜色，避免与背景的颜色太接近\nconst gridColor = computed(() => {\n  const bgColor = background.value?.color || '#fff'\n  const colorList = ['#000', '#fff']\n  return tinycolor.mostReadable(bgColor, colorList, { includeFallbackColors: true }).setAlpha(.5).toRgbString()\n})\n\n// 网格路径\nconst path = computed(() => {\n  const maxX = VIEWPORT_SIZE\n  const maxY = VIEWPORT_SIZE * viewportRatio.value\n\n  let p = ''\n  for (let i = 0; i <= Math.floor(maxY / gridLineSize.value); i++) {\n    p += `M0 ${i * gridLineSize.value} L${maxX} ${i * gridLineSize.value} `\n  }\n  for (let i = 0; i <= Math.floor(maxX / gridLineSize.value); i++) {\n    p += `M${i * gridLineSize.value} 0 L${i * gridLineSize.value} ${maxY} `\n  }\n  return p\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, [\n    _createElementVNode(\"path\", {\n      style: _normalizeStyle({\n        transform: `scale(${_unref(canvasScale)})`,\n      }),\n      d: path.value,\n      fill: \"none\",\n      stroke: gridColor.value,\n      \"stroke-width\": \"0.3\",\n      \"stroke-dasharray\": \"5\"\n    }, null, 12, _hoisted_2)\n  ]))\n}\n}\n\n})","import script from \"./GridLines.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GridLines.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./GridLines.vue?vue&type=style&index=0&id=aebac580&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-aebac580\"]])\n\nexport default __exports__","import { Ref, computed } from 'vue'\nimport { SlideBackground } from '@/types/slides'\n\n// 将页面背景数据转换为css样式\nexport default (background: Ref<SlideBackground | undefined>) => {\n  const backgroundStyle = computed(() => {\n    if (!background.value) return { backgroundColor: '#fff' }\n\n    const {\n      type,\n      color,\n      image,\n      imageSize,\n      gradientColor,\n      gradientRotate,\n      gradientType,\n    } = background.value\n\n    // 纯色背景\n    if (type === 'solid') return { backgroundColor: color }\n\n    // 背景图模式\n    // 包括：背景图、背景大小，是否重复\n    else if (type === 'image') {\n      if (!image) return { backgroundColor: '#fff' }\n      if (imageSize === 'repeat') {\n        return {\n          backgroundImage: `url(${image}`,\n          backgroundRepeat: 'repeat',\n          backgroundSize: 'contain',\n        }\n      }\n      return {\n        backgroundImage: `url(${image}`,\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: imageSize || 'cover',\n      }\n    }\n\n    // 渐变色背景\n    else if (type === 'gradient') {\n      const rotate = gradientRotate || 0\n      const color1 = gradientColor ? gradientColor[0] : '#fff'\n      const color2 = gradientColor ? gradientColor[1] : '#fff'\n      \n      if (gradientType === 'radial') return { backgroundImage: `radial-gradient(${color1}, ${color2}` }\n      return { backgroundImage: `linear-gradient(${rotate}deg, ${color1}, ${color2}` }\n    }\n\n    return { backgroundColor: '#fff' }\n  })\n\n  return {\n    backgroundStyle,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { SlideBackground } from '@/types/slides'\nimport GridLines from './GridLines.vue'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ViewportBackground',\n  setup(__props) {\n\nconst { gridLineSize } = storeToRefs(useMainStore())\nconst { currentSlide } = storeToRefs(useSlidesStore())\nconst background = computed<SlideBackground | undefined>(() => currentSlide.value?.background)\n\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"viewport-background\",\n    style: _normalizeStyle(_unref(backgroundStyle))\n  }, [\n    (_unref(gridLineSize))\n      ? (_openBlock(), _createBlock(GridLines, { key: 0 }))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}\n}\n\n})","import script from \"./ViewportBackground.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ViewportBackground.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ViewportBackground.vue?vue&type=style&index=0&id=61c4db4a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-61c4db4a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, PropType } from 'vue'\nimport { AlignmentLineAxis } from '@/types/edit'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AlignmentLine',\n  props: {\n  type: {\n    type: String as PropType<'vertical' | 'horizontal'>,\n    required: true,\n  },\n  axis: {\n    type: Object as PropType<AlignmentLineAxis>,\n    required: true,\n  },\n  length: {\n    type: Number,\n    required: true,\n  },\n  canvasScale: {\n    type: Number,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\n// 吸附对齐线的位置\nconst left = computed(() => props.axis.x * props.canvasScale + 'px')\nconst top = computed(() => props.axis.y * props.canvasScale + 'px')\n\n// 吸附对齐线的长度\nconst sizeStyle = computed(() => {\n  if (props.type === 'vertical') return { height: props.length * props.canvasScale + 'px' }\n  return { width: props.length * props.canvasScale + 'px' }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"alignment-line\",\n    style: _normalizeStyle({ left: left.value, top: top.value })\n  }, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass(['line', __props.type]),\n      style: _normalizeStyle(sizeStyle.value)\n    }, null, 6)\n  ], 4))\n}\n}\n\n})","import script from \"./AlignmentLine.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AlignmentLine.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AlignmentLine.vue?vue&type=style&index=0&id=37fa6068&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-37fa6068\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0f6bb088\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"ruler\" }\n\nimport { computed, PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\n\ninterface ViewportStyles {\n  top: number\n  left: number\n  width: number\n  height: number\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Ruler',\n  props: {\n  viewportStyles: {\n    type: Object as PropType<ViewportStyles>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst markerSize = computed(() => {\n  return props.viewportStyles.width * canvasScale.value / 10\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"h\",\n      style: _normalizeStyle({\n        width: __props.viewportStyles.width * _unref(canvasScale) + 'px',\n        left: __props.viewportStyles.left + 'px',\n      })\n    }, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(20, (marker) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass([\"ruler-marker-100\", { 'hide': markerSize.value < 36, 'omit': markerSize.value < 72 }]),\n          key: `marker-100-${marker}`\n        }, [\n          _createElementVNode(\"span\", null, _toDisplayString(marker), 1)\n        ], 2)\n      }), 64))\n    ], 4),\n    _createElementVNode(\"div\", {\n      class: \"v\",\n      style: _normalizeStyle({\n        height: __props.viewportStyles.height * _unref(canvasScale) + 'px',\n        top: __props.viewportStyles.top + 'px',\n      })\n    }, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(20, (marker) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass([\"ruler-marker-100\", { 'hide': markerSize.value < 36, 'omit': markerSize.value < 72 }]),\n          key: marker,\n          style: _normalizeStyle({ height: markerSize.value + 'px' })\n        }, [\n          _createElementVNode(\"span\", null, _toDisplayString(marker), 1)\n        ], 6)\n      }), 64))\n    ], 4)\n  ]))\n}\n}\n\n})","import script from \"./Ruler.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Ruler.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Ruler.vue?vue&type=style&index=0&id=0f6bb088&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0f6bb088\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5a941f07\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"d\"]\n\nimport { computed, onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useKeyboardStore } from '@/store'\nimport { CreateElementSelectionData } from '@/types/edit'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementCreateSelection',\n  emits: [\"created\"],\n  setup(__props, { emit }) {\n\n\n\nconst mainStore = useMainStore()\nconst { creatingElement } = storeToRefs(mainStore)\nconst { ctrlOrShiftKeyActive } = storeToRefs(useKeyboardStore())\n\nconst start = ref<[number, number]>()\nconst end = ref<[number, number]>()\n\nconst selectionRef = ref<HTMLElement>()\nconst offset = ref({\n  x: 0,\n  y: 0,\n})\nonMounted(() => {\n  if (!selectionRef.value) return\n  const { x, y } = selectionRef.value.getBoundingClientRect()\n  offset.value = { x, y }\n})\n\n// 鼠标拖动创建元素生成位置大小\n// 获取范围的起始位置和终点位置\nconst createSelection = (e: MouseEvent) => {\n  let isMouseDown = true\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n  start.value = [startPageX, startPageY]\n\n  document.onmousemove = e => {\n    if (!creatingElement.value || !isMouseDown) return\n\n    let currentPageX = e.pageX\n    let currentPageY = e.pageY\n\n    // 按住Ctrl键或者Shift键时：\n    // 对于非线条元素需要锁定宽高比例，对于线条元素需要锁定水平或垂直方向\n    if (ctrlOrShiftKeyActive.value) {\n      const moveX = currentPageX - startPageX\n      const moveY = currentPageY - startPageY\n\n      // 水平和垂直方向的拖动距离，后面以拖动距离较大的方向为基础计算另一方向的数据\n      const absX = Math.abs(moveX)\n      const absY = Math.abs(moveY)\n\n      if (creatingElement.value.type === 'shape') {\n\n        // 判断是否为反向拖动：从左上到右下为正向操作，此外所有情况都是反向操作\n        const isOpposite = (moveY > 0 && moveX < 0) || (moveY < 0 && moveX > 0)\n\n        if (absX > absY) {\n          currentPageY = isOpposite ? startPageY - moveX : startPageY + moveX\n        }\n        else {\n          currentPageX = isOpposite ? startPageX - moveY : startPageX + moveY\n        }\n      }\n\n      else if (creatingElement.value.type === 'line') {\n        if (absX > absY) currentPageY = startPageY\n        else currentPageX = startPageX\n      }\n    }\n\n    end.value = [currentPageX, currentPageY]\n  }\n\n  document.onmouseup = e => {\n    document.onmousemove = null\n    document.onmouseup = null\n\n    if (e.button === 2) {\n      setTimeout(() => mainStore.setCreatingElement(null), 0)\n      return\n    }\n\n    isMouseDown = false\n\n    const endPageX = e.pageX\n    const endPageY = e.pageY\n\n    const minSize = 30\n\n    if (\n      creatingElement.value?.type === 'line' &&\n      (Math.abs(endPageX - startPageX) >= minSize || Math.abs(endPageY - startPageY) >= minSize)\n    ) {\n      emit('created', {\n        start: start.value!,\n        end: end.value!,\n      })\n    }\n    else if (\n      creatingElement.value?.type !== 'line' &&\n      (Math.abs(endPageX - startPageX) >= minSize && Math.abs(endPageY - startPageY) >= minSize)\n    ) {\n      emit('created', {\n        start: start.value!,\n        end: end.value!,\n      })\n    }\n    else {\n      const defaultSize = 200\n      const minX = Math.min(endPageX, startPageX)\n      const minY = Math.min(endPageY, startPageY)\n      const maxX = Math.max(endPageX, startPageX)\n      const maxY = Math.max(endPageY, startPageY)\n      const offsetX = maxX - minX >= minSize ? maxX - minX : defaultSize\n      const offsetY = maxY - minY >= minSize ? maxY - minY : defaultSize\n      emit('created', {\n        start: [minX, minY],\n        end: [minX + offsetX, minY + offsetY],\n      })\n    }\n  }\n}\n\n// 绘制线条的路径相关数据（仅当绘制元素类型为线条时使用）\nconst lineData = computed(() => {\n  if (!start.value || !end.value) return null\n  if (!creatingElement.value || creatingElement.value.type !== 'line') return null\n\n  const [_startX, _startY] = start.value\n  const [_endX, _endY] = end.value\n  const minX = Math.min(_startX, _endX)\n  const maxX = Math.max(_startX, _endX)\n  const minY = Math.min(_startY, _endY)\n  const maxY = Math.max(_startY, _endY)\n\n  const svgWidth = maxX - minX >= 24 ? maxX - minX : 24\n  const svgHeight = maxY - minY >= 24 ? maxY - minY : 24\n\n  const startX = _startX === minX ? 0 : maxX - minX\n  const startY = _startY === minY ? 0 : maxY - minY\n  const endX = _endX === minX ? 0 : maxX - minX\n  const endY = _endY === minY ? 0 : maxY - minY\n\n  const path = `M${startX}, ${startY} L${endX}, ${endY}`\n\n  return {\n    svgWidth,\n    svgHeight,\n    startX,\n    startY,\n    endX,\n    endY,\n    path,\n  }\n})\n\n// 根据生成范围的起始位置和终点位置，计算元素创建时的位置和大小\nconst position = computed(() => {\n  if (!start.value || !end.value) return {}\n\n  const [startX, startY] = start.value\n  const [endX, endY] = end.value\n  const minX = Math.min(startX, endX)\n  const maxX = Math.max(startX, endX)\n  const minY = Math.min(startY, endY)\n  const maxY = Math.max(startY, endY)\n\n  const width = maxX - minX\n  const height = maxY - minY\n\n  return {\n    left: minX - offset.value.x + 'px',\n    top: minY - offset.value.y + 'px',\n    width: width + 'px',\n    height: height + 'px',\n  }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"element-create-selection\",\n    ref_key: \"selectionRef\",\n    ref: selectionRef,\n    onMousedown: _cache[0] || (_cache[0] = _withModifiers($event => createSelection($event), [\"stop\"])),\n    onContextmenu: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"stop\",\"prevent\"]))\n  }, [\n    (start.value && end.value)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: _normalizeClass(['selection', _unref(creatingElement)?.type]),\n          style: _normalizeStyle(position.value)\n        }, [\n          (_unref(creatingElement)?.type === 'line' && lineData.value)\n            ? (_openBlock(), _createElementBlock(\"svg\", {\n                key: 0,\n                overflow: \"visible\",\n                width: lineData.value.svgWidth,\n                height: lineData.value.svgHeight\n              }, [\n                _createElementVNode(\"path\", {\n                  d: lineData.value.path,\n                  stroke: \"#d14424\",\n                  fill: \"none\",\n                  \"stroke-width\": \"2\"\n                }, null, 8, _hoisted_2)\n              ], 8, _hoisted_1))\n            : _createCommentVNode(\"\", true)\n        ], 6))\n      : _createCommentVNode(\"\", true)\n  ], 544))\n}\n}\n\n})","import script from \"./ElementCreateSelection.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementCreateSelection.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementCreateSelection.vue?vue&type=style&index=0&id=5a941f07&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5a941f07\"]])\n\nexport default __exports__","import { computed, Ref } from 'vue'\nimport { OperateResizeHandlers, OperateBorderLines } from '@/types/edit'\n\nexport default (width: Ref<number>, height: Ref<number>) => {\n  // 元素缩放点\n  const resizeHandlers = computed(() => {\n    return [\n      { direction: OperateResizeHandlers.LEFT_TOP, style: {} },\n      { direction: OperateResizeHandlers.TOP, style: {left: width.value / 2 + 'px'} },\n      { direction: OperateResizeHandlers.RIGHT_TOP, style: {left: width.value + 'px'} },\n      { direction: OperateResizeHandlers.LEFT, style: {top: height.value / 2 + 'px'} },\n      { direction: OperateResizeHandlers.RIGHT, style: {left: width.value + 'px', top: height.value / 2 + 'px'} },\n      { direction: OperateResizeHandlers.LEFT_BOTTOM, style: {top: height.value + 'px'} },\n      { direction: OperateResizeHandlers.BOTTOM, style: {left: width.value / 2 + 'px', top: height.value + 'px'} },\n      { direction: OperateResizeHandlers.RIGHT_BOTTOM, style: {left: width.value + 'px', top: height.value + 'px'} },\n    ]\n  })\n\n  // 文本元素缩放点\n  const textElementResizeHandlers = computed(() => {\n    return [\n      { direction: OperateResizeHandlers.LEFT, style: {top: height.value / 2 + 'px'} },\n      { direction: OperateResizeHandlers.RIGHT, style: {left: width.value + 'px', top: height.value / 2 + 'px'} },\n    ]\n  })\n  const verticalTextElementResizeHandlers = computed(() => {\n    return [\n      { direction: OperateResizeHandlers.TOP, style: {left: width.value / 2 + 'px'} },\n      { direction: OperateResizeHandlers.BOTTOM, style: {left: width.value / 2 + 'px', top: height.value + 'px'} },\n    ]\n  })\n\n  // 元素选中边框线\n  const borderLines = computed(() => {\n    return [\n      { type: OperateBorderLines.T, style: {width: width.value + 'px'} },\n      { type: OperateBorderLines.B, style: {top: height.value + 'px', width: width.value + 'px'} },\n      { type: OperateBorderLines.L, style: {height: height.value + 'px'} },\n      { type: OperateBorderLines.R, style: {left: width.value + 'px', height: height.value + 'px'} },\n    ]\n  })\n\n  return {\n    resizeHandlers,\n    textElementResizeHandlers,\n    verticalTextElementResizeHandlers,\n    borderLines,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, PropType } from 'vue'\nimport { OperateResizeHandlers } from '@/types/edit'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ResizeHandler',\n  props: {\n  type: {\n    type: String as PropType<OperateResizeHandlers>,\n    default: '',\n  },\n  rotate: {\n    type: Number,\n    default: 0,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst rotateClassName = computed(() => {\n  const prefix = 'rotate-'\n  const rotate = props.rotate\n  if (rotate > -22.5 && rotate <= 22.5) return prefix + 0\n  else if (rotate > 22.5 && rotate <= 67.5) return prefix + 45\n  else if (rotate > 67.5 && rotate <= 112.5) return prefix + 90\n  else if (rotate > 112.5 && rotate <= 157.5) return prefix + 135\n  else if (rotate > 157.5 || rotate <= -157.5) return prefix + 0\n  else if (rotate > -157.5 && rotate <= -112.5) return prefix + 45\n  else if (rotate > -112.5 && rotate <= -67.5) return prefix + 90\n  else if (rotate > -67.5 && rotate <= -22.5) return prefix + 135\n  return prefix + 0\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass(['resize-handler', rotateClassName.value, __props.type])\n  }, null, 2))\n}\n}\n\n})","import script from \"./ResizeHandler.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ResizeHandler.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ResizeHandler.vue?vue&type=style&index=0&id=881ee3f8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-881ee3f8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { PropType } from 'vue'\nimport { OperateBorderLines } from '@/types/edit'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BorderLine',\n  props: {\n  type: {\n    type: String as PropType<OperateBorderLines>,\n    required: true,\n  },\n  isWide: {\n    type: Boolean,\n    default: false,\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass(['border-line', __props.type, { 'wide': __props.isWide }])\n  }, null, 2))\n}\n}\n\n})","import script from \"./BorderLine.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BorderLine.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BorderLine.vue?vue&type=style&index=0&id=7170d1be&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7170d1be\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport { computed, ref, PropType, watchEffect } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { PPTElement } from '@/types/slides'\nimport { getElementListRange } from '@/utils/element'\nimport { OperateResizeHandlers, MultiSelectRange } from '@/types/edit'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MultiSelectOperate',\n  props: {\n  elementList: {\n    type: Array as PropType<PPTElement[]>,\n    required: true,\n  },\n  scaleMultiElement: {\n    type: Function as PropType<(e: MouseEvent, range: MultiSelectRange, command: OperateResizeHandlers) => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { activeElementIdList, canvasScale } = storeToRefs(useMainStore())\n\nconst localActiveElementList = computed(() => props.elementList.filter(el => activeElementIdList.value.includes(el.id)))\n\nconst range = ref({\n  minX: 0,\n  maxX: 0,\n  minY: 0,\n  maxY: 0,\n})\n\n// 根据多选元素整体在画布中的范围，计算边框线和缩放点的位置信息\nconst width = computed(() => (range.value.maxX - range.value.minX) * canvasScale.value)\nconst height = computed(() => (range.value.maxY - range.value.minY) * canvasScale.value)\nconst { resizeHandlers, borderLines } = useCommonOperate(width, height)\n\n// 计算多选元素整体在画布中的范围\nconst setRange = () => {\n  const { minX, maxX, minY, maxY } = getElementListRange(localActiveElementList.value)\n  range.value = { minX, maxX, minY, maxY }\n}\nwatchEffect(setRange)\n\n// 禁用多选状态下缩放：仅未旋转的图片和形状可以在多选状态下缩放\nconst disableResize = computed(() => {\n  return localActiveElementList.value.some(item => {\n    if (\n      (item.type === 'image' || item.type === 'shape') && \n      !item.rotate\n    ) return false\n    return true\n  })\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"multi-select-operate\",\n    style: _normalizeStyle({\n      left: range.value.minX * _unref(canvasScale) + 'px',\n      top: range.value.minY * _unref(canvasScale) + 'px',\n    })\n  }, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (!disableResize.value)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_unref(resizeHandlers), (point) => {\n          return (_openBlock(), _createBlock(ResizeHandler, {\n            key: point.direction,\n            type: point.direction,\n            style: _normalizeStyle(point.style),\n            onMousedown: _withModifiers(($event: any) => (__props.scaleMultiElement($event, range.value, point.direction)), [\"stop\"])\n          }, null, 8, [\"type\", \"style\", \"onMousedown\"]))\n        }), 128))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}\n}\n\n})","import script from \"./MultiSelectOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MultiSelectOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MultiSelectOperate.vue?vue&type=style&index=0&id=defbd922&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-defbd922\"]])\n\nexport default __exports__","<template>\n  <div class=\"rotate-handler\"></div>\n</template>\n\n<script lang=\"ts\" setup>\n\n</script>\n\n<style lang=\"scss\" scoped>\n.rotate-handler {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  top: -25px;\n  margin-left: -5px;\n  border: 1px solid $themeColor;\n  background-color: #fff;\n  border-radius: 1px;\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n}\n</style>","import { render } from \"./RotateHandler.vue?vue&type=template&id=b99d8dae&scoped=true\"\nconst script = {}\n\nimport \"./RotateHandler.vue?vue&type=style&index=0&id=b99d8dae&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b99d8dae\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createVNode as _createVNode, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nimport { computed, PropType } from 'vue'\r\nimport { storeToRefs } from 'pinia'\r\nimport { useMainStore } from '@/store'\r\nimport { PPTImageElement } from '@/types/slides'\r\nimport { OperateResizeHandlers } from '@/types/edit'\r\nimport useCommonOperate from '../hooks/useCommonOperate'\r\n\r\nimport RotateHandler from './RotateHandler.vue'\r\nimport ResizeHandler from './ResizeHandler.vue'\r\nimport BorderLine from './BorderLine.vue'\r\n\r\n\r\nconst __default__ = {\r\n  inheritAttrs: false,\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'ImageElementOperate',\n  props: {\r\n  elementInfo: {\r\n    type: Object as PropType<PPTImageElement>,\r\n    required: true,\r\n  },\r\n  handlerVisible: {\r\n    type: Boolean,\r\n    required: true,\r\n  },\r\n  rotateElement: {\r\n    type: Function as PropType<(element: PPTImageElement) => void>,\r\n    required: true,\r\n  },\r\n  scaleElement: {\r\n    type: Function as PropType<(e: MouseEvent, element: PPTImageElement, command: OperateResizeHandlers) => void>,\r\n    required: true,\r\n  },\r\n},\n  setup(__props) {\n\nconst props = __props;\n\r\n\r\n\r\nconst { canvasScale, clipingImageElementId } = storeToRefs(useMainStore())\r\n\r\nconst isCliping = computed(() => clipingImageElementId.value === props.elementInfo.id)\r\n\r\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\r\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\r\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"image-element-operate\", { 'cliping': isCliping.value }])\n  }, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        class: \"operate-border-line\",\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (__props.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(resizeHandlers), (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: __props.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => __props.scaleElement($event, __props.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onMousedown\"]))\n          }), 128)),\n          _createVNode(RotateHandler, {\n            class: \"operate-rotate-handler\",\n            style: _normalizeStyle({ left: scaleWidth.value / 2 + 'px' }),\n            onMousedown: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (__props.rotateElement(__props.elementInfo)), [\"stop\"]))\n          }, null, 8, [\"style\"])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ], 2))\n}\n}\n\n})","import script from \"./ImageElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImageElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImageElementOperate.vue?vue&type=style&index=0&id=46b250c2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-46b250c2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createVNode as _createVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"text-element-operate\" }\n\nimport { computed, PropType } from 'vue'\r\nimport { storeToRefs } from 'pinia'\r\nimport { useMainStore } from '@/store'\r\nimport { PPTTextElement } from '@/types/slides'\r\nimport { OperateResizeHandlers } from '@/types/edit'\r\nimport useCommonOperate from '../hooks/useCommonOperate'\r\n\r\nimport RotateHandler from './RotateHandler.vue'\r\nimport ResizeHandler from './ResizeHandler.vue'\r\nimport BorderLine from './BorderLine.vue'\r\n\r\n\r\nconst __default__ = {\r\n  inheritAttrs: false,\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'TextElementOperate',\n  props: {\r\n  elementInfo: {\r\n    type: Object as PropType<PPTTextElement>,\r\n    required: true,\r\n  },\r\n  handlerVisible: {\r\n    type: Boolean,\r\n    required: true,\r\n  },\r\n  rotateElement: {\r\n    type: Function as PropType<(element: PPTTextElement) => void>,\r\n    required: true,\r\n  },\r\n  scaleElement: {\r\n    type: Function as PropType<(e: MouseEvent, element: PPTTextElement, command: OperateResizeHandlers) => void>,\r\n    required: true,\r\n  },\r\n},\n  setup(__props) {\n\nconst props = __props;\n\r\n\r\n\r\nconst { canvasScale } = storeToRefs(useMainStore())\r\n\r\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\r\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\r\n\r\nconst { textElementResizeHandlers, verticalTextElementResizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\r\nconst resizeHandlers = computed(() => props.elementInfo.vertical ? verticalTextElementResizeHandlers.value : textElementResizeHandlers.value)\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        class: \"operate-border-line\",\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (__props.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(resizeHandlers.value, (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: __props.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => __props.scaleElement($event, __props.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onMousedown\"]))\n          }), 128)),\n          _createVNode(RotateHandler, {\n            class: \"operate-rotate-handler\",\n            style: _normalizeStyle({ left: scaleWidth.value / 2 + 'px' }),\n            onMousedown: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (__props.rotateElement(__props.elementInfo)), [\"stop\"]))\n          }, null, 8, [\"style\"])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./TextElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TextElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createVNode as _createVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-fd38df18\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"shape-element-operate\" }\n\nimport { computed, PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { PPTShapeElement } from '@/types/slides'\nimport { OperateResizeHandlers } from '@/types/edit'\nimport { SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport RotateHandler from './RotateHandler.vue'\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\n\nconst __default__ = {\n  inheritAttrs: false,\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'ShapeElementOperate',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTShapeElement>,\n    required: true,\n  },\n  handlerVisible: {\n    type: Boolean,\n    required: true,\n  },\n  rotateElement: {\n    type: Function as PropType<(element: PPTShapeElement) => void>,\n    required: true,\n  },\n  scaleElement: {\n    type: Function as PropType<(e: MouseEvent, element: PPTShapeElement, command: OperateResizeHandlers) => void>,\n    required: true,\n  },\n  moveShapeKeypoint: {\n    type: Function as PropType<(e: MouseEvent, element: PPTShapeElement) => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\n\nconst keypointStyle = computed(() => {\n  if (!props.elementInfo.pathFormula || !props.elementInfo.keypoint) return {}\n\n  const pathFormula = SHAPE_PATH_FORMULAS[props.elementInfo.pathFormula]\n  if ('editable' in pathFormula) {\n    const keypointPos = pathFormula.getBaseSize(props.elementInfo.width, props.elementInfo.height) * props.elementInfo.keypoint\n    if (pathFormula.relative === 'left') return { left: keypointPos * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'right') return { left: (props.elementInfo.width - keypointPos) * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'center') return { left: (props.elementInfo.width - keypointPos) / 2 * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'top') return { top: keypointPos * canvasScale.value + 'px' }\n    if (pathFormula.relative === 'bottom') return { top: (props.elementInfo.height - keypointPos) * canvasScale.value + 'px' }\n  }\n  return {}\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        class: \"operate-border-line\",\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (__props.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(resizeHandlers), (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: __props.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => __props.scaleElement($event, __props.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onMousedown\"]))\n          }), 128)),\n          _createVNode(RotateHandler, {\n            class: \"operate-rotate-handler\",\n            style: _normalizeStyle({ left: scaleWidth.value / 2 + 'px' }),\n            onMousedown: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (__props.rotateElement(__props.elementInfo)), [\"stop\"]))\n          }, null, 8, [\"style\"]),\n          (__props.elementInfo.keypoint !== undefined)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"operate-keypoint-handler\",\n                style: _normalizeStyle(keypointStyle.value),\n                onMousedown: _cache[1] || (_cache[1] = _withModifiers($event => __props.moveShapeKeypoint($event, __props.elementInfo), [\"stop\"]))\n              }, null, 36))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./ShapeElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ShapeElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ShapeElementOperate.vue?vue&type=style&index=0&id=fd38df18&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fd38df18\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, createBlock as _createBlock, unref as _unref, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4659f395\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"line-element-operate\" }\nconst _hoisted_2 = [\"width\", \"height\", \"stroke\"]\nconst _hoisted_3 = { key: 0 }\nconst _hoisted_4 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_5 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_6 = [\"x1\", \"y1\", \"x2\", \"y2\"]\nconst _hoisted_7 = [\"x1\", \"y1\", \"x2\", \"y2\"]\n\nimport { computed, PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { PPTLineElement } from '@/types/slides'\nimport { OperateLineHandlers } from '@/types/edit'\n\nimport ResizeHandler from './ResizeHandler.vue'\n\n\nconst __default__ = {\n  inheritAttrs: false,\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'LineElementOperate',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTLineElement>,\n    required: true,\n  },\n  handlerVisible: {\n    type: Boolean,\n    required: true,\n  },\n  dragLineElement: {\n    type: Function as PropType<(e: MouseEvent, element: PPTLineElement, command: OperateLineHandlers) => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst svgWidth = computed(() => Math.max(props.elementInfo.start[0], props.elementInfo.end[0]))\nconst svgHeight = computed(() => Math.max(props.elementInfo.start[1], props.elementInfo.end[1]))\n\nconst resizeHandlers = computed(() => {\n  const handlers = [\n    {\n      handler: OperateLineHandlers.START,\n      style: {\n        left: props.elementInfo.start[0] * canvasScale.value + 'px',\n        top: props.elementInfo.start[1] * canvasScale.value + 'px',\n      }\n    },\n    {\n      handler: OperateLineHandlers.END,\n      style: {\n        left: props.elementInfo.end[0] * canvasScale.value + 'px',\n        top: props.elementInfo.end[1] * canvasScale.value + 'px',\n      }\n    },\n  ]\n\n  if (props.elementInfo.curve || props.elementInfo.broken) {\n    const ctrlHandler = (props.elementInfo.curve || props.elementInfo.broken) as [number, number]\n\n    handlers.push({\n      handler: OperateLineHandlers.C,\n      style: {\n        left: ctrlHandler[0] * canvasScale.value + 'px',\n        top: ctrlHandler[1] * canvasScale.value + 'px',\n      }\n    })\n  }\n  else if (props.elementInfo.cubic) {\n    const [ctrlHandler1, ctrlHandler2] = props.elementInfo.cubic\n    handlers.push({\n      handler: OperateLineHandlers.C1,\n      style: {\n        left: ctrlHandler1[0] * canvasScale.value + 'px',\n        top: ctrlHandler1[1] * canvasScale.value + 'px',\n      }\n    })\n    handlers.push({\n      handler: OperateLineHandlers.C2,\n      style: {\n        left: ctrlHandler2[0] * canvasScale.value + 'px',\n        top: ctrlHandler2[1] * canvasScale.value + 'px',\n      }\n    })\n  }\n\n  return handlers\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (__props.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(resizeHandlers.value, (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.handler,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => __props.dragLineElement($event, __props.elementInfo, point.handler), [\"stop\"])\n            }, null, 8, [\"style\", \"onMousedown\"]))\n          }), 128)),\n          (_openBlock(), _createElementBlock(\"svg\", {\n            width: svgWidth.value || 1,\n            height: svgHeight.value || 1,\n            stroke: __props.elementInfo.color,\n            overflow: \"visible\",\n            style: _normalizeStyle({ transform: `scale(${_unref(canvasScale)})` })\n          }, [\n            (__props.elementInfo.curve)\n              ? (_openBlock(), _createElementBlock(\"g\", _hoisted_3, [\n                  _createElementVNode(\"line\", {\n                    class: \"anchor-line\",\n                    x1: __props.elementInfo.start[0],\n                    y1: __props.elementInfo.start[1],\n                    x2: __props.elementInfo.curve[0],\n                    y2: __props.elementInfo.curve[1]\n                  }, null, 8, _hoisted_4),\n                  _createElementVNode(\"line\", {\n                    class: \"anchor-line\",\n                    x1: __props.elementInfo.end[0],\n                    y1: __props.elementInfo.end[1],\n                    x2: __props.elementInfo.curve[0],\n                    y2: __props.elementInfo.curve[1]\n                  }, null, 8, _hoisted_5)\n                ]))\n              : _createCommentVNode(\"\", true),\n            (__props.elementInfo.cubic)\n              ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(__props.elementInfo.cubic, (item, index) => {\n                  return (_openBlock(), _createElementBlock(\"g\", { key: index }, [\n                    (index === 0)\n                      ? (_openBlock(), _createElementBlock(\"line\", {\n                          key: 0,\n                          class: \"anchor-line\",\n                          x1: __props.elementInfo.start[0],\n                          y1: __props.elementInfo.start[1],\n                          x2: item[0],\n                          y2: item[1]\n                        }, null, 8, _hoisted_6))\n                      : _createCommentVNode(\"\", true),\n                    (index === 1)\n                      ? (_openBlock(), _createElementBlock(\"line\", {\n                          key: 1,\n                          class: \"anchor-line\",\n                          x1: __props.elementInfo.end[0],\n                          y1: __props.elementInfo.end[1],\n                          x2: item[0],\n                          y2: item[1]\n                        }, null, 8, _hoisted_7))\n                      : _createCommentVNode(\"\", true)\n                  ]))\n                }), 128))\n              : _createCommentVNode(\"\", true)\n          ], 12, _hoisted_2))\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./LineElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LineElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LineElementOperate.vue?vue&type=style&index=0&id=4659f395&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4659f395\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createVNode as _createVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"table-element-operate\" }\n\nimport { computed, PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { PPTTableElement } from '@/types/slides'\nimport { OperateResizeHandlers } from '@/types/edit'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport RotateHandler from './RotateHandler.vue'\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\n\nconst __default__ = {\n  inheritAttrs: false,\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'TableElementOperate',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTTableElement>,\n    required: true,\n  },\n  handlerVisible: {\n    type: Boolean,\n    required: true,\n  },\n  rotateElement: {\n    type: Function as PropType<(element: PPTTableElement) => void>,\n    required: true,\n  },\n  scaleElement: {\n    type: Function as PropType<(e: MouseEvent, element: PPTTableElement, command: OperateResizeHandlers) => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst outlineWidth = computed(() => props.elementInfo.outline.width || 1)\n\nconst scaleWidth = computed(() => (props.elementInfo.width + outlineWidth.value) * canvasScale.value)\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\n\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        class: \"operate-border-line\",\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (__props.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(resizeHandlers), (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: __props.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => __props.scaleElement($event, __props.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onMousedown\"]))\n          }), 128)),\n          _createVNode(RotateHandler, {\n            class: \"operate-rotate-handler\",\n            style: _normalizeStyle({ left: scaleWidth.value / 2 + 'px' }),\n            onMousedown: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (__props.rotateElement(__props.elementInfo)), [\"stop\"]))\n          }, null, 8, [\"style\"])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./TableElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TableElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"common-element-operate\" }\n\nimport { computed, PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { PPTShapeElement, PPTVideoElement, PPTLatexElement, PPTAudioElement } from '@/types/slides'\nimport { OperateResizeHandlers } from '@/types/edit'\nimport useCommonOperate from '../hooks/useCommonOperate'\n\nimport RotateHandler from './RotateHandler.vue'\nimport ResizeHandler from './ResizeHandler.vue'\nimport BorderLine from './BorderLine.vue'\n\ntype PPTElement = PPTShapeElement | PPTVideoElement | PPTLatexElement | PPTAudioElement\n\n\nconst __default__ = {\n  inheritAttrs: false,\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  __name: 'CommonElementOperate',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTElement>,\n    required: true,\n  },\n  handlerVisible: {\n    type: Boolean,\n    required: true,\n  },\n  rotateElement: {\n    type: Function as PropType<(element: PPTElement) => void>,\n    required: true,\n  },\n  scaleElement: {\n    type: Function as PropType<(e: MouseEvent, element: PPTElement, command: OperateResizeHandlers) => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { canvasScale } = storeToRefs(useMainStore())\n\nconst scaleWidth = computed(() => props.elementInfo.width * canvasScale.value)\nconst scaleHeight = computed(() => props.elementInfo.height * canvasScale.value)\nconst { resizeHandlers, borderLines } = useCommonOperate(scaleWidth, scaleHeight)\n\nconst cannotRotate = computed(() => ['chart', 'video', 'audio'].includes(props.elementInfo.type))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n      return (_openBlock(), _createBlock(BorderLine, {\n        class: \"operate-border-line\",\n        key: line.type,\n        type: line.type,\n        style: _normalizeStyle(line.style)\n      }, null, 8, [\"type\", \"style\"]))\n    }), 128)),\n    (__props.handlerVisible)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(resizeHandlers), (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: __props.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onMousedown: _withModifiers($event => __props.scaleElement($event, __props.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onMousedown\"]))\n          }), 128)),\n          (!cannotRotate.value)\n            ? (_openBlock(), _createBlock(RotateHandler, {\n                key: 0,\n                class: \"operate-rotate-handler\",\n                style: _normalizeStyle({ left: scaleWidth.value / 2 + 'px' }),\n                onMousedown: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (__props.rotateElement(__props.elementInfo)), [\"stop\"]))\n              }, null, 8, [\"style\"]))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./CommonElementOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CommonElementOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useSlidesStore } from '@/store'\nimport { PPTElement, PPTElementLink } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport { message } from 'ant-design-vue'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  const setLink = (handleElement: PPTElement, link: PPTElementLink) => {\n    const linkRegExp = /^(https?):\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-.,@?^=%&:\\/~+#]*[\\w\\-@?^=%&\\/~+#])?$/\n    if (link.type === 'web' && !linkRegExp.test(link.target)) {\n      message.error('不是正确的网页链接地址')\n      return false\n    }\n    if (link.type === 'slide' && !link.target) {\n      message.error('请先选择链接目标')\n      return false\n    }\n    const props = { link }\n    slidesStore.updateElement({ id: handleElement.id, props })\n    addHistorySnapshot()\n\n    return true\n  }\n\n  const removeLink = (handleElement: PPTElement) => {\n    slidesStore.removeElementProps({ id: handleElement.id, propName: 'link' })\n    addHistorySnapshot()\n  }\n\n  return {\n    setLink,\n    removeLink,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-12300fd5\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"href\"]\nconst _hoisted_2 = { class: \"btns\" }\n\nimport { computed, PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElement, PPTElementLink } from '@/types/slides'\nimport useLink from '@/hooks/useLink'\n\nimport { Divider } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LinkHandler',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTElement>,\n    required: true,\n  },\n  link: {\n    type: Object as PropType<PPTElementLink>,\n    required: true,\n  },\n  openLinkDialog: {\n    type: Function as PropType<() => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { canvasScale } = storeToRefs(mainStore)\nconst { slides } = storeToRefs(slidesStore)\nconst { removeLink } = useLink()\nconst height = computed(() => props.elementInfo.type === 'line' ? 0 : props.elementInfo.height)\n\nconst turnTarget = (slideId: string) => {\n  const targetIndex = slides.value.findIndex(item => item.id === slideId)\n  if (targetIndex !== -1) {\n    mainStore.setActiveElementIdList([])\n    slidesStore.updateSlideIndex(targetIndex)\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"link-handler\",\n    style: _normalizeStyle({ top: height.value * _unref(canvasScale) + 10 + 'px' })\n  }, [\n    (__props.link.type === 'web')\n      ? (_openBlock(), _createElementBlock(\"a\", {\n          key: 0,\n          class: \"link\",\n          href: __props.link.target,\n          target: \"_blank\"\n        }, _toDisplayString(__props.link.target), 9, _hoisted_1))\n      : (_openBlock(), _createElementBlock(\"a\", {\n          key: 1,\n          class: \"link\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (turnTarget(__props.link.target)))\n        }, \"幻灯片页面 \" + _toDisplayString(__props.link.target), 1)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"btn\",\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (__props.openLinkDialog()))\n      }, \"更换\"),\n      _createVNode(_unref(Divider), { type: \"vertical\" }),\n      _createElementVNode(\"div\", {\n        class: \"btn\",\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(removeLink)(__props.elementInfo)))\n      }, \"移除\")\n    ])\n  ], 4))\n}\n}\n\n})","import script from \"./LinkHandler.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LinkHandler.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LinkHandler.vue?vue&type=style&index=0&id=12300fd5&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-12300fd5\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-26f9c48a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 1,\n  class: \"animation-index\"\n}\n\nimport { PropType, computed } from 'vue'\r\nimport { storeToRefs } from 'pinia'\r\nimport { useMainStore, useSlidesStore } from '@/store'\r\nimport { ElementTypes, PPTElement, PPTLineElement, PPTVideoElement, PPTAudioElement, PPTShapeElement } from '@/types/slides'\r\nimport { OperateLineHandlers, OperateResizeHandlers } from '@/types/edit'\r\n\r\nimport ImageElementOperate from './ImageElementOperate.vue'\r\nimport TextElementOperate from './TextElementOperate.vue'\r\nimport ShapeElementOperate from './ShapeElementOperate.vue'\r\nimport LineElementOperate from './LineElementOperate.vue'\r\nimport TableElementOperate from './TableElementOperate.vue'\r\nimport CommonElementOperate from './CommonElementOperate.vue'\r\nimport LinkHandler from './LinkHandler.vue'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\r\n  elementInfo: {\r\n    type: Object as PropType<PPTElement>,\r\n    required: true,\r\n  },\r\n  isSelected: {\r\n    type: Boolean,\r\n    required: true,\r\n  },\r\n  isActive: {\r\n    type: Boolean,\r\n    required: true,\r\n  },\r\n  isActiveGroupElement: {\r\n    type: Boolean,\r\n    required: true,\r\n  },\r\n  isMultiSelect: {\r\n    type: Boolean,\r\n    required: true,\r\n  },\r\n  rotateElement: {\r\n    type: Function as PropType<(element: Exclude<PPTElement, PPTLineElement | PPTVideoElement | PPTAudioElement>) => void>,\r\n    required: true,\r\n  },\r\n  scaleElement: {\r\n    type: Function as PropType<(e: MouseEvent, element: Exclude<PPTElement, PPTLineElement>, command: OperateResizeHandlers) => void>,\r\n    required: true,\r\n  },\r\n  dragLineElement: {\r\n    type: Function as PropType<(e: MouseEvent, element: PPTLineElement, command: OperateLineHandlers) => void>,\r\n    required: true,\r\n  },\r\n  moveShapeKeypoint: {\r\n    type: Function as PropType<(e: MouseEvent, element: PPTShapeElement) => void>,\r\n    required: true,\r\n  },\r\n  openLinkDialog: {\r\n    type: Function as PropType<() => void>,\r\n    required: true,\r\n  },\r\n},\n  setup(__props) {\n\nconst props = __props;\n\r\n\r\n\r\nconst { canvasScale, toolbarState } = storeToRefs(useMainStore())\r\nconst { formatedAnimations } = storeToRefs(useSlidesStore())\r\n\r\nconst currentOperateComponent = computed(() => {\r\n  const elementTypeMap = {\r\n    [ElementTypes.IMAGE]: ImageElementOperate,\r\n    [ElementTypes.TEXT]: TextElementOperate,\r\n    [ElementTypes.SHAPE]: ShapeElementOperate,\r\n    [ElementTypes.LINE]: LineElementOperate,\r\n    [ElementTypes.TABLE]: TableElementOperate,\r\n    [ElementTypes.CHART]: CommonElementOperate,\r\n    [ElementTypes.LATEX]: CommonElementOperate,\r\n    [ElementTypes.VIDEO]: CommonElementOperate,\r\n    [ElementTypes.AUDIO]: CommonElementOperate,\r\n  }\r\n  return elementTypeMap[props.elementInfo.type] || null\r\n})\r\n\r\nconst elementIndexListInAnimation = computed(() => {\r\n  const indexList = []\r\n  for (let i = 0; i < formatedAnimations.value.length; i++) {\r\n    const elIds = formatedAnimations.value[i].animations.map(item => item.elId)\r\n    if (elIds.includes(props.elementInfo.id)) indexList.push(i)\r\n  }\r\n  return indexList\r\n})\r\n\r\nconst rotate = computed(() => 'rotate' in props.elementInfo ? props.elementInfo.rotate : 0)\r\nconst height = computed(() => 'height' in props.elementInfo ? props.elementInfo.height : 0)\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"operate\", { 'multi-select': __props.isMultiSelect && !__props.isActive }]),\n    style: _normalizeStyle({\r\n      top: __props.elementInfo.top * _unref(canvasScale) + 'px',\r\n      left: __props.elementInfo.left * _unref(canvasScale) + 'px',\r\n      transform: `rotate(${rotate.value}deg)`,\r\n      transformOrigin: `${__props.elementInfo.width * _unref(canvasScale) / 2}px ${height.value * _unref(canvasScale) / 2}px`,\r\n    })\n  }, [\n    (__props.isSelected)\n      ? (_openBlock(), _createBlock(_resolveDynamicComponent(currentOperateComponent.value), {\n          key: 0,\n          elementInfo: __props.elementInfo,\n          handlerVisible: !__props.elementInfo.lock && (__props.isActiveGroupElement || !__props.isMultiSelect),\n          rotateElement: __props.rotateElement,\n          scaleElement: __props.scaleElement,\n          dragLineElement: __props.dragLineElement,\n          moveShapeKeypoint: __props.moveShapeKeypoint\n        }, null, 8, [\"elementInfo\", \"handlerVisible\", \"rotateElement\", \"scaleElement\", \"dragLineElement\", \"moveShapeKeypoint\"]))\n      : _createCommentVNode(\"\", true),\n    (_unref(toolbarState) === 'elAnimation' && elementIndexListInAnimation.value.length)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elementIndexListInAnimation.value, (index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"index-item\",\n              key: index\n            }, _toDisplayString(index + 1), 1))\n          }), 128))\n        ]))\n      : _createCommentVNode(\"\", true),\n    (__props.isActive && __props.elementInfo.link)\n      ? (_openBlock(), _createBlock(LinkHandler, {\n          key: 2,\n          elementInfo: __props.elementInfo,\n          link: __props.elementInfo.link,\n          openLinkDialog: __props.openLinkDialog,\n          onMousedown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n        }, null, 8, [\"elementInfo\", \"link\", \"openLinkDialog\"]))\n      : _createCommentVNode(\"\", true)\n  ], 6))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=26f9c48a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-26f9c48a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c874e65e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\n\nimport { computed, PropType } from 'vue'\nimport { PPTImageElement } from '@/types/slides'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\nimport useClipImage from './useClipImage'\nimport useFilter from './useFilter'\n\nimport ImageOutline from './ImageOutline/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseImageElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTImageElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst clip = computed(() => props.elementInfo.clip)\nconst { clipShape, imgPosition } = useClipImage(clip)\n\nconst filters = computed(() => props.elementInfo.filters)\nconst { filter } = useFilter(filters)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-image\",\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\n          filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '',\n          transform: _unref(flipStyle),\n        })\n      }, [\n        _createVNode(ImageOutline, { elementInfo: __props.elementInfo }, null, 8, [\"elementInfo\"]),\n        _createElementVNode(\"div\", {\n          class: \"image-content\",\n          style: _normalizeStyle({ clipPath: _unref(clipShape).style })\n        }, [\n          _createElementVNode(\"img\", {\n            src: __props.elementInfo.src,\n            draggable: false,\n            style: _normalizeStyle({\n              top: _unref(imgPosition).top,\n              left: _unref(imgPosition).left,\n              width: _unref(imgPosition).width,\n              height: _unref(imgPosition).height,\n              filter: _unref(filter),\n            }),\n            alt: \"\"\n          }, null, 12, _hoisted_1),\n          (__props.elementInfo.colorMask)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"color-mask\",\n                style: _normalizeStyle({\n              backgroundColor: __props.elementInfo.colorMask.color,\n              opacity: __props.elementInfo.colorMask.opacity,\n            })\n              }, null, 4))\n            : _createCommentVNode(\"\", true)\n        ], 4)\n      ], 4)\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseImageElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseImageElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseImageElement.vue?vue&type=style&index=0&id=c874e65e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c874e65e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-18d84242\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"innerHTML\"]\n\nimport { PropType, computed, StyleValue } from 'vue'\nimport { PPTTextElement } from '@/types/slides'\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\n\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseTextElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTTextElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst cssVar = computed(() => ({\n  '--textIndent': `${props.elementInfo.textIndent || 0}px`,\n  '--paragraphSpace': `${props.elementInfo.paragraphSpace === undefined ? 5 : props.elementInfo.paragraphSpace}px`,\n} as StyleValue))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-text\",\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\n          width: __props.elementInfo.vertical ? 'auto' : __props.elementInfo.width + 'px',\n          height: __props.elementInfo.vertical ? __props.elementInfo.height + 'px' : 'auto',\n          backgroundColor: __props.elementInfo.fill,\n          opacity: __props.elementInfo.opacity,\n          textShadow: _unref(shadowStyle),\n          lineHeight: __props.elementInfo.lineHeight,\n          letterSpacing: (__props.elementInfo.wordSpace || 0) + 'px',\n          color: __props.elementInfo.defaultColor,\n          fontFamily: __props.elementInfo.defaultFontName,\n          writingMode: __props.elementInfo.vertical ? 'vertical-rl' : 'horizontal-tb',\n        })\n      }, [\n        _createVNode(ElementOutline, {\n          width: __props.elementInfo.width,\n          height: __props.elementInfo.height,\n          outline: __props.elementInfo.outline\n        }, null, 8, [\"width\", \"height\", \"outline\"]),\n        _createElementVNode(\"div\", {\n          class: \"text ProseMirror-static\",\n          style: _normalizeStyle(cssVar.value),\n          innerHTML: __props.elementInfo.content\n        }, null, 12, _hoisted_1)\n      ], 4)\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseTextElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseTextElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseTextElement.vue?vue&type=style&index=0&id=18d84242&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-18d84242\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5471b4fc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = { key: 0 }\nconst _hoisted_3 = [\"transform\"]\nconst _hoisted_4 = [\"d\", \"fill\", \"stroke\", \"stroke-width\", \"stroke-dasharray\"]\nconst _hoisted_5 = [\"innerHTML\"]\n\nimport { computed, PropType } from 'vue'\nimport { PPTShapeElement, ShapeText } from '@/types/slides'\nimport useElementOutline from '@/views/components/element/hooks/useElementOutline'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\nimport useElementFlip from '@/views/components/element/hooks/useElementFlip'\n\nimport GradientDefs from './GradientDefs.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseShapeElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTShapeElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst outline = computed(() => props.elementInfo.outline)\nconst { outlineWidth, outlineStyle, outlineColor } = useElementOutline(outline)\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst flipH = computed(() => props.elementInfo.flipH)\nconst flipV = computed(() => props.elementInfo.flipV)\nconst { flipStyle } = useElementFlip(flipH, flipV)\n\nconst text = computed<ShapeText>(() => {\n  const defaultText: ShapeText = {\n    content: '',\n    defaultFontName: 'Microsoft Yahei',\n    defaultColor: '#000',\n    align: 'middle',\n  }\n  if (!props.elementInfo.text) return defaultText\n\n  return props.elementInfo.text\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-shape\",\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\n          opacity: __props.elementInfo.opacity,\n          filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '',\n          transform: _unref(flipStyle),\n          color: text.value.defaultColor,\n          fontFamily: text.value.defaultFontName,\n        })\n      }, [\n        (_openBlock(), _createElementBlock(\"svg\", {\n          overflow: \"visible\",\n          width: __props.elementInfo.width,\n          height: __props.elementInfo.height\n        }, [\n          (__props.elementInfo.gradient)\n            ? (_openBlock(), _createElementBlock(\"defs\", _hoisted_2, [\n                _createVNode(GradientDefs, {\n                  id: `base-gradient-${__props.elementInfo.id}`,\n                  type: __props.elementInfo.gradient.type,\n                  color1: __props.elementInfo.gradient.color[0],\n                  color2: __props.elementInfo.gradient.color[1],\n                  rotate: __props.elementInfo.gradient.rotate\n                }, null, 8, [\"id\", \"type\", \"color1\", \"color2\", \"rotate\"])\n              ]))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"g\", {\n            transform: `scale(${__props.elementInfo.width / __props.elementInfo.viewBox[0]}, ${__props.elementInfo.height / __props.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\n          }, [\n            _createElementVNode(\"path\", {\n              \"vector-effect\": \"non-scaling-stroke\",\n              \"stroke-linecap\": \"butt\",\n              \"stroke-miterlimit\": \"8\",\n              d: __props.elementInfo.path,\n              fill: __props.elementInfo.gradient ? `url(#base-gradient-${__props.elementInfo.id})` : __props.elementInfo.fill,\n              stroke: _unref(outlineColor),\n              \"stroke-width\": _unref(outlineWidth),\n              \"stroke-dasharray\": _unref(outlineStyle) === 'dashed' ? '10 5' : '0 0'\n            }, null, 8, _hoisted_4)\n          ], 8, _hoisted_3)\n        ], 8, _hoisted_1)),\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"shape-text\", text.value.align])\n        }, [\n          _createElementVNode(\"div\", {\n            class: \"ProseMirror-static\",\n            innerHTML: text.value.content\n          }, null, 8, _hoisted_5)\n        ], 2)\n      ], 4)\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseShapeElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseShapeElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseShapeElement.vue?vue&type=style&index=0&id=5471b4fc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5471b4fc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-340cdee8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"d\", \"stroke\", \"stroke-width\", \"stroke-dasharray\", \"marker-start\", \"marker-end\"]\n\nimport { computed, PropType } from 'vue'\nimport { PPTLineElement } from '@/types/slides'\nimport { getLineElementPath } from '@/utils/element'\nimport useElementShadow from '@/views/components/element/hooks/useElementShadow'\n\nimport LinePointMarker from './LinePointMarker.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseLineElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTLineElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst shadow = computed(() => props.elementInfo.shadow)\nconst { shadowStyle } = useElementShadow(shadow)\n\nconst svgWidth = computed(() => {\n  const width = Math.abs(props.elementInfo.start[0] - props.elementInfo.end[0])\n  return width < 24 ? 24 : width\n})\nconst svgHeight = computed(() => {\n  const height = Math.abs(props.elementInfo.start[1] - props.elementInfo.end[1])\n  return height < 24 ? 24 : height\n})\n\nconst lineDashArray = computed(() => props.elementInfo.style === 'dashed' ? '10, 5' : '0, 0')\n\nconst path = computed(() => {\n  return getLineElementPath(props.elementInfo)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-line\",\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"element-content\",\n      style: _normalizeStyle({ filter: _unref(shadowStyle) ? `drop-shadow(${_unref(shadowStyle)})` : '' })\n    }, [\n      (_openBlock(), _createElementBlock(\"svg\", {\n        overflow: \"visible\",\n        width: svgWidth.value,\n        height: svgHeight.value\n      }, [\n        _createElementVNode(\"defs\", null, [\n          (__props.elementInfo.points[0])\n            ? (_openBlock(), _createBlock(LinePointMarker, {\n                key: 0,\n                id: __props.elementInfo.id,\n                position: \"start\",\n                type: __props.elementInfo.points[0],\n                color: __props.elementInfo.color,\n                baseSize: __props.elementInfo.width\n              }, null, 8, [\"id\", \"type\", \"color\", \"baseSize\"]))\n            : _createCommentVNode(\"\", true),\n          (__props.elementInfo.points[1])\n            ? (_openBlock(), _createBlock(LinePointMarker, {\n                key: 1,\n                id: __props.elementInfo.id,\n                position: \"end\",\n                type: __props.elementInfo.points[1],\n                color: __props.elementInfo.color,\n                baseSize: __props.elementInfo.width\n              }, null, 8, [\"id\", \"type\", \"color\", \"baseSize\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createElementVNode(\"path\", {\n          d: path.value,\n          stroke: __props.elementInfo.color,\n          \"stroke-width\": __props.elementInfo.width,\n          \"stroke-dasharray\": lineDashArray.value,\n          fill: \"none\",\n          \"marker-start\": __props.elementInfo.points[0] ? `url(#${__props.elementInfo.id}-${__props.elementInfo.points[0]}-start)` : '',\n          \"marker-end\": __props.elementInfo.points[1] ? `url(#${__props.elementInfo.id}-${__props.elementInfo.points[1]}-end)` : ''\n        }, null, 8, _hoisted_2)\n      ], 8, _hoisted_1))\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseLineElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseLineElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseLineElement.vue?vue&type=style&index=0&id=340cdee8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-340cdee8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, inject, PropType, ref } from 'vue'\r\nimport { PPTChartElement } from '@/types/slides'\r\nimport { injectKeySlideScale } from '@/types/injectKey'\r\n\r\nimport ElementOutline from '@/views/components/element/ElementOutline.vue'\r\nimport Chart from './Chart.vue'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseChartElement',\n  props: {\r\n  elementInfo: {\r\n    type: Object as PropType<PPTChartElement>,\r\n    required: true,\r\n  },\r\n},\n  setup(__props) {\n\r\n\r\n\r\nconst slideScale = inject(injectKeySlideScale) || ref(1)\r\n\r\nconst needScaleSize = computed(() => slideScale.value < 1)\r\nconst zoom = computed(() => needScaleSize.value ? 1 / slideScale.value : 1)\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-chart\",\n    style: _normalizeStyle({\r\n      top: __props.elementInfo.top + 'px',\r\n      left: __props.elementInfo.left + 'px',\r\n      width: __props.elementInfo.width + 'px',\r\n      height: __props.elementInfo.height + 'px',\r\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({\r\n          backgroundColor: __props.elementInfo.fill,\r\n        })\n      }, [\n        _createVNode(ElementOutline, {\n          width: __props.elementInfo.width,\n          height: __props.elementInfo.height,\n          outline: __props.elementInfo.outline\n        }, null, 8, [\"width\", \"height\", \"outline\"]),\n        _createVNode(Chart, {\n          width: __props.elementInfo.width * zoom.value,\n          height: __props.elementInfo.height * zoom.value,\n          type: __props.elementInfo.chartType,\n          data: __props.elementInfo.data,\n          options: __props.elementInfo.options,\n          themeColor: __props.elementInfo.themeColor,\n          gridColor: __props.elementInfo.gridColor,\n          legends: __props.elementInfo.data.legends,\n          legend: __props.elementInfo.legend || '',\n          style: _normalizeStyle({ zoom: 1 / zoom.value })\n        }, null, 8, [\"width\", \"height\", \"type\", \"data\", \"options\", \"themeColor\", \"gridColor\", \"legends\", \"legend\", \"style\"])\n      ], 4)\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseChartElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseChartElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseChartElement.vue?vue&type=style&index=0&id=7d2e5c4e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7d2e5c4e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, vShow as _vShow, withDirectives as _withDirectives, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-fe32cf92\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\"]\nconst _hoisted_2 = [\"rowspan\", \"colspan\"]\nconst _hoisted_3 = [\"innerHTML\"]\n\nimport { computed, PropType, ref, watch } from 'vue'\nimport { PPTElementOutline, TableCell, TableTheme } from '@/types/slides'\nimport { getTextStyle, formatText } from './utils'\nimport useHideCells from './useHideCells'\nimport useSubThemeColor from './useSubThemeColor'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'StaticTable',\n  props: {\n  data: {\n    type: Array as PropType<TableCell[][]>,\n    required: true,\n  },\n  width: {\n    type: Number,\n    required: true,\n  },\n  cellMinHeight: {\n    type: Number,\n    required: true,\n  },\n  colWidths: {\n    type: Array as PropType<number[]>,\n    required: true,\n  },\n  outline: {\n    type: Object as PropType<PPTElementOutline>,\n    required: true,\n  },\n  theme: {\n    type: Object as PropType<TableTheme>,\n  },\n  editable: {\n    type: Boolean,\n    default: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst colSizeList = ref<number[]>([])\nconst totalWidth = computed(() => colSizeList.value.reduce((a, b) => a + b))\n\nwatch([\n  () => props.colWidths,\n  () => props.width,\n], () => {\n  colSizeList.value = props.colWidths.map(item => item * props.width)\n}, { immediate: true })\n\nconst cells = computed(() => props.data)\nconst { hideCells } = useHideCells(cells)\n\nconst theme = computed(() => props.theme)\nconst { subThemeColor } = useSubThemeColor(theme)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"static-table\",\n    style: _normalizeStyle({ width: totalWidth.value + 'px' })\n  }, [\n    _createElementVNode(\"table\", {\n      class: _normalizeClass({\n        'theme': theme.value,\n        'row-header': theme.value?.rowHeader,\n        'row-footer': theme.value?.rowFooter,\n        'col-header': theme.value?.colHeader,\n        'col-footer': theme.value?.colFooter,\n      }),\n      style: _normalizeStyle(`--themeColor: ${theme.value?.color}; --subThemeColor1: ${_unref(subThemeColor)[0]}; --subThemeColor2: ${_unref(subThemeColor)[1]}`)\n    }, [\n      _createElementVNode(\"colgroup\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(colSizeList.value, (width, index) => {\n          return (_openBlock(), _createElementBlock(\"col\", {\n            span: \"1\",\n            key: index,\n            width: width\n          }, null, 8, _hoisted_1))\n        }), 128))\n      ]),\n      _createElementVNode(\"tbody\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.data, (rowCells, rowIndex) => {\n          return (_openBlock(), _createElementBlock(\"tr\", {\n            key: rowIndex,\n            style: _normalizeStyle({ height: __props.cellMinHeight + 'px' })\n          }, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(rowCells, (cell, colIndex) => {\n              return _withDirectives((_openBlock(), _createElementBlock(\"td\", {\n                class: \"cell\",\n                style: _normalizeStyle({\n              borderStyle: __props.outline.style,\n              borderColor: __props.outline.color,\n              borderWidth: __props.outline.width + 'px',\n              ..._unref(getTextStyle)(cell.style),\n            }),\n                key: cell.id,\n                rowspan: cell.rowspan,\n                colspan: cell.colspan\n              }, [\n                _createElementVNode(\"div\", {\n                  class: \"cell-text\",\n                  style: _normalizeStyle({ minHeight: (__props.cellMinHeight - 4) + 'px' }),\n                  innerHTML: _unref(formatText)(cell.text)\n                }, null, 12, _hoisted_3)\n              ], 12, _hoisted_2)), [\n                [_vShow, !_unref(hideCells).includes(`${rowIndex}_${colIndex}`)]\n              ])\n            }), 128))\n          ], 4))\n        }), 128))\n      ])\n    ], 6)\n  ], 4))\n}\n}\n\n})","import script from \"./StaticTable.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./StaticTable.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./StaticTable.vue?vue&type=style&index=0&id=fe32cf92&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fe32cf92\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6b8ce0be\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\n\nimport { PropType } from 'vue'\nimport { PPTTableElement } from '@/types/slides'\n\nimport StaticTable from './StaticTable.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseTableElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTTableElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-table\",\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(StaticTable, {\n          data: __props.elementInfo.data,\n          width: __props.elementInfo.width,\n          cellMinHeight: __props.elementInfo.cellMinHeight,\n          colWidths: __props.elementInfo.colWidths,\n          outline: __props.elementInfo.outline,\n          theme: __props.elementInfo.theme\n        }, null, 8, [\"data\", \"width\", \"cellMinHeight\", \"colWidths\", \"outline\", \"theme\"])\n      ])\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseTableElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseTableElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseTableElement.vue?vue&type=style&index=0&id=6b8ce0be&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6b8ce0be\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-9a47b5f4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\nconst _hoisted_2 = [\"width\", \"height\", \"stroke\", \"stroke-width\"]\nconst _hoisted_3 = [\"transform\"]\nconst _hoisted_4 = [\"d\"]\n\nimport { PropType } from 'vue'\nimport { PPTLatexElement } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseLatexElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTLatexElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-latex\",\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_openBlock(), _createElementBlock(\"svg\", {\n          overflow: \"visible\",\n          width: __props.elementInfo.width,\n          height: __props.elementInfo.height,\n          stroke: __props.elementInfo.color,\n          \"stroke-width\": __props.elementInfo.strokeWidth,\n          fill: \"none\",\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\"\n        }, [\n          _createElementVNode(\"g\", {\n            transform: `scale(${__props.elementInfo.width / __props.elementInfo.viewBox[0]}, ${__props.elementInfo.height / __props.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\n          }, [\n            _createElementVNode(\"path\", {\n              d: __props.elementInfo.path\n            }, null, 8, _hoisted_4)\n          ], 8, _hoisted_3)\n        ], 8, _hoisted_2))\n      ])\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseLatexElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseLatexElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseLatexElement.vue?vue&type=style&index=0&id=9a47b5f4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9a47b5f4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { PropType } from 'vue'\nimport { PPTVideoElement } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseVideoElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTVideoElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlayOne = _resolveComponent(\"IconPlayOne\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-video\",\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"element-content\",\n        style: _normalizeStyle({ backgroundImage: `url(${__props.elementInfo.poster})` })\n      }, [\n        _createVNode(_component_IconPlayOne, { class: \"icon\" })\n      ], 4)\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseVideoElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseVideoElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseVideoElement.vue?vue&type=style&index=0&id=56b7f716&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-56b7f716\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, normalizeStyle as _normalizeStyle, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5258e03b\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\n\nimport { computed, PropType } from 'vue'\nimport { PPTAudioElement } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseAudioElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTAudioElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst audioIconSize = computed(() => {\n  return Math.min(props.elementInfo.width, props.elementInfo.height) + 'px'\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconVolumeNotice = _resolveComponent(\"IconVolumeNotice\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"base-element-audio\",\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_IconVolumeNotice, {\n          class: \"audio-icon\",\n          style: _normalizeStyle({\n            fontSize: audioIconSize.value,\n            color: __props.elementInfo.color,\n          })\n        }, null, 8, [\"style\"])\n      ])\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./BaseAudioElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseAudioElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseAudioElement.vue?vue&type=style&index=0&id=5258e03b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5258e03b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, PropType } from 'vue'\nimport { ElementTypes, PPTElement } from '@/types/slides'\n\nimport BaseImageElement from '@/views/components/element/ImageElement/BaseImageElement.vue'\nimport BaseTextElement from '@/views/components/element/TextElement/BaseTextElement.vue'\nimport BaseShapeElement from '@/views/components/element/ShapeElement/BaseShapeElement.vue'\nimport BaseLineElement from '@/views/components/element/LineElement/BaseLineElement.vue'\nimport BaseChartElement from '@/views/components/element/ChartElement/BaseChartElement.vue'\nimport BaseTableElement from '@/views/components/element/TableElement/BaseTableElement.vue'\nimport BaseLatexElement from '@/views/components/element/LatexElement/BaseLatexElement.vue'\nimport BaseVideoElement from '@/views/components/element/VideoElement/BaseVideoElement.vue'\nimport BaseAudioElement from '@/views/components/element/AudioElement/BaseAudioElement.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ThumbnailElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTElement>,\n    required: true,\n  },\n  elementIndex: {\n    type: Number,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst currentElementComponent = computed(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: BaseImageElement,\n    [ElementTypes.TEXT]: BaseTextElement,\n    [ElementTypes.SHAPE]: BaseShapeElement,\n    [ElementTypes.LINE]: BaseLineElement,\n    [ElementTypes.CHART]: BaseChartElement,\n    [ElementTypes.TABLE]: BaseTableElement,\n    [ElementTypes.LATEX]: BaseLatexElement,\n    [ElementTypes.VIDEO]: BaseVideoElement,\n    [ElementTypes.AUDIO]: BaseAudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"base-element\", `base-element-${__props.elementInfo.id}`]),\n    style: _normalizeStyle({\n      zIndex: __props.elementIndex,\n    })\n  }, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentElementComponent.value), {\n      elementInfo: __props.elementInfo,\n      target: \"thumbnail\"\n    }, null, 8, [\"elementInfo\"]))\n  ], 6))\n}\n}\n\n})","import script from \"./ThumbnailElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ThumbnailElement.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3f5170e8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 1,\n  class: \"placeholder\"\n}\n\nimport { computed, PropType, provide } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { Slide } from '@/types/slides'\nimport { injectKeySlideScale } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\n\nimport ThumbnailElement from './ThumbnailElement.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  slide: {\n    type: Object as PropType<Slide>,\n    required: true,\n  },\n  size: {\n    type: Number,\n    required: true,\n  },\n  visible: {\n    type: Boolean,\n    default: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { viewportRatio } = storeToRefs(useSlidesStore())\n\nconst background = computed(() => props.slide.background)\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n\nconst scale = computed(() => props.size / VIEWPORT_SIZE)\nprovide(injectKeySlideScale, scale)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"thumbnail-slide\",\n    style: _normalizeStyle({\n      width: __props.size + 'px',\n      height: __props.size * _unref(viewportRatio) + 'px',\n    })\n  }, [\n    (__props.visible)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"elements\",\n          style: _normalizeStyle({\n        width: _unref(VIEWPORT_SIZE) + 'px',\n        height: _unref(VIEWPORT_SIZE) * _unref(viewportRatio) + 'px',\n        transform: `scale(${scale.value})`,\n      })\n        }, [\n          _createElementVNode(\"div\", {\n            class: \"background\",\n            style: _normalizeStyle(_unref(backgroundStyle))\n          }, null, 4),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.slide.elements, (element, index) => {\n            return (_openBlock(), _createBlock(ThumbnailElement, {\n              key: element.id,\n              elementInfo: element,\n              elementIndex: index + 1\n            }, null, 8, [\"elementInfo\", \"elementIndex\"]))\n          }), 128))\n        ], 4))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"加载中 ...\"))\n  ], 4))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3f5170e8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3f5170e8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ad12007c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"link-dialog\" }\nconst _hoisted_2 = { class: \"tabs\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = {\n  key: 2,\n  class: \"preview\"\n}\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, \"Preview:\", -1))\nconst _hoisted_6 = { class: \"btns\" }\n\nimport { computed, onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElementLink } from '@/types/slides'\nimport useLink from '@/hooks/useLink'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport {\n  Button,\n  Select,\n  Input,\n} from 'ant-design-vue'\ntype TypeKey = 'web' | 'slide'\ninterface TabItem {\n  key: TypeKey\n  label: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LinkDialog',\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\nconst SelectOption = Select.Option\n\n\n\nconst { handleElement } = storeToRefs(useMainStore())\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst type = ref<TypeKey>('web')\nconst address = ref('')\nconst slideId = ref('')\n\nslideId.value = slides.value.find(item => item.id !== currentSlide.value.id)?.id || ''\n\nconst selectedSlide = computed(() => {\n  if (!slideId.value) return null\n\n  return slides.value.find(item => item.id === slideId.value) || null\n})\n\nconst tabs: TabItem[] = [\n  { key: 'web', label: 'web link' },\n  { key: 'slide', label: 'slide page' },\n]\n\nconst { setLink } = useLink()\n\nonMounted(() => {\n  if (handleElement. value?. link) {\n    if (handleElement.value.link.type === 'web') address.value = handleElement.value.link.target\n    else if (handleElement.value.link.type === 'slide') slideId.value = handleElement.value.link.target\n\n    type.value = handleElement.value.link.type\n  }\n})\n\nconst save = () => {\n  const link: PPTElementLink = {\n    type: type. value,\n    target: type.value === 'web' ? address.value : slideId.value,\n  }\n  if (handleElement. value) {\n    const success = setLink(handleElement. value, link)\n    if (success) emit('close')\n    else address. value = ''\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(tabs, (tab) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass([\"tab\", { 'active': type.value === tab.key }]),\n          key: tab.key,\n          onClick: ($event: any) => (type.value = tab.key)\n        }, _toDisplayString(tab.label), 11, _hoisted_3)\n      }), 64))\n    ]),\n    (type.value === 'web')\n      ? (_openBlock(), _createBlock(_unref(Input), {\n          key: 0,\n          class: \"input\",\n          value: address.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((address).value = $event)),\n          placeholder: \"Please enter the webpage link address\"\n        }, null, 8, [\"value\"]))\n      : _createCommentVNode(\"\", true),\n    (type.value === 'slide')\n      ? (_openBlock(), _createBlock(_unref(Select), {\n          key: 1,\n          class: \"input\",\n          value: slideId.value,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((slideId).value = $event))\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slides), (slide, index) => {\n              return (_openBlock(), _createBlock(_unref(SelectOption), {\n                key: slide.id,\n                value: slide.id,\n                disabled: _unref(currentSlide).id === slide.id\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Slide \" + _toDisplayString(index + 1), 1)\n                ]),\n                _: 2\n              }, 1032, [\"value\", \"disabled\"]))\n            }), 128))\n          ]),\n          _: 1\n        }, 8, [\"value\"]))\n      : _createCommentVNode(\"\", true),\n    (type.value === 'slide' && selectedSlide.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n          _hoisted_5,\n          _createVNode(ThumbnailSlide, {\n            class: \"thumbnail\",\n            slide: selectedSlide.value,\n            size: 490\n          }, null, 8, [\"slide\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createVNode(_unref(Button), {\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (emit('close'))),\n        style: {\"margin-right\":\"10px\"}\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Cancel\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Button), {\n        type: \"primary\",\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (save()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Confirm\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","import script from \"./LinkDialog.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LinkDialog.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LinkDialog.vue?vue&type=style&index=0&id=ad12007c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ad12007c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, withCtx as _withCtx, resolveDirective as _resolveDirective, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-67d5d95a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"operates\" }\nconst _hoisted_2 = {\n  key: 1,\n  class: \"drag-mask\"\n}\n\nimport { nextTick, onMounted, onUnmounted, provide, ref, watch, watchEffect } from 'vue'\nimport { throttle } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { PPTElement } from '@/types/slides'\nimport { AlignmentLineProps } from '@/types/edit'\nimport { injectKeySlideScale } from '@/types/injectKey'\nimport { removeAllRanges } from '@/utils/selection'\nimport { KEYS } from '@/configs/hotkey'\n\nimport useViewportSize from './hooks/useViewportSize'\nimport useMouseSelection from './hooks/useMouseSelection'\nimport useDropImageOrText from './hooks/useDropImageOrText'\nimport useRotateElement from './hooks/useRotateElement'\nimport useScaleElement from './hooks/useScaleElement'\nimport useSelectElement from './hooks/useSelectElement'\nimport useDragElement from './hooks/useDragElement'\nimport useDragLineElement from './hooks/useDragLineElement'\nimport useMoveShapeKeypoint from './hooks/useMoveShapeKeypoint'\nimport useInsertFromCreateSelection from './hooks/useInsertFromCreateSelection'\n\nimport useDeleteElement from '@/hooks/useDeleteElement'\nimport useCopyAndPasteElement from '@/hooks/useCopyAndPasteElement'\nimport useSelectAllElement from '@/hooks/useSelectAllElement'\nimport useScaleCanvas from '@/hooks/useScaleCanvas'\nimport useScreening from '@/hooks/useScreening'\nimport useSlideHandler from '@/hooks/useSlideHandler'\n\nimport EditableElement from './EditableElement.vue'\nimport MouseSelection from './MouseSelection.vue'\nimport ViewportBackground from './ViewportBackground.vue'\nimport AlignmentLine from './AlignmentLine.vue'\nimport Ruler from './Ruler.vue'\nimport ElementCreateSelection from './ElementCreateSelection.vue'\nimport MultiSelectOperate from './Operate/MultiSelectOperate.vue'\nimport Operate from './Operate/index.vue'\nimport LinkDialog from './LinkDialog.vue'\nimport { Modal } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst {\n  activeElementIdList,\n  activeGroupElementId,\n  handleElementId,\n  hiddenElementIdList,\n  editorAreaFocus,\n  gridLineSize,\n  showRuler,\n  showSelectPanel,\n  creatingElement,\n  canvasScale,\n  textFormatPainter,\n} = storeToRefs(mainStore)\nconst { currentSlide } = storeToRefs(useSlidesStore())\nconst { ctrlKeyState, spaceKeyState } = storeToRefs(useKeyboardStore())\n\nconst viewportRef = ref<HTMLElement>()\nconst alignmentLines = ref<AlignmentLineProps[]>([])\n\nconst linkDialogVisible = ref(false)\nconst openLinkDialog = () => linkDialogVisible.value = true\n\nwatch(handleElementId, () => {\n  mainStore.setActiveGroupElementId('')\n})\n\nconst elementList = ref<PPTElement[]>([])\nconst setLocalElementList = () => {\n  elementList.value = currentSlide.value ? JSON.parse(JSON.stringify(currentSlide.value.elements)) : []\n}\nwatchEffect(setLocalElementList)\n\nconst canvasRef = ref<HTMLElement>()\nconst { dragViewport, viewportStyles } = useViewportSize(canvasRef)\n\nuseDropImageOrText(canvasRef)\n\nconst { mouseSelection, mouseSelectionVisible, mouseSelectionQuadrant, updateMouseSelection } = useMouseSelection(elementList, viewportRef)\n\nconst { dragElement } = useDragElement(elementList, alignmentLines, canvasScale)\nconst { dragLineElement } = useDragLineElement(elementList)\nconst { selectElement } = useSelectElement(elementList, dragElement)\nconst { scaleElement, scaleMultiElement } = useScaleElement(elementList, alignmentLines, canvasScale)\nconst { rotateElement } = useRotateElement(elementList, viewportRef)\nconst { moveShapeKeypoint } = useMoveShapeKeypoint(elementList, canvasScale)\n\nconst { selectAllElement } = useSelectAllElement()\nconst { deleteAllElements } = useDeleteElement()\nconst { pasteElement } = useCopyAndPasteElement()\nconst { enterScreeningFromStart } = useScreening()\nconst { updateSlideIndex } = useSlideHandler()\n\n// 组件渲染时，如果存在元素焦点，需要清除\n// 这种情况存在于：有焦点元素的情况下进入了放映模式，再退出时，需要清除原先的焦点（因为可能已经切换了页面）\nonMounted(() => {\n  if (activeElementIdList.value.length) {\n    nextTick(() => mainStore.setActiveElementIdList([]))\n  }\n})\n\n// 点击画布的空白区域：清空焦点元素、设置画布焦点、清除文字选区、清空格式刷状态\nconst handleClickBlankArea = (e: MouseEvent) => {\n  if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n\n  if (!spaceKeyState.value) updateMouseSelection(e)\n  else dragViewport(e)\n\n  if (!editorAreaFocus.value) mainStore.setEditorareaFocus(true)\n  if (textFormatPainter.value) mainStore.setTextFormatPainter(null)\n  removeAllRanges()\n}\n\n// 画布注销时清空格式刷状态\nonUnmounted(() => {\n  if (textFormatPainter.value) mainStore.setTextFormatPainter(null)\n})\n\n// 移除画布编辑区域焦点\nconst removeEditorAreaFocus = () => {\n  if (editorAreaFocus.value) mainStore.setEditorareaFocus(false)\n}\n\n// 滚动鼠标\nconst { scaleCanvas } = useScaleCanvas()\nconst throttleScaleCanvas = throttle(scaleCanvas, 100, { leading: true, trailing: false })\nconst throttleUpdateSlideIndex = throttle(updateSlideIndex, 300, { leading: true, trailing: false })\n\nconst handleMousewheelCanvas = (e: WheelEvent) => {\n  e.preventDefault()\n\n  // 按住Ctrl键时：缩放画布\n  if (ctrlKeyState.value) {\n    if (e.deltaY > 0) throttleScaleCanvas('-')\n    else if (e.deltaY < 0) throttleScaleCanvas('+')\n  }\n  // 上下翻页\n  else {\n    if (e.deltaY > 0) throttleUpdateSlideIndex(KEYS.DOWN)\n    else if (e.deltaY < 0) throttleUpdateSlideIndex(KEYS.UP)\n  }\n}\n\n// 开关标尺\nconst toggleRuler = () => {\n  mainStore.setRulerState(!showRuler.value)\n}\n\n// 在鼠标绘制的范围插入元素\nconst { insertElementFromCreateSelection } = useInsertFromCreateSelection(viewportRef)\n\nconst contextmenus = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Paste',\n      subText: 'Ctrl + V',\n      handler: pasteElement,\n    },\n    {\n      text: 'Select all',\n      subText: 'Ctrl + A',\n      handler: selectAllElement,\n    },\n    {\n      text: 'ruler',\n      subText: showRuler.value ? '√' : '',\n      handler: toggleRuler,\n    },\n    {\n      text: 'Grid lines',\n      handler: () => mainStore.setGridLineSize(gridLineSize.value ? 0 : 50),\n      children: [\n        {\n          text: 'none',\n          subText: gridLineSize.value === 0 ? '√' : '',\n          handler: () => mainStore.setGridLineSize(0),\n        },\n        {\n          text: 'small',\n          subText: gridLineSize.value === 25 ? '√' : '',\n          handler: () => mainStore.setGridLineSize(25),\n        },\n        {\n          text: '中',\n          subText: gridLineSize.value === 50 ? '√' : '',\n          handler: () => mainStore.setGridLineSize(50),\n        },\n        {\n          text: 'big',\n          subText: gridLineSize.value === 100 ? '√' : '',\n          handler: () => mainStore.setGridLineSize(100),\n        },\n      ],\n    },\n    {\n      text: showSelectPanel.value ? 'Close selection panel' : 'Open selection panel',\n      handler: () => {\n        if (!showSelectPanel.value) mainStore.setSelectPanelState(true)\n        else mainStore.setSelectPanelState(false)\n      },\n    },\n    {\n      text: 'Reset current page',\n      handler: deleteAllElements,\n    },\n    { divider: true },\n    {\n      text: 'Slideshow',\n      subText: 'F5',\n      handler: enterScreeningFromStart,\n    },\n  ]\n}\n\nprovide(injectKeySlideScale, canvasScale)\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    class: \"canvas\",\n    ref_key: \"canvasRef\",\n    ref: canvasRef,\n    onWheel: _cache[3] || (_cache[3] = $event => handleMousewheelCanvas($event)),\n    onMousedown: _cache[4] || (_cache[4] = $event => handleClickBlankArea($event))\n  }, [\n    (_unref(creatingElement))\n      ? (_openBlock(), _createBlock(ElementCreateSelection, {\n          key: 0,\n          onCreated: _cache[0] || (_cache[0] = data => _unref(insertElementFromCreateSelection)(data))\n        }))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: \"viewport-wrapper\",\n      style: _normalizeStyle({\n      width: _unref(viewportStyles).width * _unref(canvasScale) + 'px',\n      height: _unref(viewportStyles).height * _unref(canvasScale) + 'px',\n      left: _unref(viewportStyles).left + 'px',\n      top: _unref(viewportStyles).top + 'px',\n    })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(alignmentLines.value, (line, index) => {\n          return (_openBlock(), _createBlock(AlignmentLine, {\n            key: index,\n            type: line.type,\n            axis: line.axis,\n            length: line.length,\n            canvasScale: _unref(canvasScale)\n          }, null, 8, [\"type\", \"axis\", \"length\", \"canvasScale\"]))\n        }), 128)),\n        (_unref(activeElementIdList).length > 1)\n          ? (_openBlock(), _createBlock(MultiSelectOperate, {\n              key: 0,\n              elementList: elementList.value,\n              scaleMultiElement: _unref(scaleMultiElement)\n            }, null, 8, [\"elementList\", \"scaleMultiElement\"]))\n          : _createCommentVNode(\"\", true),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elementList.value, (element) => {\n          return _withDirectives((_openBlock(), _createBlock(Operate, {\n            key: element.id,\n            elementInfo: element,\n            isSelected: _unref(activeElementIdList).includes(element.id),\n            isActive: _unref(handleElementId) === element.id,\n            isActiveGroupElement: _unref(activeGroupElementId) === element.id,\n            isMultiSelect: _unref(activeElementIdList).length > 1,\n            rotateElement: _unref(rotateElement),\n            scaleElement: _unref(scaleElement),\n            openLinkDialog: openLinkDialog,\n            dragLineElement: _unref(dragLineElement),\n            moveShapeKeypoint: _unref(moveShapeKeypoint)\n          }, null, 8, [\"elementInfo\", \"isSelected\", \"isActive\", \"isActiveGroupElement\", \"isMultiSelect\", \"rotateElement\", \"scaleElement\", \"dragLineElement\", \"moveShapeKeypoint\"])), [\n            [_vShow, !_unref(hiddenElementIdList).includes(element.id)]\n          ])\n        }), 128)),\n        _createVNode(ViewportBackground)\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"viewport\",\n        ref_key: \"viewportRef\",\n        ref: viewportRef,\n        style: _normalizeStyle({ transform: `scale(${_unref(canvasScale)})` })\n      }, [\n        (_unref(mouseSelectionVisible))\n          ? (_openBlock(), _createBlock(MouseSelection, {\n              key: 0,\n              top: _unref(mouseSelection).top,\n              left: _unref(mouseSelection).left,\n              width: _unref(mouseSelection).width,\n              height: _unref(mouseSelection).height,\n              quadrant: _unref(mouseSelectionQuadrant)\n            }, null, 8, [\"top\", \"left\", \"width\", \"height\", \"quadrant\"]))\n          : _createCommentVNode(\"\", true),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elementList.value, (element, index) => {\n          return _withDirectives((_openBlock(), _createBlock(EditableElement, {\n            key: element.id,\n            elementInfo: element,\n            elementIndex: index + 1,\n            isMultiSelect: _unref(activeElementIdList).length > 1,\n            selectElement: _unref(selectElement),\n            openLinkDialog: openLinkDialog\n          }, null, 8, [\"elementInfo\", \"elementIndex\", \"isMultiSelect\", \"selectElement\"])), [\n            [_vShow, !_unref(hiddenElementIdList).includes(element.id)]\n          ])\n        }), 128))\n      ], 4)\n    ], 4),\n    (_unref(spaceKeyState))\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2))\n      : _createCommentVNode(\"\", true),\n    (_unref(showRuler))\n      ? (_openBlock(), _createBlock(Ruler, {\n          key: 2,\n          viewportStyles: _unref(viewportStyles)\n        }, null, 8, [\"viewportStyles\"]))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_unref(Modal), {\n      visible: linkDialogVisible.value,\n      \"onUpdate:visible\": _cache[2] || (_cache[2] = ($event: any) => ((linkDialogVisible).value = $event)),\n      footer: null,\n      centered: \"\",\n      width: 540,\n      destroyOnClose: \"\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(LinkDialog, {\n          onClose: _cache[1] || (_cache[1] = ($event: any) => (linkDialogVisible.value = false))\n        })\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ], 32)), [\n    [_directive_contextmenu, contextmenus],\n    [_directive_click_outside, removeEditorAreaFocus]\n  ])\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=67d5d95a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-67d5d95a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-09653543\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"shape-item-thumbnail\" }\nconst _hoisted_2 = { class: \"shape-content\" }\nconst _hoisted_3 = {\n  overflow: \"visible\",\n  width: \"18\",\n  height: \"18\"\n}\nconst _hoisted_4 = [\"transform\"]\nconst _hoisted_5 = [\"fill\", \"stroke\", \"d\"]\n\nimport { PropType } from 'vue'\nimport { ShapePoolItem } from '@/configs/shapes'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ShapeItemThumbnail',\n  props: {\n  shape: {\n    type: Object as PropType<ShapePoolItem>,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createElementBlock(\"svg\", _hoisted_3, [\n        _createElementVNode(\"g\", {\n          transform: `scale(${18 / __props.shape.viewBox[0]}, ${18 / __props.shape.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`\n        }, [\n          _createElementVNode(\"path\", {\n            class: _normalizeClass([\"shape-path\", { 'outlined': __props.shape.outlined }]),\n            \"vector-effect\": \"non-scaling-stroke\",\n            \"stroke-linecap\": \"butt\",\n            \"stroke-miterlimit\": \"8\",\n            fill: __props.shape.outlined ? '#999' : 'transparent',\n            stroke: __props.shape.outlined ? 'transparent' : '#999',\n            \"stroke-width\": \"2\",\n            d: __props.shape.path\n          }, null, 10, _hoisted_5)\n        ], 8, _hoisted_4)\n      ]))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./ShapeItemThumbnail.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ShapeItemThumbnail.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ShapeItemThumbnail.vue?vue&type=style&index=0&id=09653543&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-09653543\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-711a4fb1\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"shape-pool\" }\nconst _hoisted_2 = { class: \"category-name\" }\nconst _hoisted_3 = { class: \"shape-list\" }\n\nimport { SHAPE_LIST, ShapePoolItem } from '@/configs/shapes'\nimport ShapeItemThumbnail from './ShapeItemThumbnail.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ShapePool',\n  emits: [\"select\"],\n  setup(__props, { emit }) {\n\n\n\nconst selectShape = (shape: ShapePoolItem) => {\n  emit('select', shape)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(SHAPE_LIST), (item) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"category\",\n        key: item.type\n      }, [\n        _createElementVNode(\"div\", _hoisted_2, _toDisplayString(item.type), 1),\n        _createElementVNode(\"div\", _hoisted_3, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.children, (shape, index) => {\n            return (_openBlock(), _createBlock(ShapeItemThumbnail, {\n              class: \"shape-item\",\n              key: index,\n              shape: shape,\n              onClick: ($event: any) => (selectShape(shape))\n            }, null, 8, [\"shape\", \"onClick\"]))\n          }), 128))\n        ])\n      ]))\n    }), 128))\n  ]))\n}\n}\n\n})","import script from \"./ShapePool.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ShapePool.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ShapePool.vue?vue&type=style&index=0&id=711a4fb1&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-711a4fb1\"]])\n\nexport default __exports__","import { LinePoint } from '@/types/slides'\n\n\nexport interface LinePoolItem {\n  path: string\n  style: 'solid' | 'dashed'\n  points: [LinePoint, LinePoint]\n  isBroken?: boolean\n  isCurve?: boolean\n  isCubic?: boolean\n}\n\ninterface PresetLine {\n  type: string\n  children: LinePoolItem[]\n}\n\nexport const LINE_LIST: PresetLine[] = [\n  {\n    type: 'straight line',\n    children: [\n      { path: 'M 0 0 L 20 20', style: 'solid', points: ['', ''] },\n      { path: 'M 0 0 L 20 20', style: 'dashed', points: ['', ''] },\n      { path: 'M 0 0 L 20 20', style: 'solid', points: ['', 'arrow'] },\n      { path: 'M 0 0 L 20 20', style: 'dashed', points: ['', 'arrow'] },\n      { path: 'M 0 0 L 20 20', style: 'solid', points: ['', 'dot'] },\n    ],\n  },\n  {\n    type: 'polyline, curve',\n    children: [\n      { path: 'M 0 0 L 0 20 L 20 20', style: 'solid', points: ['', 'arrow'], isBroken: true },\n      { path: 'M 0 0 Q 0 20 20 20', style: 'solid', points: ['', 'arrow'], isCurve: true },\n      { path: 'M 0 0 C 20 0 0 20 20 20', style: 'solid', points: ['', 'arrow'], isCubic: true },\n    ],\n  },\n]","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-bca68faa\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"line-pool\" }\nconst _hoisted_2 = { class: \"category-name\" }\nconst _hoisted_3 = { class: \"line-list\" }\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = {\n  overflow: \"visible\",\n  width: \"20\",\n  height: \"20\"\n}\nconst _hoisted_6 = [\"d\", \"stroke-dasharray\", \"marker-start\", \"marker-end\"]\n\nimport { LINE_LIST, LinePoolItem } from '@/configs/lines'\n\nimport LinePointMarker from '@/views/components/element/LineElement/LinePointMarker.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LinePool',\n  emits: [\"select\"],\n  setup(__props, { emit }) {\n\n\n\nconst selectLine = (line: LinePoolItem) => {\n  emit('select', line)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(LINE_LIST), (item, i) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"category\",\n        key: item.type\n      }, [\n        _createElementVNode(\"div\", _hoisted_2, _toDisplayString(item.type), 1),\n        _createElementVNode(\"div\", _hoisted_3, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.children, (line, j) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"line-item\",\n              key: j\n            }, [\n              _createElementVNode(\"div\", {\n                class: \"line-content\",\n                onClick: ($event: any) => (selectLine(line))\n              }, [\n                (_openBlock(), _createElementBlock(\"svg\", _hoisted_5, [\n                  _createElementVNode(\"defs\", null, [\n                    (line.points[0])\n                      ? (_openBlock(), _createBlock(LinePointMarker, {\n                          key: 0,\n                          class: \"line-marker\",\n                          id: `preset-line-${i}-${j}`,\n                          position: \"start\",\n                          type: line.points[0],\n                          color: \"currentColor\",\n                          baseSize: 2\n                        }, null, 8, [\"id\", \"type\"]))\n                      : _createCommentVNode(\"\", true),\n                    (line.points[1])\n                      ? (_openBlock(), _createBlock(LinePointMarker, {\n                          key: 1,\n                          class: \"line-marker\",\n                          id: `preset-line-${i}-${j}`,\n                          position: \"end\",\n                          type: line.points[1],\n                          color: \"currentColor\",\n                          baseSize: 2\n                        }, null, 8, [\"id\", \"type\"]))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _createElementVNode(\"path\", {\n                    class: \"line-path\",\n                    d: line.path,\n                    stroke: \"currentColor\",\n                    fill: \"none\",\n                    \"stroke-width\": \"2\",\n                    \"stroke-dasharray\": line.style === 'solid' ? '0, 0' : '4, 1',\n                    \"marker-start\": line.points[0] ? `url(#${`preset-line-${i}-${j}`}-${line.points[0]}-start)` : '',\n                    \"marker-end\": line.points[1] ? `url(#${`preset-line-${i}-${j}`}-${line.points[1]}-end)` : ''\n                  }, null, 8, _hoisted_6)\n                ]))\n              ], 8, _hoisted_4)\n            ]))\n          }), 128))\n        ])\n      ]))\n    }), 128))\n  ]))\n}\n}\n\n})","import script from \"./LinePool.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LinePool.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LinePool.vue?vue&type=style&index=0&id=bca68faa&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-bca68faa\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3870b42e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"chart-pool\" }\nconst _hoisted_2 = [\"onClick\"]\n\nimport { PresetChartType } from '@/types/slides'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChartPool',\n  emits: [\"select\"],\n  setup(__props, { emit }) {\n\n\n\nconst chartList: PresetChartType[] = ['bar', 'horizontalBar', 'line', 'area', 'scatter', 'pie', 'ring']\n\nconst selectChart = (chart: PresetChartType) => {\n  emit('select', chart)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconChartLine = _resolveComponent(\"IconChartLine\")!\n  const _component_IconChartHistogram = _resolveComponent(\"IconChartHistogram\")!\n  const _component_IconChartPie = _resolveComponent(\"IconChartPie\")!\n  const _component_IconChartHistogramOne = _resolveComponent(\"IconChartHistogramOne\")!\n  const _component_IconChartLineArea = _resolveComponent(\"IconChartLineArea\")!\n  const _component_IconChartRing = _resolveComponent(\"IconChartRing\")!\n  const _component_IconChartScatter = _resolveComponent(\"IconChartScatter\")!\n\n  return (_openBlock(), _createElementBlock(\"ul\", _hoisted_1, [\n    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(chartList, (chart, index) => {\n      return _createElementVNode(\"li\", {\n        class: \"chart-item\",\n        key: index\n      }, [\n        _createElementVNode(\"div\", {\n          class: \"chart-content\",\n          onClick: ($event: any) => (selectChart(chart))\n        }, [\n          (chart === 'line')\n            ? (_openBlock(), _createBlock(_component_IconChartLine, {\n                key: 0,\n                size: \"24\"\n              }))\n            : (chart === 'bar')\n              ? (_openBlock(), _createBlock(_component_IconChartHistogram, {\n                  key: 1,\n                  size: \"24\"\n                }))\n              : (chart === 'pie')\n                ? (_openBlock(), _createBlock(_component_IconChartPie, {\n                    key: 2,\n                    size: \"24\"\n                  }))\n                : (chart === 'horizontalBar')\n                  ? (_openBlock(), _createBlock(_component_IconChartHistogramOne, {\n                      key: 3,\n                      size: \"24\"\n                    }))\n                  : (chart === 'area')\n                    ? (_openBlock(), _createBlock(_component_IconChartLineArea, {\n                        key: 4,\n                        size: \"24\"\n                      }))\n                    : (chart === 'ring')\n                      ? (_openBlock(), _createBlock(_component_IconChartRing, {\n                          key: 5,\n                          size: \"24\"\n                        }))\n                      : (chart === 'scatter')\n                        ? (_openBlock(), _createBlock(_component_IconChartScatter, {\n                            key: 6,\n                            size: \"24\"\n                          }))\n                        : _createCommentVNode(\"\", true)\n        ], 8, _hoisted_2)\n      ])\n    }), 64))\n  ]))\n}\n}\n\n})","import script from \"./ChartPool.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ChartPool.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ChartPool.vue?vue&type=style&index=0&id=3870b42e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3870b42e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, unref as _unref, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d63d6c66\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"table-generator\" }\nconst _hoisted_2 = { class: \"title\" }\nconst _hoisted_3 = { class: \"lef\" }\nconst _hoisted_4 = [\"onMouseenter\"]\nconst _hoisted_5 = {\n  key: 1,\n  class: \"custom\"\n}\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"label\",\n  style: {\"flex\":\"1\"}\n}, \"Number of rows:\", -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"label\",\n  style: {\"flex\":\"1\"}\n}, \"Number of columns:\", -1))\nconst _hoisted_10 = { class: \"btns\" }\n\nimport { ref } from 'vue'\nimport {\n  InputNumber,\n  Button,\n  message,\n} from 'ant-design-vue'\n\ninterface InsertData {\n  row: number\n  col: number\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TableGenerator',\n  emits: [\"insert\", \"close\"],\n  setup(__props, { emit }) {\n\n\n\nconst endCell = ref<number[]>([])\nconst customRow = ref(3)\nconst customCol = ref(3)\nconst isCustom = ref(false)\n\nconst handleClickTable = () => {\n  if (!endCell.value.length) return\n  const [row, col] = endCell. value\n  emit('insert', { row, col })\n}\n\nconst insertCustomTable = () => {\n  if (customRow.value < 1 || customRow.value > 20) return message.warning('The number of rows/columns must be between 0 and 20!')\n  if (customCol.value < 1 || customCol.value > 20) return message.warning('The number of rows/columns must be between 0 and 20!')\n  emit('insert', { row: customRow.value, col: customCol.value })\n  isCustom. value = false\n}\n\nconst close = () => {\n  emit('close')\n  isCustom. value = false\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, \"Table \" + _toDisplayString(endCell.value.length ? `${endCell.value[0]} x ${endCell.value[1]}` : ''), 1),\n      _createElementVNode(\"div\", {\n        class: \"right\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (isCustom.value = !isCustom.value))\n      }, _toDisplayString(isCustom.value ? 'return' : 'custom'), 1)\n    ]),\n    (!isCustom.value)\n      ? (_openBlock(), _createElementBlock(\"table\", {\n          key: 0,\n          onMouseleave: _cache[1] || (_cache[1] = ($event: any) => (endCell.value = [])),\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (handleClickTable()))\n        }, [\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(10, (row) => {\n              return _createElementVNode(\"tr\", { key: row }, [\n                (_openBlock(), _createElementBlock(_Fragment, null, _renderList(10, (col) => {\n                  return _createElementVNode(\"td\", {\n                    onMouseenter: ($event: any) => (endCell.value = [row, col]),\n                    key: col\n                  }, [\n                    _createElementVNode(\"div\", {\n                      class: _normalizeClass([\"cell\", { 'active': endCell.value.length && row <= endCell.value[0] && col <= endCell.value[1] }])\n                    }, null, 2)\n                  ], 40, _hoisted_4)\n                }), 64))\n              ])\n            }), 64))\n          ])\n        ], 32))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _hoisted_7,\n            _createVNode(_unref(InputNumber), {\n              min: 1,\n              max: 20,\n              value: customRow.value,\n              \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((customRow).value = $event)),\n              style: {\"flex\":\"3\"}\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_8, [\n            _hoisted_9,\n            _createVNode(_unref(InputNumber), {\n              min: 1,\n              max: 20,\n              value: customCol.value,\n              \"onUpdate:value\": _cache[4] || (_cache[4] = ($event: any) => ((customCol).value = $event)),\n              style: {\"flex\":\"3\"}\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_10, [\n            _createVNode(_unref(Button), {\n              class: \"btn\",\n              onClick: _cache[5] || (_cache[5] = ($event: any) => (close()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Cancel\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(Button), {\n              class: \"btn\",\n              type: \"primary\",\n              onClick: _cache[6] || (_cache[6] = ($event: any) => (insertCustomTable()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Confirm\")\n              ]),\n              _: 1\n            })\n          ])\n        ]))\n  ]))\n}\n}\n\n})","import script from \"./TableGenerator.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TableGenerator.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TableGenerator.vue?vue&type=style&index=0&id=d63d6c66&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d63d6c66\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-029f69be\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"media-input\" }\nconst _hoisted_2 = { class: \"tabs\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"btns\" }\nconst _hoisted_5 = { class: \"btns\" }\n\nimport { ref } from 'vue'\nimport {\n  Button,\n  Input,\n  message,\n} from 'ant-design-vue'\n\ntype TypeKey = 'video' | 'audio'\ninterface TabItem {\n  key: TypeKey\n  label: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MediaInput',\n  emits: [\"insertVideo\", \"insertAudio\", \"close\"],\n  setup(__props, { emit }) {\n\n\n\nconst type = ref<TypeKey>('video')\n\nconst videoSrc = ref('https://mazwai.com/video_files/video/free/2019-01/small_watermarked/181004_04_Dolphins-Whale_06_preview.webm')\nconst audioSrc = ref('https://freesound.org/data/previews/614/614107_11861866-lq.mp3')\n\nconst tabs: TabItem[] = [\n  { key: 'video', label: 'video' },\n  { key: 'audio', label: 'audio' },\n]\n\nconst insertVideo = () => {\n  if (!videoSrc.value) return message.error('Please enter the correct video address first')\n  emit('insertVideo', videoSrc. value)\n}\n\nconst insertAudio = () => {\n  if (!audioSrc.value) return message.error('Please enter the correct audio address first')\n  emit('insertAudio', audioSrc. value)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(tabs, (tab) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass([\"tab\", { 'active': type.value === tab.key }]),\n          key: tab.key,\n          onClick: ($event: any) => (type.value = tab.key)\n        }, _toDisplayString(tab.label), 11, _hoisted_3)\n      }), 64))\n    ]),\n    (type.value === 'video')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createVNode(_unref(Input), {\n            value: videoSrc.value,\n            \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((videoSrc).value = $event)),\n            placeholder: \"Please enter the video address, e.g. https://xxx.mp4\"\n          }, null, 8, [\"value\"]),\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(_unref(Button), {\n              onClick: _cache[1] || (_cache[1] = ($event: any) => (emit('close'))),\n              style: {\"margin-right\":\"10px\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Cancel\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(Button), {\n              type: \"primary\",\n              onClick: _cache[2] || (_cache[2] = ($event: any) => (insertVideo()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Confirm\")\n              ]),\n              _: 1\n            })\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    (type.value === 'audio')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          _createVNode(_unref(Input), {\n            value: audioSrc.value,\n            \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((audioSrc).value = $event)),\n            placeholder: \"Please enter the audio address, e.g. https://xxx.mp3\"\n          }, null, 8, [\"value\"]),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createVNode(_unref(Button), {\n              onClick: _cache[4] || (_cache[4] = ($event: any) => (emit('close'))),\n              style: {\"margin-right\":\"10px\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Cancel\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(Button), {\n              type: \"primary\",\n              onClick: _cache[5] || (_cache[5] = ($event: any) => (insertAudio()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Confirm\")\n              ]),\n              _: 1\n            })\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./MediaInput.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MediaInput.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MediaInput.vue?vue&type=style&index=0&id=029f69be&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-029f69be\"]])\n\nexport default __exports__","import { hfmath, CONFIG as hfmathConfig } from 'hfmath'\n\nhfmathConfig.SUB_SUP_SCALE = 0.5\n\nexport { hfmath }","export const FORMULA_LIST = [\n  {\n    label: 'Gauss formula',\n    latex: `\\\\int\\\\int\\\\int _ { \\\\Omega } \\\\left( \\\\frac { \\\\partial {P} } { \\\\partial {x} } + \\\\frac { \\\\partial { Q} } { \\\\partial {y} } + \\\\frac { \\\\partial {R} }{ \\\\partial {z} } \\\\right) \\\\mathrm { d } V = \\\\oint _ { \\\\ partial \\\\Omega } ( P \\\\cos \\\\alpha + Q \\\\cos \\\\beta + R \\\\cos \\\\gamma ) \\\\mathrm{ d} S`\n  },\n  {\n    label: 'Fourier series',\n    latex: `f(x) = \\\\frac {a_0} 2 + \\\\sum_{n = 1}^\\\\infty {({a_n}\\\\cos {nx} + {b_n}\\\\sin {nx}) }`,\n  },\n  {\n    label: 'Taylor expansion',\n    latex: `e ^ { x } = 1 + \\\\frac { x } { 1 ! } + \\\\frac { x ^ { 2 } } { 2 ! } + \\\\frac { x ^ { 3 } } { 3 ! } + ... , \\\\quad - \\\\infty < x < \\\\infty`,\n  },\n  {\n    label: 'Definite integral',\n    latex: `\\\\lim_ { n \\\\rightarrow + \\\\infty } \\\\sum _ { i = 1 } ^ { n } f \\\\left[ a + \\\\frac { i } { n } ( b - a ) \\\\right] \\\\frac { b - a } { n } = \\\\int _ { a } ^ { b } f ( x ) dx`,\n  },\n  {\n    label: 'trigonometric identity 1',\n    latex: `\\\\sin \\\\alpha \\\\pm \\\\sin \\\\beta = 2 \\\\sin \\\\frac { 1 } { 2 } ( \\\\alpha \\\\pm \\\\beta ) \\\\cos \\\\frac { 1 } { 2 } ( \\\\alpha \\\\mp \\\\beta )`,\n  },\n  {\n    label: 'trigonometric identity 2',\n    latex: `\\\\cos \\\\alpha + \\\\cos \\\\beta = 2 \\\\cos \\\\frac { 1 } { 2 } ( \\\\alpha + \\\\beta ) \\\\cos \\\\frac { 1 } { 2 } ( \\\\alpha - \\\\beta )`,\n  },\n  {\n    label: 'expansion of sum',\n    latex: `( 1 + x ) ^ { n } = 1 + \\\\frac { n x } { 1 ! } + \\\\frac { n ( n - 1 ) x ^ { 2 } } { 2 ! } + ... `,\n  },\n  {\n    label: 'Euler\\'s formula',\n    latex: `e^{ix} = \\\\cos {x} + i\\\\sin {x}`,\n  },\n  {\n    label: 'Bernoulli equation',\n    latex: `\\\\frac {dy} {dx} + P(x)y = Q(x) y^n ({n} \\\\not= {0,1})`,\n  },\n  {\n    label: 'full differential equation',\n    latex: `du(x,y) = P(x,y)dx + Q(x,y)dy = 0`,\n  },\n  {\n    label: 'Non-homogeneous equation',\n    latex: `y = (\\\\int Q(x) e^{\\\\int {P(x)dx}}dx + C)e^{-\\\\int {P(x)dx}}`,\n  },\n  {\n    label: 'Cauchy mean value theorem',\n    latex: `\\\\frac{{f(b) - f(a)}}{{F(b) - F(a)}} = \\\\frac{{f'(\\\\xi )}}{{F '(\\\\xi )}}`,\n  },\n  {\n    label: 'Lagrange mean value theorem',\n    latex: `f(b) - f(a) = f'(\\\\xi )(b - a)`,\n  },\n  {\n    label: 'Derivative formula',\n    latex: `(\\\\arcsin x)' = \\\\frac{1}{{\\\\sqrt {1 - x^2} }}`,\n  },\n  {\n    label: 'Trigonometric Integral',\n    latex: `\\\\int {tgxdx = - \\\\ln \\\\left| {\\\\cos x} \\\\right| + C}`,\n  },\n  {\n    label: 'quadratic surface',\n    latex: `\\\\frac{{{x^2}}}{{{a^2}}} + \\\\frac{{{y^2}}}{{{b^2}}} - \\\\frac {{{z^2}}}{{{c^2}}} = 1`,\n  },\n  {\n    label: 'Second order differential',\n    latex: `\\\\frac {{d^2}y} {dx^2} + P(x) \\\\frac {dy} {dx} + Q(x)y = f(x)`,\n  },\n  {\n    label: 'direction derivative',\n    latex: `\\\\frac{{\\\\partial f}}{{\\\\partial l}} = \\\\frac{{\\\\partial f}}{{\\\\partial x}}\\\\cos \\\\phi + \\ \\frac{{\\\\partial f}}{{\\\\partial y}}\\\\sin \\\\phi`,\n  },\n]\n\nexport const SYMBOL_LIST = [\n  {\n    type: 'operators',\n    label: 'Mathematics',\n    children: [\n      { latex: '\\\\cdot' },\n      { latex: '\\\\pm' },\n      { latex: '\\\\mp' },\n      { latex: '+' },\n      { latex: '-' },\n      { latex: '\\\\times' },\n      { latex: '\\\\div' },\n      { latex: '<' },\n      { latex: '>' },\n      { latex: '=' },\n      { latex: '\\\\neq\\\\ne' },\n      { latex: '\\\\leqq' },\n      { latex: '\\\\geqq' },\n      { latex: '\\\\leq' },\n      { latex: '\\\\geq' },\n      { latex: '\\\\propto' },\n      { latex: '\\\\sim' },\n      { latex: '\\\\equiv' },\n      { latex: '\\\\dagger' },\n      { latex: '\\\\ddagger' },\n      { latex: '\\\\ell' },\n      { latex: '\\\\#' },\n      { latex: '\\\\$' },\n      { latex: '\\\\&' },\n      { latex: '\\\\%' },\n      { latex: '\\\\langle\\\\rangle' },\n      { latex: '()' },\n      { latex: '[]' },\n      { latex: '\\\\{\\\\}' },\n      { latex: '||' },\n      { latex: '\\\\|' },\n      { latex: '\\\\exists' },\n      { latex: '\\\\in' },\n      { latex: '\\\\subset' },\n      { latex: '\\\\supset' },\n      { latex: '\\\\cup' },\n      { latex: '\\\\cap' },\n      { latex: '\\\\infty' },\n      { latex: '\\\\partial' },\n      { latex: '\\\\nabla' },\n      { latex: '\\\\aleph' },\n      { latex: '\\\\wp' },\n      { latex: '\\\\therefore' },\n      { latex: '\\\\mid' },\n      { latex: '\\\\sum' },\n      { latex: '\\\\prod' },\n      { latex: '\\\\bigoplus' },\n      { latex: '\\\\bigodot' },\n      { latex: '\\\\int' },\n      { latex: '\\\\oint' },\n      { latex: '\\\\oplus' },\n      { latex: '\\\\odot' },\n      { latex: '\\\\perp' },\n      { latex: '\\\\angle' },\n      { latex: '\\\\triangle' },\n      { latex: '\\\\Box' },\n      { latex: '\\\\rightarrow' },\n      { latex: '\\\\to' },\n      { latex: '\\\\leftarrow' },\n      { latex: '\\\\gets' },\n      { latex: '\\\\circ' },\n      { latex: '\\\\bigcirc' },\n      { latex: '\\\\bullet' },\n      { latex: '\\\\star' },\n      { latex: '\\\\diamond' },\n      { latex: '\\\\ast' },\n      { latex: ',' },\n      { latex: '.' },\n      { latex: ';' },\n      { latex: '!' },\n    ],\n  },\n  {\n    type: 'group',\n    label: 'combination',\n    children: [\n      { latex: '\\\\frac{a}{b}' },\n      { latex: '\\\\frac{dx}{dx}' },\n      { latex: '\\\\frac{\\\\partial a}{\\\\partial b}' },\n      { latex: '\\\\sqrt{x}' },\n      { latex: '\\\\sqrt[n]{x}' },\n      { latex: 'x^{n}' },\n      { latex: 'x_{n}' },\n      { latex: 'x_a^b' },\n      { latex: '\\\\int_{a}^{b}' },\n      { latex: '\\\\oint_a^b' },\n      { latex: '\\\\lim_{a \\\\rightarrow b}' },\n      { latex: '\\\\prod_a^b' },\n      { latex: '\\\\sum_a^b' },\n      { latex: '\\\\left(\\\\begin{array}a \\\\\\\\ b\\\\end{array}\\\\right)' },\n      { latex: '\\\\begin{bmatrix}a & b \\\\\\\\ c & d \\\\end{bmatrix}' },\n      { latex: '\\\\begin{cases}a & x = 0 \\\\\\\\ b & x > 0\\\\end{cases}' },\n      { latex: '\\\\hat{a}' },\n      { latex: '\\\\breve{a}' },\n      { latex: '\\\\acute{a}' },\n      { latex: '\\\\grave{a}' },\n      { latex: '\\\\tilde{a}' },\n      { latex: '\\\\bar{a}' },\n      { latex: '\\\\vec{a}' },\n      { latex: '\\\\underline{a}' },\n      { latex: '\\\\overline{a}' },\n      { latex: '\\\\widehat{ab}' },\n      { latex: '\\\\overleftarrow{ab}' },\n      { latex: '\\\\overrightarrow{ab}' },\n    ],\n  },\n  {\n    type: 'verbatim',\n    label: 'function',\n    children: [\n      { latex: '\\\\log' },\n      { latex: '\\\\ln' },\n      { latex: '\\\\exp' },\n      { latex: '\\\\mod' },\n      { latex: '\\\\lim' },\n      { latex: '\\\\sin' },\n      { latex: '\\\\cos' },\n      { latex: '\\\\tan' },\n      { latex: '\\\\csc' },\n      { latex: '\\\\sec' },\n      { latex: '\\\\cot' },\n      { latex: '\\\\sinh' },\n      { latex: '\\\\cosh' },\n      { latex: '\\\\tanh' },\n      { latex: '\\\\csch' },\n      { latex: '\\\\sech' },\n      { latex: '\\\\coth' },\n      { latex: '\\\\arcsin' },\n      { latex: '\\\\arccos' },\n      { latex: '\\\\arctan' },\n      { latex: '\\\\arccsc' },\n      { latex: '\\\\arcsec' },\n      { latex: '\\\\arccot' },\n    ],\n  },\n  {\n    type: 'greek',\n    label: 'Greek letters',\n    children: [\n      { latex: '\\\\alpha' },\n      { latex: '\\\\beta' },\n      { latex: '\\\\gamma' },\n      { latex: '\\\\delta' },\n      { latex: '\\\\varepsilon' },\n      { latex: '\\\\zeta' },\n      { latex: '\\\\eta' },\n      { latex: '\\\\vartheta' },\n      { latex: '\\\\iota' },\n      { latex: '\\\\kappa' },\n      { latex: '\\\\lambda' },\n      { latex: '\\\\mu' },\n      { latex: '\\\\nu' },\n      { latex: '\\\\xi' },\n      { latex: '\\\\omicron' },\n      { latex: '\\\\pi' },\n      { latex: '\\\\rho' },\n      { latex: '\\\\sigma' },\n      { latex: '\\\\tau' },\n      { latex: '\\\\upsilon' },\n      { latex: '\\\\varphi' },\n      { latex: '\\\\chi' },\n      { latex: '\\\\psi' },\n      { latex: '\\\\omega' },\n      { latex: '\\\\epsilon' },\n      { latex: '\\\\theta' },\n      { latex: '\\\\phi' },\n      { latex: '\\\\varsigma' },\n      { latex: '\\\\Alpha' },\n      { latex: '\\\\Beta' },\n      { latex: '\\\\Gamma' },\n      { latex: '\\\\Delta' },\n      { latex: '\\\\Epsilon' },\n      { latex: '\\\\Zeta' },\n      { latex: '\\\\Eta' },\n      { latex: '\\\\Theta' },\n      { latex: '\\\\Iota' },\n      { latex: '\\\\Kappa' },\n      { latex: '\\\\Lambda' },\n      { latex: '\\\\Mu' },\n      { latex: '\\\\Nu' },\n      { latex: '\\\\Xi' },\n      { latex: '\\\\Omicron' },\n      { latex: '\\\\Pi' },\n      { latex: '\\\\Rho' },\n      { latex: '\\\\Sigma' },\n      { latex: '\\\\Tau' },\n      { latex: '\\\\Upsilon' },\n      { latex: '\\\\Phi' },\n      { latex: '\\\\Chi' },\n      { latex: '\\\\Psi' },\n      { latex: '\\\\Omega' },\n    ],\n  },\n]","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1c41d9fe\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"width\", \"height\"]\nconst _hoisted_2 = [\"transform\"]\nconst _hoisted_3 = [\"d\"]\n\nimport { computed, ref, watch } from 'vue'\nimport { hfmath } from './hfmath'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FormulaContent',\n  props: {\n  latex: {\n    type: String,\n    required: true,\n  },\n  width: {\n    type: Number,\n    required: true,\n  },\n  height: {\n    type: Number,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst box = ref({ x: 0, y: 0, w: 0, h: 0 })\nconst pathd = ref('')\n\nwatch(() => props.latex, () => {\n  const eq = new hfmath(props.latex)\n  pathd.value = eq.pathd({})\n  box.value = eq.box({})\n}, { immediate: true })\n\nconst scale = computed(() => {\n  const boxW = box.value.w + 32\n  const boxH = box.value.h + 32\n\n  if (boxW > props.width || boxH > props.height) {\n    if (boxW / boxH > props.width / props.height) return props.width / boxW\n    return props.height / boxH\n  }\n  return 1\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    class: \"formula-content\",\n    overflow: \"visible\",\n    width: box.value.w + 32,\n    height: box.value.h + 32,\n    stroke: \"#000\",\n    \"stroke-width\": \"1\",\n    fill: \"none\",\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\"\n  }, [\n    _createElementVNode(\"g\", {\n      transform: `scale(${scale.value}, ${scale.value}) translate(0,0) matrix(1,0,0,1,0,0)`,\n      \"transform-origin\": \"0 50%\"\n    }, [\n      _createElementVNode(\"path\", { d: pathd.value }, null, 8, _hoisted_3)\n    ], 8, _hoisted_2)\n  ], 8, _hoisted_1))\n}\n}\n\n})","import script from \"./FormulaContent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FormulaContent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FormulaContent.vue?vue&type=style&index=0&id=1c41d9fe&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1c41d9fe\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"innerHTML\"]\n\nimport { computed } from 'vue'\nimport { hfmath } from './hfmath'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SymbolContent',\n  props: {\n  latex: {\n    type: String,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst svg = computed(() => {\n  const eq = new hfmath(props.latex)\n  return eq.svg({\n    SCALE_X: 10,\n    SCALE_Y: 10,\n  })\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"symbol-content\",\n    innerHTML: svg.value\n  }, null, 8, _hoisted_1))\n}\n}\n\n})","import script from \"./SymbolContent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SymbolContent.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-57233774\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"latex-editor\" }\nconst _hoisted_2 = { class: \"container\" }\nconst _hoisted_3 = { class: \"left\" }\nconst _hoisted_4 = { class: \"input-area\" }\nconst _hoisted_5 = { class: \"preview\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"placeholder\"\n}\nconst _hoisted_7 = {\n  key: 1,\n  class: \"preview-content\"\n}\nconst _hoisted_8 = { class: \"right\" }\nconst _hoisted_9 = { class: \"tabs\" }\nconst _hoisted_10 = [\"onClick\"]\nconst _hoisted_11 = { class: \"content\" }\nconst _hoisted_12 = {\n  key: 0,\n  class: \"symbol\"\n}\nconst _hoisted_13 = { class: \"symbol-tabs\" }\nconst _hoisted_14 = [\"onClick\"]\nconst _hoisted_15 = { class: \"symbol-pool\" }\nconst _hoisted_16 = [\"onClick\"]\nconst _hoisted_17 = {\n  key: 1,\n  class: \"formula\"\n}\nconst _hoisted_18 = { class: \"formula-title\" }\nconst _hoisted_19 = [\"onClick\"]\nconst _hoisted_20 = { class: \"footer\" }\n\nimport { computed, onMounted, ref } from 'vue'\nimport { hfmath } from './hfmath'\nimport { FORMULA_LIST, SYMBOL_LIST } from '@/configs/latex'\n\nimport FormulaContent from './FormulaContent.vue'\nimport SymbolContent from './SymbolContent.vue'\n\nimport {\n  Button,\n  Input,\n  message,\n} from 'ant-design-vue'\ninterface Tab {\n  label: string\n  value: 'symbol' | 'formula'\n}\n\ninterface LatexResult {\n  latex: string\n  path: string\n  w: number\n  h: number\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  value: {\n    type: String,\n    default: '',\n  },\n},\n  emits: [\"update\", \"close\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\nconst TextArea = Input. TextArea\n\nconst tabs: Tab[] = [\n  { label: 'Common symbols', value: 'symbol' },\n  { label: 'preset formula', value: 'formula' },\n]\n\n\n\n\n\nconst formulaList = FORMULA_LIST\nconst symbolList = SYMBOL_LIST\n\nconst latex = ref('')\nconst toolbarState = ref<'symbol' | 'formula'>('symbol')\nconst textAreaRef = ref<HTMLTextAreaElement>()\n\nconst selectedSymbolKey = ref(SYMBOL_LIST[0].type)\nconst symbolPool = computed(() => {\n  const selectedSymbol = SYMBOL_LIST.find(item => item.type === selectedSymbolKey.value)\n  return selectedSymbol?.children || []\n})\n\nonMounted(() => {\n  if (props.value) latex.value = props.value\n})\n\nconst update = () => {\n  if (!latex.value) return message.error('The formula cannot be empty')\n\n  const eq = new hfmath(latex. value)\n  const pathd = eq. pathd({})\n  const box = eq. box({})\n \n  emit('update', {\n    latex: latex. value,\n    path: pathd,\n    w: box. w + 32,\n    h: box.h + 32,\n  })\n}\n\nconst insertSymbol = (latex: string) => {\n  if (!textAreaRef.value) return\n  textAreaRef. value. focus()\n  document.execCommand('insertText', false, latex)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_unref(TextArea), {\n            value: latex.value,\n            \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((latex).value = $event)),\n            placeholder: \"Enter LaTeX formula\",\n            ref_key: \"textAreaRef\",\n            ref: textAreaRef\n          }, null, 8, [\"value\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          (!latex.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \"formula preview\"))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                _createVNode(FormulaContent, {\n                  width: 518,\n                  height: 138,\n                  latex: latex.value\n                }, null, 8, [\"latex\"])\n              ]))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createElementVNode(\"div\", _hoisted_9, [\n          (_openBlock(), _createElementBlock(_Fragment, null, _renderList(tabs, (tab) => {\n            return _createElementVNode(\"div\", {\n              class: _normalizeClass([\"tab\", { 'active': tab. value === toolbarState.value }]),\n              key: tab.value,\n              onClick: ($event: any) => (toolbarState.value = tab. value)\n            }, _toDisplayString(tab.label), 11, _hoisted_10)\n          }), 64))\n        ]),\n        _createElementVNode(\"div\", _hoisted_11, [\n          (toolbarState.value === 'symbol')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                _createElementVNode(\"div\", _hoisted_13, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(symbolList), (group) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      class: _normalizeClass([\"symbol-tab\", { 'active': selectedSymbolKey.value === group.type }]),\n                      key: group.type,\n                      onClick: ($event: any) => (selectedSymbolKey.value = group.type)\n                    }, _toDisplayString(group.label), 11, _hoisted_14))\n                  }), 128))\n                ]),\n                _createElementVNode(\"div\", _hoisted_15, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(symbolPool.value, (item) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      class: \"symbol-item\",\n                      key: item.latex,\n                      onClick: ($event: any) => (insertSymbol(item.latex))\n                    }, [\n                      _createVNode(SymbolContent, {\n                        latex: item.latex\n                      }, null, 8, [\"latex\"])\n                    ], 8, _hoisted_16))\n                  }), 128))\n                ])\n              ]))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(formulaList), (item) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    class: \"formula-item\",\n                    key: item.label\n                  }, [\n                    _createElementVNode(\"div\", _hoisted_18, _toDisplayString(item.label), 1),\n                    _createElementVNode(\"div\", {\n                      class: \"formula-item-content\",\n                      onClick: ($event: any) => (latex.value =item.latex)\n                    }, [\n                      _createVNode(FormulaContent, {\n                        width: 236,\n                        height: 60,\n                        latex: item.latex\n                      }, null, 8, [\"latex\"])\n                    ], 8, _hoisted_19)\n                  ]))\n                }), 128))\n              ]))\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_20, [\n      _createVNode(_unref(Button), {\n        class: \"btn\",\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Cancel\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Button), {\n        class: \"btn\",\n        type: \"primary\",\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (update()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"OK\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=57233774&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-57233774\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c33468b2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"canvas-tool\" }\nconst _hoisted_2 = { class: \"left-handler\" }\nconst _hoisted_3 = { class: \"add-element-handler\" }\nconst _hoisted_4 = { class: \"handler-item group-btn\" }\nconst _hoisted_5 = { class: \"right-handler\" }\nconst _hoisted_6 = { class: \"viewport-size-preset\" }\nconst _hoisted_7 = [\"onClick\"]\nconst _hoisted_8 = { class: \"text\" }\n\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSnapshotStore } from '@/store'\nimport { getImageDataURL } from '@/utils/image'\nimport { ShapePoolItem } from '@/configs/shapes'\nimport { LinePoolItem } from '@/configs/lines'\nimport useScaleCanvas from '@/hooks/useScaleCanvas'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useCreateElement from '@/hooks/useCreateElement'\n\nimport ShapePool from './ShapePool.vue'\nimport LinePool from './LinePool.vue'\nimport ChartPool from './ChartPool.vue'\nimport TableGenerator from './TableGenerator.vue'\nimport MediaInput from './MediaInput.vue'\nimport LaTeXEditor from '@/components/LaTeXEditor/index.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport {\n  Tooltip,\n  Popover,\n  Modal,\n} from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst { creatingElement } = storeToRefs(mainStore)\nconst { canUndo, canRedo } = storeToRefs(useSnapshotStore())\n\nconst { redo, undo } = useHistorySnapshot()\n\nconst {\n  scaleCanvas,\n  setCanvasScalePercentage,\n  resetCanvas,\n  canvasScalePercentage,\n} = useScaleCanvas()\n\nconst canvasScalePresetList = [200, 150, 100, 80, 50]\nconst canvasScaleVisible = ref(false)\n\nconst applyCanvasPresetScale = (value: number) => {\n  setCanvasScalePercentage(value)\n  canvasScaleVisible.value = false\n}\n\nconst {\n  createImageElement,\n  createChartElement,\n  createTableElement,\n  createLatexElement,\n  createVideoElement,\n  createAudioElement,\n} = useCreateElement()\n\nconst insertImageElement = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then(dataURL => createImageElement(dataURL))\n}\n\nconst shapePoolVisible = ref(false)\nconst linePoolVisible = ref(false)\nconst chartPoolVisible = ref(false)\nconst tableGeneratorVisible = ref(false)\nconst mediaInputVisible = ref(false)\nconst latexEditorVisible = ref(false)\nconst textTypeSelectVisible = ref(false)\n\n// 绘制文字范围\nconst drawText = (vertical = false) => {\n  mainStore.setCreatingElement({\n    type: 'text',\n    vertical,\n  })\n}\n\n// 绘制形状范围\nconst drawShape = (shape: ShapePoolItem) => {\n  mainStore.setCreatingElement({\n    type: 'shape',\n    data: shape,\n  })\n  shapePoolVisible.value = false\n}\n\n// 绘制线条路径\nconst drawLine = (line: LinePoolItem) => {\n  mainStore.setCreatingElement({\n    type: 'line',\n    data: line,\n  })\n  linePoolVisible.value = false\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconBack = _resolveComponent(\"IconBack\")!\n  const _component_IconNext = _resolveComponent(\"IconNext\")!\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconTextRotationNone = _resolveComponent(\"IconTextRotationNone\")!\n  const _component_IconTextRotationDown = _resolveComponent(\"IconTextRotationDown\")!\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconPicture = _resolveComponent(\"IconPicture\")!\n  const _component_IconGraphicDesign = _resolveComponent(\"IconGraphicDesign\")!\n  const _component_IconConnection = _resolveComponent(\"IconConnection\")!\n  const _component_IconChartProportion = _resolveComponent(\"IconChartProportion\")!\n  const _component_IconInsertTable = _resolveComponent(\"IconInsertTable\")!\n  const _component_IconFormula = _resolveComponent(\"IconFormula\")!\n  const _component_IconVideoTwo = _resolveComponent(\"IconVideoTwo\")!\n  const _component_IconMinus = _resolveComponent(\"IconMinus\")!\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n  const _component_IconFullScreen = _resolveComponent(\"IconFullScreen\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_unref(Tooltip), {\n        mouseLeaveDelay: 0,\n        mouseEnterDelay: 0.5,\n        title: \"Cancel\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_IconBack, {\n            class: _normalizeClass([\"handler-item\", { 'disable': !_unref(canUndo) }]),\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(undo)()))\n          }, null, 8, [\"class\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Tooltip), {\n        mouseLeaveDelay: 0,\n        mouseEnterDelay: 0.5,\n        title: \"Redo\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_IconNext, {\n            class: _normalizeClass([\"handler-item\", { 'disable': !_unref(canRedo) }]),\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_unref(redo)()))\n          }, null, 8, [\"class\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_unref(Tooltip), {\n        mouseLeaveDelay: 0,\n        mouseEnterDelay: 0.5,\n        title: \"Insert text\"\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(_component_IconFontSize, {\n              class: _normalizeClass([\"icon\", { 'active': _unref(creatingElement)?.type === 'text' }]),\n              onClick: _cache[2] || (_cache[2] = ($event: any) => (drawText()))\n            }, null, 8, [\"class\"]),\n            _createVNode(_unref(Popover), {\n              trigger: \"click\",\n              visible: textTypeSelectVisible.value,\n              \"onUpdate:visible\": _cache[5] || (_cache[5] = ($event: any) => ((textTypeSelectVisible).value = $event))\n            }, {\n              content: _withCtx(() => [\n                _createElementVNode(\"div\", {\n                  class: \"text-type-item\",\n                  onClick: _cache[3] || (_cache[3] = () => { drawText(); textTypeSelectVisible.value = false })\n                }, [\n                  _createVNode(_component_IconTextRotationNone),\n                  _createTextVNode(\" horizontal text box\")\n                ]),\n                _createElementVNode(\"div\", {\n                  class: \"text-type-item\",\n                  onClick: _cache[4] || (_cache[4] = () => { drawText(true); textTypeSelectVisible.value = false })\n                }, [\n                  _createVNode(_component_IconTextRotationDown),\n                  _createTextVNode(\" vertical text box\")\n                ])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(_component_IconDown, { class: \"arrow\" })\n              ]),\n              _: 1\n            }, 8, [\"visible\"])\n          ])\n        ]),\n        _: 1\n      }),\n      _createVNode(FileInput, {\n        onChange: _cache[6] || (_cache[6] = files => insertImageElement(files))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(Tooltip), {\n            mouseLeaveDelay: 0,\n            mouseEnterDelay: 0.5,\n            title: \"Insert picture\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconPicture, { class: \"handler-item\" })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Popover), {\n        trigger: \"click\",\n        visible: shapePoolVisible.value,\n        \"onUpdate:visible\": _cache[8] || (_cache[8] = ($event: any) => ((shapePoolVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ShapePool, {\n            onSelect: _cache[7] || (_cache[7] = shape => drawShape(shape))\n          })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_unref(Tooltip), {\n            mouseLeaveDelay: 0,\n            mouseEnterDelay: 0.5,\n            title: \"Insert Shape\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconGraphicDesign, {\n                class: _normalizeClass([\"handler-item\", { 'active': _unref(creatingElement)?.type === 'shape' }])\n              }, null, 8, [\"class\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"visible\"]),\n      _createVNode(_unref(Popover), {\n        trigger: \"click\",\n        visible: linePoolVisible.value,\n        \"onUpdate:visible\": _cache[10] || (_cache[10] = ($event: any) => ((linePoolVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(LinePool, {\n            onSelect: _cache[9] || (_cache[9] = line => drawLine(line))\n          })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_unref(Tooltip), {\n            mouseLeaveDelay: 0,\n            mouseEnterDelay: 0.5,\n            title: \"Insert Line\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconConnection, {\n                class: _normalizeClass([\"handler-item\", { 'active': _unref(creatingElement)?.type === 'line' }])\n              }, null, 8, [\"class\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"visible\"]),\n      _createVNode(_unref(Popover), {\n        trigger: \"click\",\n        visible: chartPoolVisible.value,\n        \"onUpdate:visible\": _cache[12] || (_cache[12] = ($event: any) => ((chartPoolVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(ChartPool, {\n            onSelect: _cache[11] || (_cache[11] = chart => { _unref(createChartElement)(chart); chartPoolVisible.value = false })\n          })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_unref(Tooltip), {\n            mouseLeaveDelay: 0,\n            mouseEnterDelay: 0.5,\n            title: \"Insert Chart\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconChartProportion, { class: \"handler-item\" })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"visible\"]),\n      _createVNode(_unref(Popover), {\n        trigger: \"click\",\n        visible: tableGeneratorVisible.value,\n        \"onUpdate:visible\": _cache[15] || (_cache[15] = ($event: any) => ((tableGeneratorVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(TableGenerator, {\n            onClose: _cache[13] || (_cache[13] = ($event: any) => (tableGeneratorVisible.value = false)),\n            onInsert: _cache[14] || (_cache[14] = ({ row, col }) => { _unref(createTableElement)(row, col); tableGeneratorVisible.value = false })\n          })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_unref(Tooltip), {\n            mouseLeaveDelay: 0,\n            mouseEnterDelay: 0.5,\n            title: \"Insert Form\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconInsertTable, { class: \"handler-item\" })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"visible\"]),\n      _createVNode(_unref(Tooltip), {\n        mouseLeaveDelay: 0,\n        mouseEnterDelay: 0.5,\n        title: \"Insert formula\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_IconFormula, {\n            class: \"handler-item\",\n            onClick: _cache[16] || (_cache[16] = ($event: any) => (latexEditorVisible.value = true))\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Popover), {\n        trigger: \"click\",\n        visible: mediaInputVisible.value,\n        \"onUpdate:visible\": _cache[20] || (_cache[20] = ($event: any) => ((mediaInputVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(MediaInput, {\n            onClose: _cache[17] || (_cache[17] = ($event: any) => (mediaInputVisible.value = false)),\n            onInsertVideo: _cache[18] || (_cache[18] = src => { _unref(createVideoElement)(src); mediaInputVisible.value = false }),\n            onInsertAudio: _cache[19] || (_cache[19] = src => { _unref(createAudioElement)(src); mediaInputVisible.value = false })\n          })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_unref(Tooltip), {\n            mouseLeaveDelay: 0,\n            mouseEnterDelay: 0.5,\n            title: \"Insert audio and video\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconVideoTwo, { class: \"handler-item\" })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"visible\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createVNode(_component_IconMinus, {\n        class: \"handler-item viewport-size\",\n        onClick: _cache[21] || (_cache[21] = ($event: any) => (_unref(scaleCanvas)('-')))\n      }),\n      _createVNode(_unref(Popover), {\n        trigger: \"click\",\n        visible: canvasScaleVisible.value,\n        \"onUpdate:visible\": _cache[22] || (_cache[22] = ($event: any) => ((canvasScaleVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_6, [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(canvasScalePresetList, (item) => {\n              return _createElementVNode(\"div\", {\n                class: \"preset-item\",\n                key: item,\n                onClick: ($event: any) => (applyCanvasPresetScale(item))\n              }, _toDisplayString(item) + \"%\", 9, _hoisted_7)\n            }), 64))\n          ])\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"span\", _hoisted_8, _toDisplayString(_unref(canvasScalePercentage)), 1)\n        ]),\n        _: 1\n      }, 8, [\"visible\"]),\n      _createVNode(_component_IconPlus, {\n        class: \"handler-item viewport-size\",\n        onClick: _cache[23] || (_cache[23] = ($event: any) => (_unref(scaleCanvas)('+')))\n      }),\n      _createVNode(_unref(Tooltip), {\n        mouseLeaveDelay: 0,\n        mouseEnterDelay: 0.5,\n        title: \"Fit to screen\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_IconFullScreen, {\n            class: \"handler-item viewport-size-adaptation\",\n            onClick: _cache[24] || (_cache[24] = ($event: any) => (_unref(resetCanvas)()))\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_unref(Modal), {\n      visible: latexEditorVisible.value,\n      \"onUpdate:visible\": _cache[27] || (_cache[27] = ($event: any) => ((latexEditorVisible).value = $event)),\n      footer: null,\n      centered: \"\",\n      width: 880,\n      destroyOnClose: \"\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(LaTeXEditor, {\n          onClose: _cache[25] || (_cache[25] = ($event: any) => (latexEditorVisible.value = false)),\n          onUpdate: _cache[26] || (_cache[26] = data => { _unref(createLatexElement)(data); latexEditorVisible.value = false })\n        })\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=c33468b2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c33468b2\"]])\n\nexport default __exports__","import { ref, onMounted, onUnmounted } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\n\nexport default () => {\n  const { slides } = storeToRefs(useSlidesStore())\n\n  const timer = ref<number | null>(null)\n  const slidesLoadLimit = ref(50)\n\n  const loadSlide = () => {\n    if (slides.value.length > slidesLoadLimit.value) {\n      timer.value = setTimeout(() => {\n        slidesLoadLimit.value = slidesLoadLimit.value + 20\n        loadSlide()\n      }, 600)\n    }\n    else slidesLoadLimit.value = 9999\n  }\n\n  onMounted(loadSlide)\n\n  onUnmounted(() => {\n    if (timer.value) clearTimeout(timer.value)\n  })\n\n  return {\n    slidesLoadLimit,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-cc6b7dca\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"layout-pool\" }\nconst _hoisted_2 = [\"onClick\"]\n\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { Slide } from '@/types/slides'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LayoutPool',\n  emits: [\"select\"],\n  setup(__props, { emit }) {\n\n\n\nconst { layouts } = storeToRefs(useSlidesStore())\n\nconst selectSlideTemplate = (slide: Slide) => {\n  emit('select', slide)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(layouts), (slide) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"layout-item\",\n        key: slide.id,\n        onClick: ($event: any) => (selectSlideTemplate(slide))\n      }, [\n        _createVNode(ThumbnailSlide, {\n          class: \"thumbnail\",\n          slide: slide,\n          size: 180\n        }, null, 8, [\"slide\"])\n      ], 8, _hoisted_2))\n    }), 128))\n  ]))\n}\n}\n\n})","import script from \"./LayoutPool.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LayoutPool.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LayoutPool.vue?vue&type=style&index=0&id=cc6b7dca&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-cc6b7dca\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, createElementVNode as _createElementVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-58dddfc4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"add-slide\" }\nconst _hoisted_2 = { class: \"select-btn\" }\nconst _hoisted_3 = [\"onMousedown\"]\nconst _hoisted_4 = { class: \"page-number\" }\n\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore, useKeyboardStore } from '@/store'\nimport { fillDigit } from '@/utils/common'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport useSlideHandler from '@/hooks/useSlideHandler'\nimport useScreening from '@/hooks/useScreening'\nimport useLoadSlides from '@/hooks/useLoadSlides'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport LayoutPool from './LayoutPool.vue'\nimport Draggable from 'vuedraggable'\nimport { Popover } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst keyboardStore = useKeyboardStore()\nconst { selectedSlidesIndex: _selectedSlidesIndex, thumbnailsFocus } = storeToRefs(mainStore)\nconst { slides, slideIndex } = storeToRefs(slidesStore)\nconst { ctrlKeyState, shiftKeyState } = storeToRefs(keyboardStore)\n\nconst { slidesLoadLimit } = useLoadSlides()\n\nconst selectedSlidesIndex = computed(() => [..._selectedSlidesIndex.value, slideIndex.value])\n\nconst presetLayoutPopoverVisible = ref(false)\n\nconst {\n  copySlide,\n  pasteSlide,\n  createSlide,\n  createSlideByTemplate,\n  copyAndPasteSlide,\n  deleteSlide,\n  cutSlide,\n  selectAllSlide,\n  sortSlides,\n} = useSlideHandler()\n\n// switch page\nconst changeSlideIndex = (index: number) => {\n  mainStore.setActiveElementIdList([])\n\n  if (slideIndex.value === index) return\n  slidesStore.updateSlideIndex(index)\n}\n\n// click on the thumbnail\nconst handleClickSlideThumbnail = (e: MouseEvent, index: number) => {\n  const isMultiSelected = selectedSlidesIndex.value.length > 1\n\n  if (isMultiSelected && selectedSlidesIndex.value.includes(index) && e.button !== 0) return\n\n  // Hold down the Ctrl key, click on the slide, and click on the selected page again to cancel the selection\n  if (ctrlKeyState.value) {\n    if (slideIndex.value === index) {\n      if (!isMultiSelected) return\n\n      const newSelectedSlidesIndex = selectedSlidesIndex.value.filter(item => item !== index)\n      mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n      changeSlideIndex(selectedSlidesIndex.value[0])\n    }\n    else {\n      if (selectedSlidesIndex.value.includes(index)) {\n        const newSelectedSlidesIndex = selectedSlidesIndex.value.filter(item => item !== index)\n        mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n      }\n      else {\n        const newSelectedSlidesIndex = [...selectedSlidesIndex.value, index]\n        mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n        changeSlideIndex(index)\n      }\n    }\n  }\n  // Hold down the Shift key to select all slides in the range\n  else if (shiftKeyState.value) {\n    if (slideIndex.value === index && !isMultiSelected) return\n\n    let minIndex = Math.min(...selectedSlidesIndex.value)\n    let maxIndex = index\n\n    if (index < minIndex) {\n      maxIndex = Math.max(...selectedSlidesIndex.value)\n      minIndex = index\n    }\n\n    const newSelectedSlidesIndex = []\n    for (let i = minIndex; i <= maxIndex; i++) newSelectedSlidesIndex.push(i)\n    mainStore.updateSelectedSlidesIndex(newSelectedSlidesIndex)\n    changeSlideIndex(index)\n  }\n  // Switch pages normally\n  else {\n    mainStore.updateSelectedSlidesIndex([])\n    changeSlideIndex(index)\n  }\n}\n\n// Set the focus state of the thumbnail toolbar (only in the focus state, the shortcut keys of this part can take effect)\nconst setThumbnailsFocus = (focus: boolean) => {\n  if (thumbnailsFocus.value === focus) return\n  mainStore.setThumbnailsFocus(focus)\n\n  if (!focus) mainStore.updateSelectedSlidesIndex([])\n}// Drag and drop to adjust the order to synchronize the data\nconst handleDragEnd = (eventData: { newIndex: number; oldIndex: number }) => {\n  const { newIndex, oldIndex } = eventData\n  if (newIndex === undefined || oldIndex === undefined || newIndex === oldIndex) return\n  sortSlides(newIndex, oldIndex)\n}\n\nconst { enterScreening, enterScreeningFromStart } = useScreening()\n\nconst contextmenusThumbnails = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Paste',\n      subText: 'Ctrl + V',\n      handler: pasteSlide,\n    },\n    {\n      text: 'Select all',\n      subText: 'Ctrl + A',\n      handler: selectAllSlide,\n    },\n    {\n      text: 'New page',\n      subText: 'Enter',\n      handler: createSlide,\n    },\n    {\n      text: 'Slideshow',\n      subText: 'F5',\n      handler: enterScreeningFromStart,\n    },\n  ]\n}\n\nconst contextmenusThumbnailItem = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Cut',\n      subText: 'Ctrl + X',\n      handler: cutSlide,\n    },\n    {\n      text: 'Copy',\n      subText: 'Ctrl + C',\n      handler: copySlide,\n    },\n    {\n      text: 'Paste',\n      subText: 'Ctrl + V',\n      handler: pasteSlide,\n    },\n    {\n      text: 'Select all',\n      subText: 'Ctrl + A',\n      handler: selectAllSlide,\n    },\n    { divider: true },\n    {\n      text: 'New page',\n      subText: 'Enter',\n      handler: createSlide,\n    },\n    {\n      text: 'Copy page',\n      subText: 'Ctrl + D',\n      handler: copyAndPasteSlide,\n    },\n    {\n      text: 'Delete page',\n      subText: 'Delete',\n      handler: () => deleteSlide(),\n    },\n    { divider: true },\n    {\n      text: 'From current show',\n      subText: 'Shift + F5',\n      handler: enterScreening,\n    },\n  ]\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    class: \"thumbnails\",\n    onMousedown: _cache[3] || (_cache[3] = () => setThumbnailsFocus(true))\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", {\n        class: \"btn\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(createSlide)()))\n      }, [\n        _createVNode(_component_IconPlus, { class: \"icon\" }),\n        _createTextVNode(\"Add slideshow \")\n      ]),\n      _createVNode(_unref(Popover), {\n        trigger: \"click\",\n        placement: \"bottomLeft\",\n        visible: presetLayoutPopoverVisible.value,\n        \"onUpdate:visible\": _cache[2] || (_cache[2] = ($event: any) => ((presetLayoutPopoverVisible).value = $event))\n      }, {\n        content: _withCtx(() => [\n          _createVNode(LayoutPool, {\n            onSelect: _cache[1] || (_cache[1] = slide => { _unref(createSlideByTemplate)(slide); presetLayoutPopoverVisible.value = false })\n          })\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createVNode(_component_IconDown)\n          ])\n        ]),\n        _: 1\n      }, 8, [\"visible\"])\n    ]),\n    _createVNode(_unref(Draggable), {\n      class: \"thumbnail-list\",\n      modelValue: _unref(slides),\n      animation: 200,\n      scroll: true,\n      scrollSensitivity: 50,\n      onEnd: handleDragEnd,\n      itemKey: \"id\"\n    }, {\n      item: _withCtx(({ element, index }) => [\n        _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n          class: _normalizeClass([\"thumbnail-item\", {\n          'active': _unref(slideIndex) === index,\n          'selected': selectedSlidesIndex.value.includes(index),\n        }]),\n          onMousedown: $event => handleClickSlideThumbnail($event, index)\n        }, [\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"label\", { 'offset-left': index >= 99 }])\n          }, _toDisplayString(_unref(fillDigit)(index + 1, 2)), 3),\n          _createVNode(ThumbnailSlide, {\n            class: \"thumbnail\",\n            slide: element,\n            size: 120,\n            visible: index < _unref(slidesLoadLimit)\n          }, null, 8, [\"slide\", \"visible\"])\n        ], 42, _hoisted_3)), [\n          [_directive_contextmenu, contextmenusThumbnailItem]\n        ])\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"]),\n    _createElementVNode(\"div\", _hoisted_4, \"Slides \" + _toDisplayString(_unref(slideIndex) + 1) + \" / \" + _toDisplayString(_unref(slides).length), 1)\n  ], 32)), [\n    [_directive_click_outside, () => setThumbnailsFocus(false)],\n    [_directive_contextmenu, contextmenusThumbnails]\n  ])\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=58dddfc4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-58dddfc4\"]])\n\nexport default __exports__","import { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\n\nexport default () => {\n  const mainStore = useMainStore()\n  const { richTextAttrs, textFormatPainter } = storeToRefs(mainStore)\n\n  const toggleFormatPainter = () => {\n    if (textFormatPainter.value) mainStore.setTextFormatPainter(null)\n    else {\n      mainStore.setTextFormatPainter({\n        bold: richTextAttrs.value.bold,\n        em: richTextAttrs.value.em,\n        underline: richTextAttrs.value.underline,\n        strikethrough: richTextAttrs.value.strikethrough,\n        color: richTextAttrs.value.color,\n        backcolor: richTextAttrs.value.backcolor,\n        fontname: richTextAttrs.value.fontname,\n        fontsize: richTextAttrs.value.fontsize,\n        align: richTextAttrs.value.align,\n      })\n    }\n  }\n\n  return {\n    toggleFormatPainter,\n  }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-56c0ebb1\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-opacity\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Opacity:\", -1))\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport { Slider } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementOpacity',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst opacity = ref<number>(1)\n\nwatch(handleElement, () => {\n  if (!handleElement. value) return\n  opacity.value = 'opacity' in handleElement.value && handleElement.value.opacity !== undefined ? handleElement.value.opacity : 1\n}, { deep: true, immediate: true })\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateOpacity = (value: number) => {\n  if (!handleElement. value) return\n  const props = { opacity: value }\n  slidesStore. updateElement({ id: handleElement. value. id, props })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(_unref(Slider), {\n        class: \"slider\",\n        min: 0,\n        max: 1,\n        step: 0.1,\n        value: opacity.value,\n        onChange: _cache[0] || (_cache[0] = value => updateOpacity(value as number))\n      }, null, 8, [\"value\"])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./ElementOpacity.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementOpacity.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementOpacity.vue?vue&type=style&index=0&id=56c0ebb1&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-56c0ebb1\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3b4a02d8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"color-block\" }\n\nimport { Button } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ColorButton',\n  props: {\n  color: {\n    type: String,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlatte = _resolveComponent(\"IconPlatte\")!\n\n  return (_openBlock(), _createBlock(_unref(Button), { class: \"color-btn\" }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", {\n          class: \"content\",\n          style: _normalizeStyle({ backgroundColor: __props.color })\n        }, null, 4)\n      ]),\n      _createVNode(_component_IconPlatte, { class: \"color-btn-icon\" })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./ColorButton.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ColorButton.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ColorButton.vue?vue&type=style&index=0&id=3b4a02d8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3b4a02d8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed } from 'vue'\n\ninterface CheckboardCache {\n  [key: string]: string | null\n}\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Checkboard',\n  props: {\n  size: {\n    type: Number,\n    default: 8,\n  },\n  white: {\n    type: String,\n    default: '#fff',\n  },\n  grey: {\n    type: String,\n    default: '#e6e6e6',\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst checkboardCache: CheckboardCache = {}\n\nconst renderCheckboard = (white: string, grey: string, size: number) => {\n  const canvas = document.createElement('canvas')\n  canvas.width = canvas.height = size * 2\n  const ctx = canvas.getContext('2d')\n  \n  if (!ctx) return null\n\n  ctx.fillStyle = white\n  ctx.fillRect(0, 0, canvas.width, canvas.height)\n  ctx.fillStyle = grey\n  ctx.fillRect(0, 0, size, size)\n  ctx.translate(size, size)\n  ctx.fillRect(0, 0, size, size)\n  return canvas.toDataURL()\n}\n\nconst getCheckboard = (white: string, grey: string, size: number) => {\n  const key = white + ',' + grey + ',' + size\n  if (checkboardCache[key]) return checkboardCache[key]\n  \n  const checkboard = renderCheckboard(white, grey, size)\n  checkboardCache[key] = checkboard\n  return checkboard\n}\n\nconst bgStyle = computed(() => {\n  const checkboard = getCheckboard(props.white, props.grey, props.size)\n  return { backgroundImage: `url(${checkboard})` }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"checkerboard\",\n    style: _normalizeStyle(bgStyle.value)\n  }, null, 4))\n}\n}\n\n})","import script from \"./Checkboard.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Checkboard.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Checkboard.vue?vue&type=style&index=0&id=93dfb566&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-93dfb566\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-246b525c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"alpha\" }\nconst _hoisted_2 = { class: \"alpha-checkboard-wrap\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"alpha-picker\" }, null, -1))\nconst _hoisted_4 = [\n  _hoisted_3\n]\n\nimport { computed, onUnmounted, PropType, ref } from 'vue'\n\nimport Checkboard from './Checkboard.vue'\nimport { ColorFormats } from 'tinycolor2'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Alpha',\n  props: {\n  value: {\n    type: Object as PropType<ColorFormats.RGBA>,\n    required: true,\n  },\n},\n  emits: [\"colorChange\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst color = computed(() => props.value)\n    \nconst gradientColor = computed(() => {\n  const rgbaStr = [color.value.r, color.value.g, color.value.b].join(',')\n  return `linear-gradient(to right, rgba(${rgbaStr}, 0) 0%, rgba(${rgbaStr}, 1) 100%)`\n})\n\nconst alphaRef = ref<HTMLElement>()\nconst handleChange = (e: MouseEvent) => {\n  e.preventDefault()\n  if (!alphaRef.value) return\n  const containerWidth = alphaRef.value.clientWidth\n  const xOffset = alphaRef.value.getBoundingClientRect().left + window.pageXOffset\n  const left = e.pageX - xOffset\n  let a\n\n  if (left < 0) a = 0\n  else if (left > containerWidth) a = 1\n  else a = Math.round(left * 100 / containerWidth) / 100\n\n  if (color.value.a !== a) {\n    emit('colorChange', {\n      r: color.value.r,\n      g: color.value.g,\n      b: color.value.b,\n      a: a,\n    })\n  }\n}\n\nconst unbindEventListeners = () => {\n  window.removeEventListener('mousemove', handleChange)\n  window.removeEventListener('mouseup', unbindEventListeners)\n}\nconst handleMouseDown = (e: MouseEvent) => {\n  handleChange(e)\n  window.addEventListener('mousemove', handleChange)\n  window.addEventListener('mouseup', unbindEventListeners)\n}\nonUnmounted(unbindEventListeners)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(Checkboard)\n    ]),\n    _createElementVNode(\"div\", {\n      class: \"alpha-gradient\",\n      style: _normalizeStyle({ background: gradientColor.value })\n    }, null, 4),\n    _createElementVNode(\"div\", {\n      class: \"alpha-container\",\n      ref_key: \"alphaRef\",\n      ref: alphaRef,\n      onMousedown: _cache[0] || (_cache[0] = $event => handleMouseDown($event))\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"alpha-pointer\",\n        style: _normalizeStyle({ left: color.value.a * 100 + '%' })\n      }, _hoisted_4, 4)\n    ], 544)\n  ]))\n}\n}\n\n})","import script from \"./Alpha.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Alpha.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Alpha.vue?vue&type=style&index=0&id=246b525c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-246b525c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-60c3cca1\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"hue\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"hue-picker\" }, null, -1))\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nimport { computed, onUnmounted, PropType, ref, watch } from 'vue'\nimport tinycolor, { ColorFormats } from 'tinycolor2'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Hue',\n  props: {\n  value: {\n    type: Object as PropType<ColorFormats.RGBA>,\n    required: true,\n  },\n  hue: {\n    type: Number,\n    required: true,\n  },\n},\n  emits: [\"colorChange\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst oldHue = ref(0)\nconst pullDirection = ref('')\n\nconst color = computed(() => {\n  const hsla = tinycolor(props.value).toHsl()\n  if (props.hue !== -1) hsla.h = props.hue\n  return hsla\n})\n\nconst pointerLeft = computed(() => {\n  if (color.value.h === 0 && pullDirection.value === 'right') return '100%'\n  return color.value.h * 100 / 360 + '%'\n})\n\nwatch(() => props.value, () => {\n  const hsla = tinycolor(props.value).toHsl()\n  const h = hsla.s === 0 ? props.hue : hsla.h\n  if (h !== 0 && h - oldHue.value > 0) pullDirection.value = 'right'\n  if (h !== 0 && h - oldHue.value < 0) pullDirection.value = 'left'\n  oldHue.value = h\n})\n\nconst hueRef = ref<HTMLElement>()\nconst handleChange = (e: MouseEvent) => {\n  e.preventDefault()\n  if (!hueRef.value) return\n\n  const containerWidth = hueRef.value.clientWidth\n  const xOffset = hueRef.value.getBoundingClientRect().left + window.pageXOffset\n  const left = e.pageX - xOffset\n  let h, percent\n  \n  if (left < 0) h = 0\n  else if (left > containerWidth) h = 360\n  else {\n    percent = left * 100 / containerWidth\n    h = 360 * percent / 100\n  }\n  if (props.hue === -1 || color.value.h !== h) {\n    emit('colorChange', {\n      h,\n      l: color.value.l,\n      s: color.value.s,\n      a: color.value.a,\n    })\n  }\n}\n\nconst unbindEventListeners = () => {\n  window.removeEventListener('mousemove', handleChange)\n  window.removeEventListener('mouseup', unbindEventListeners)\n}\nconst handleMouseDown = (e: MouseEvent) => {\n  handleChange(e)\n  window.addEventListener('mousemove', handleChange)\n  window.addEventListener('mouseup', unbindEventListeners)\n}\nonUnmounted(unbindEventListeners)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"hue-container\",\n      ref_key: \"hueRef\",\n      ref: hueRef,\n      onMousedown: _cache[0] || (_cache[0] = $event => handleMouseDown($event))\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"hue-pointer\",\n        style: _normalizeStyle({ left: pointerLeft.value })\n      }, _hoisted_3, 4)\n    ], 544)\n  ]))\n}\n}\n\n})","import script from \"./Hue.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Hue.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Hue.vue?vue&type=style&index=0&id=60c3cca1&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-60c3cca1\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d230faf4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"saturation-white\" }, null, -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"saturation-black\" }, null, -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"saturation-circle\" }, null, -1))\nconst _hoisted_4 = [\n  _hoisted_3\n]\n\nimport { computed, onUnmounted, PropType, ref } from 'vue'\nimport tinycolor, { ColorFormats } from 'tinycolor2'\nimport { throttle, clamp } from 'lodash'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Saturation',\n  props: {\n  value: {\n    type: Object as PropType<ColorFormats.RGBA>,\n    required: true,\n  },\n  hue: {\n    type: Number,\n    required: true,\n  },\n},\n  emits: [\"colorChange\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst color = computed(() => {\n  const hsva = tinycolor(props.value).toHsv()\n  if (props.hue !== -1) hsva.h = props.hue\n  return hsva\n})\n\nconst bgColor = computed(() => `hsl(${color.value.h}, 100%, 50%)`)\nconst pointerTop = computed(() => (-(color.value.v * 100) + 1) + 100 + '%')\nconst pointerLeft = computed(() => color.value.s * 100 + '%')\n\nconst emitChangeEvent = throttle(function(param: ColorFormats.HSVA) {\n  emit('colorChange', param)\n}, 20, { leading: true, trailing: false })\n\nconst saturationRef = ref<HTMLElement>()\nconst handleChange = (e: MouseEvent) => {\n  e.preventDefault()\n  if (!saturationRef.value) return\n  \n  const containerWidth = saturationRef.value.clientWidth\n  const containerHeight = saturationRef.value.clientHeight\n  const xOffset = saturationRef.value.getBoundingClientRect().left + window.pageXOffset\n  const yOffset = saturationRef.value.getBoundingClientRect().top + window.pageYOffset\n  const left = clamp(e.pageX - xOffset, 0, containerWidth)\n  const top = clamp(e.pageY - yOffset, 0, containerHeight)\n  const saturation = left / containerWidth\n  const bright = clamp(-(top / containerHeight) + 1, 0, 1)\n\n  emitChangeEvent({\n    h: color.value.h,\n    s: saturation,\n    v: bright,\n    a: color.value.a,\n  })\n}\n\n\nconst unbindEventListeners = () => {\n  window.removeEventListener('mousemove', handleChange)\n  window.removeEventListener('mouseup', unbindEventListeners)\n}\nconst handleMouseDown = (e: MouseEvent) => {\n  handleChange(e)\n  window.addEventListener('mousemove', handleChange)\n  window.addEventListener('mouseup', unbindEventListeners)\n}\nonUnmounted(unbindEventListeners)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"saturation\",\n    ref_key: \"saturationRef\",\n    ref: saturationRef,\n    style: _normalizeStyle({ background: bgColor.value }),\n    onMousedown: _cache[0] || (_cache[0] = $event => handleMouseDown($event))\n  }, [\n    _hoisted_1,\n    _hoisted_2,\n    _createElementVNode(\"div\", {\n      class: \"saturation-pointer\",\n      style: _normalizeStyle({\n        top: pointerTop.value,\n        left: pointerLeft.value,\n      })\n    }, _hoisted_4, 4)\n  ], 36))\n}\n}\n\n})","import script from \"./Saturation.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Saturation.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Saturation.vue?vue&type=style&index=0&id=d230faf4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d230faf4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2f428dde\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"editable-input\" }\nconst _hoisted_2 = [\"value\"]\n\nimport { computed, PropType } from 'vue'\nimport tinycolor, { ColorFormats } from 'tinycolor2'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EditableInput',\n  props: {\n  value: {\n    type: Object as PropType<ColorFormats.RGBA>,\n    required: true,\n  },\n},\n  emits: [\"colorChange\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst val = computed(() => {\n  let _hex = ''\n  if (props.value.a < 1) _hex = tinycolor(props.value).toHex8String().toUpperCase()\n  else _hex = tinycolor(props.value).toHexString().toUpperCase()\n  return _hex.replace('#', '')\n})\n\nconst handleInput = (e: Event) => {\n  const value = (e.target as HTMLInputElement).value\n  if (value.length >= 6) emit('colorChange', tinycolor(value).toRgb())\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"input\", {\n      class: \"input-content\",\n      value: val.value,\n      onInput: _cache[0] || (_cache[0] = $event => handleInput($event))\n    }, null, 40, _hoisted_2)\n  ]))\n}\n}\n\n})","import script from \"./EditableInput.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EditableInput.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./EditableInput.vue?vue&type=style&index=0&id=2f428dde&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2f428dde\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, resolveComponent as _resolveComponent, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3d280c42\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"color-picker\" }\nconst _hoisted_2 = { class: \"picker-saturation-wrap\" }\nconst _hoisted_3 = { class: \"picker-controls\" }\nconst _hoisted_4 = { class: \"picker-color-wrap\" }\nconst _hoisted_5 = { class: \"picker-sliders\" }\nconst _hoisted_6 = { class: \"picker-hue-wrap\" }\nconst _hoisted_7 = { class: \"picker-alpha-wrap\" }\nconst _hoisted_8 = { class: \"picker-field\" }\nconst _hoisted_9 = { class: \"picker-presets\" }\nconst _hoisted_10 = [\"onClick\"]\nconst _hoisted_11 = { class: \"picker-gradient-presets\" }\nconst _hoisted_12 = [\"onClick\"]\nconst _hoisted_13 = { class: \"picker-presets\" }\nconst _hoisted_14 = [\"onClick\"]\nconst _hoisted_15 = {\n  key: 0,\n  class: \"recent-colors-title\"\n}\nconst _hoisted_16 = { class: \"picker-presets\" }\nconst _hoisted_17 = [\"onClick\"]\n\nimport { computed, onMounted, ref, watch } from 'vue'\nimport tinycolor, { ColorFormats } from 'tinycolor2'\nimport { debounce } from 'lodash'\nimport { toCanvas } from 'html-to-image'\n\nimport Alpha from './Alpha.vue'\nimport Checkboard from './Checkboard.vue'\nimport Hue from './Hue.vue'\nimport Saturation from './Saturation.vue'\nimport EditableInput from './EditableInput.vue'\n\nimport { message } from 'ant-design-vue'\n\nconst RECENT_COLORS = 'RECENT_COLORS'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  modelValue: {\n    type: String,\n    default: '#e86b99',\n  },\n},\n  emits: [\"update:modelValue\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst presetColorConfig = [\n  ['#7f7f7f', '#f2f2f2'],\n  ['#0d0d0d', '#808080'],\n  ['#1c1a10', '#ddd8c3'],\n  ['#0e243d', '#c6d9f0'],\n  ['#233f5e', '#dae5f0'],\n  ['#632623', '#f2dbdb'],\n  ['#4d602c', '#eaf1de'],\n  ['#3f3150', '#e6e0ec'],\n  ['#1e5867', '#d9eef3'],\n  ['#99490f', '#fee9da'],\n]\n\nconst gradient = (startColor: string, endColor: string, step: number) => {\n  const _startColor = tinycolor(startColor).toRgb()\n  const _endColor = tinycolor(endColor).toRgb()\n\n  const rStep = (_endColor.r - _startColor.r) / step\n  const gStep = (_endColor.g - _startColor.g) / step\n  const bStep = (_endColor.b - _startColor.b) / step\n  const gradientColorArr = []\n\n  for (let i = 0; i < step; i++) {\n    const gradientColor = tinycolor({\n      r: _startColor.r + rStep * i,\n      g: _startColor.g + gStep * i,\n      b: _startColor.b + bStep * i,\n    }).toRgbString()\n    gradientColorArr.push(gradientColor)\n  }\n  return gradientColorArr\n}\n\nconst getPresetColors = () => {\n  const presetColors = []\n  for (const color of presetColorConfig) {\n    presetColors.push(gradient(color[1], color[0], 5))\n  }\n  return presetColors\n}\n\nconst themeColors = ['#000000', '#ffffff', '#eeece1', '#1e497b', '#4e81bb', '#e2534d', '#9aba60', '#8165a0', '#47acc5', '#f9974c']\nconst standardColors = ['#c21401', '#ff1e02', '#ffc12a', '#ffff3a', '#90cf5b', '#00af57', '#00afee', '#0071be', '#00215f', '#72349d']\n\nconst hue = ref(-1)\nconst recentColors = ref<string[]>([])\n\nconst color = computed({\n  get() {\n    return tinycolor(props.modelValue).toRgb()\n  },\n  set(rgba: ColorFormats.RGBA) {\n    const rgbaString = `rgba(${[rgba.r, rgba.g, rgba.b, rgba.a].join(',')})`\n    emit('update:modelValue', rgbaString)\n  },\n})\n\nconst presetColors = getPresetColors()\n\nconst currentColor = computed(() => {\n  return `rgba(${[color.value.r, color.value.g, color.value.b, color.value.a].join(',')})`\n})\n\nconst selectPresetColor = (colorString: string) => {\n  hue.value = tinycolor(colorString).toHsl().h\n  emit('update:modelValue', colorString)\n}\n\n// 每次选择非预设颜色时，需要将该颜色加入到最近使用列表中\nconst updateRecentColorsCache = debounce(function() {\n  const _color = tinycolor(color.value).toRgbString()\n  if (!recentColors.value.includes(_color)) {\n    recentColors.value = [_color, ...recentColors.value]\n\n    const maxLength = 10\n    if (recentColors.value.length > maxLength) {\n      recentColors.value = recentColors.value.slice(0, maxLength)\n    }\n  }\n}, 300, { trailing: true })\n\nonMounted(() => {\n  const recentColorsCache = localStorage.getItem(RECENT_COLORS)\n  if (recentColorsCache) recentColors.value = JSON.parse(recentColorsCache)\n})\n\nwatch(recentColors, () => {\n  const recentColorsCache = JSON.stringify(recentColors.value)\n  localStorage.setItem(RECENT_COLORS, recentColorsCache)\n})\n\nconst changeColor = (value: ColorFormats.RGBA | ColorFormats.HSLA | ColorFormats.HSVA) => {\n  if ('h' in value) {\n    hue.value = value.h\n    color.value = tinycolor(value).toRgb()\n  }\n  else {\n    hue.value = tinycolor(value).toHsl().h\n    color.value = value\n  }\n\n  updateRecentColorsCache()\n}\n\n// 打开取色吸管\n// 检查环境是否支持原生取色吸管，支持则使用原生吸管，否则使用自定义吸管\nconst openEyeDropper = () => {\n  const isSupportedEyeDropper = 'EyeDropper' in window\n\n  if (isSupportedEyeDropper) browserEyeDropper()\n  else customEyeDropper()\n}\n\n// 原生取色吸管\nconst browserEyeDropper = () => {\n  message.success('按 ESC 键关闭取色吸管')\n\n  // eslint-disable-next-line\n  const eyeDropper = new (window as any).EyeDropper()\n  eyeDropper.open().then((result: { sRGBHex: string }) => {\n    const tColor = tinycolor(result.sRGBHex)\n    hue.value = tColor.toHsl().h\n    color.value = tColor.toRgb()\n\n    updateRecentColorsCache()\n  }).catch(() => {\n    message.success('关闭取色吸管')\n  })\n}\n\n// 基于 Canvas 的自定义取色吸管\nconst customEyeDropper = () => {\n  const targetRef: HTMLElement | null = document.querySelector('.canvas')\n  if (!targetRef) return\n\n  const maskRef = document.createElement('div')\n  maskRef.style.cssText = 'position: fixed; top: 0; left: 0; bottom: 0; right: 0; z-index: 9999; cursor: wait;'\n  document.body.appendChild(maskRef)\n\n  const colorBlockRef = document.createElement('div')\n  colorBlockRef.style.cssText = 'position: absolute; top: -100px; left: -100px; width: 16px; height: 16px; border: 1px solid #000; z-index: 999'\n  maskRef.appendChild(colorBlockRef)\n\n  const { left, top, width, height } = targetRef.getBoundingClientRect()\n\n  const filter = (node: HTMLElement) => {\n    if (node.tagName && node.tagName.toUpperCase() === 'FOREIGNOBJECT') return false\n    if (node.classList && node.classList.contains('operate')) return false\n    return true\n  }\n\n  toCanvas(targetRef, { filter, fontEmbedCSS: '', width, height, canvasWidth: width, canvasHeight: height, pixelRatio: 1 }).then(canvasRef => {\n    canvasRef.style.cssText = `position: absolute; top: ${top}px; left: ${left}px; cursor: crosshair;`\n    maskRef.style.cursor = 'default'\n    maskRef.appendChild(canvasRef)\n\n    const ctx = canvasRef.getContext('2d')\n    if (!ctx) return\n\n    let currentColor = ''\n    const handleMousemove = (e: MouseEvent) => {\n      const x = e.x\n      const y = e.y\n\n      const mouseX = x - left\n      const mouseY = y - top\n\n      const [r, g, b, a] = ctx.getImageData(mouseX, mouseY, 1, 1).data\n      currentColor = `rgba(${r}, ${g}, ${b}, ${(a / 255).toFixed(2)})`\n\n      colorBlockRef.style.left = x + 10 + 'px'\n      colorBlockRef.style.top = y + 10 + 'px'\n      colorBlockRef.style.backgroundColor = currentColor\n    }\n    const handleMouseleave = () => {\n      currentColor = ''\n      colorBlockRef.style.left = '-100px'\n      colorBlockRef.style.top = '-100px'\n      colorBlockRef.style.backgroundColor = ''\n    }\n    const handleMousedown = (e: MouseEvent) => {\n      if (currentColor && e.button === 0) {\n        const tColor = tinycolor(currentColor)\n        hue.value = tColor.toHsl().h\n        color.value = tColor.toRgb()\n\n        updateRecentColorsCache()\n      }\n      document.body.removeChild(maskRef)\n      \n      canvasRef.removeEventListener('mousemove', handleMousemove)\n      canvasRef.removeEventListener('mouseleave', handleMouseleave)\n      window.removeEventListener('mousedown', handleMousedown)\n    }\n\n    canvasRef.addEventListener('mousemove', handleMousemove)\n    canvasRef.addEventListener('mouseleave', handleMouseleave)\n    window.addEventListener('mousedown', handleMousedown)\n  }).catch(() => {\n    message.error('取色吸管初始化失败')\n    document.body.removeChild(maskRef)\n  })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconNeedle = _resolveComponent(\"IconNeedle\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(Saturation, {\n        value: color.value,\n        hue: hue.value,\n        onColorChange: _cache[0] || (_cache[0] = value => changeColor(value))\n      }, null, 8, [\"value\", \"hue\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"div\", {\n          class: \"picker-current-color\",\n          style: _normalizeStyle({ background: currentColor.value })\n        }, null, 4),\n        _createVNode(Checkboard)\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createVNode(Hue, {\n            value: color.value,\n            hue: hue.value,\n            onColorChange: _cache[1] || (_cache[1] = value => changeColor(value))\n          }, null, 8, [\"value\", \"hue\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createVNode(Alpha, {\n            value: color.value,\n            onColorChange: _cache[2] || (_cache[2] = value => changeColor(value))\n          }, null, 8, [\"value\"])\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createVNode(EditableInput, {\n        class: \"input\",\n        value: color.value,\n        onColorChange: _cache[3] || (_cache[3] = value => changeColor(value))\n      }, null, 8, [\"value\"]),\n      _createElementVNode(\"div\", {\n        class: \"straw\",\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (openEyeDropper()))\n      }, [\n        _createVNode(_component_IconNeedle)\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"transparent\",\n        onClick: _cache[5] || (_cache[5] = ($event: any) => (selectPresetColor('#00000000')))\n      }, [\n        _createVNode(Checkboard)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_9, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(themeColors, (c) => {\n        return _createElementVNode(\"div\", {\n          class: \"picker-presets-color\",\n          key: c,\n          style: _normalizeStyle({ background: c }),\n          onClick: ($event: any) => (selectPresetColor(c))\n        }, null, 12, _hoisted_10)\n      }), 64))\n    ]),\n    _createElementVNode(\"div\", _hoisted_11, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(presetColors), (col, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"picker-gradient-col\",\n          key: index\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(col, (c) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"picker-gradient-color\",\n              key: c,\n              style: _normalizeStyle({ background: c }),\n              onClick: ($event: any) => (selectPresetColor(c))\n            }, null, 12, _hoisted_12))\n          }), 128))\n        ]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_13, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(standardColors, (c) => {\n        return _createElementVNode(\"div\", {\n          key: c,\n          class: \"picker-presets-color\",\n          style: _normalizeStyle({ background: c }),\n          onClick: ($event: any) => (selectPresetColor(c))\n        }, null, 12, _hoisted_14)\n      }), 64))\n    ]),\n    (recentColors.value.length)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, \"最近使用：\"))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_16, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(recentColors.value, (c) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: c,\n          class: \"picker-presets-color alpha\",\n          onClick: ($event: any) => (selectPresetColor(c))\n        }, [\n          _createElementVNode(\"div\", {\n            class: \"picker-presets-color-content\",\n            style: _normalizeStyle({ background: c })\n          }, null, 4)\n        ], 8, _hoisted_17))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3d280c42&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3d280c42\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b877fd82\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-outline\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Enable border:\", -1))\nconst _hoisted_4 = {\n  class: \"switch-wrapper\",\n  style: {\"flex\":\"3\"}\n}\nconst _hoisted_5 = { class: \"row\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Border style:\", -1))\nconst _hoisted_7 = { class: \"row\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Border color:\", -1))\nconst _hoisted_9 = { class: \"row\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Border thickness:\", -1))\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElementOutline } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from './ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport {\n  InputNumber,\n  Popover,\n  Select,\n  Switch,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementOutline',\n  props: {\n  fixed: {\n    type: Boolean,\n    default: false,\n  },\n},\n  setup(__props) {\n\nconst SelectOption = Select.Option\n\n\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst outline = ref<PPTElementOutline>()\nconst hasOutline = ref(false)\n\nwatch(handleElement, () => {\n  if (!handleElement.value) return\n  outline.value = 'outline' in handleElement.value ? handleElement.value.outline : undefined\n  hasOutline.value = !!outline.value\n}, { deep: true, immediate: true })\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateOutline = (outlineProps: Partial<PPTElementOutline>) => {\n  if (!handleElement.value) return\n  const props = { outline: { ...outline.value, ...outlineProps } }\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\nconst toggleOutline = (checked: boolean) => {\n  if (!handleElement.value) return\n  if (checked) {\n    const _outline: PPTElementOutline = { width: 2, color: '#000', style: 'solid' }\n    slidesStore.updateElement({ id: handleElement.value.id, props: { outline: _outline } })\n  }\n  else {\n    slidesStore.removeElementProps({ id: handleElement.value.id, propName: 'outline' })\n  }\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (!__props.fixed)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(_unref(Switch), {\n              checked: hasOutline.value,\n              onChange: _cache[0] || (_cache[0] = checked => toggleOutline(checked as boolean))\n            }, null, 8, [\"checked\"])\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (hasOutline.value && outline.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _hoisted_6,\n            _createVNode(_unref(Select), {\n              style: {\"flex\":\"3\"},\n              value: outline.value.style,\n              onChange: _cache[1] || (_cache[1] = value => updateOutline({ style: value as 'dashed' | 'solid' }))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(SelectOption), { value: \"solid\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"solid border\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(SelectOption), { value: \"dashed\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"Dashed Border\")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_7, [\n            _hoisted_8,\n            _createVNode(_unref(Popover), { trigger: \"click\" }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: outline.value.color,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = value => updateOutline({ color: value }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: outline.value.color || '#000',\n                  style: {\"flex\":\"3\"}\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_9, [\n            _hoisted_10,\n            _createVNode(_unref(InputNumber), {\n              value: outline.value.width,\n              onChange: _cache[3] || (_cache[3] = value => updateOutline({ width: value as number })),\n              style: {\"flex\":\"3\"}\n            }, null, 8, [\"value\"])\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./ElementOutline.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementOutline.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementOutline.vue?vue&type=style&index=0&id=b877fd82&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b877fd82\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, withCtx as _withCtx, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-01554278\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-shadow\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Enable shadows:\", -1))\nconst _hoisted_4 = {\n  class: \"switch-wrapper\",\n  style: {\"flex\":\"3\"}\n}\nconst _hoisted_5 = { class: \"row\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Horizontal shadow:\", -1))\nconst _hoisted_7 = { class: \"row\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Vertical shadow:\", -1))\nconst _hoisted_9 = { class: \"row\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Blur distance:\", -1))\nconst _hoisted_11 = { class: \"row\" }\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Shadow color:\", -1))\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElementShadow } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from './ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport {\n  Popover,\n  Slider,\n  Switch,\n} from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementShadow',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst shadow = ref<PPTElementShadow>()\nconst hasShadow = ref(false)\n\nwatch(handleElement, () => {\n  if (!handleElement.value) return\n  shadow.value = 'shadow' in handleElement.value ? handleElement.value.shadow : undefined\n  hasShadow.value = !!shadow.value\n}, { deep: true, immediate: true })\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateShadow = (shadowProps: Partial<PPTElementShadow>) => {\n  if (!handleElement.value || !shadow.value) return\n  const _shadow = { ...shadow.value, ...shadowProps }\n  slidesStore.updateElement({ id: handleElement.value.id, props: { shadow: _shadow } })\n  addHistorySnapshot()\n}\n\nconst toggleShadow = (checked: boolean) => {\n  if (!handleElement.value) return\n  if (checked) {\n    const _shadow: PPTElementShadow = { h: 1, v: 1, blur: 2, color: '#000' }\n    slidesStore.updateElement({ id: handleElement.value.id, props: { shadow: _shadow } })\n  }\n  else {\n    slidesStore.removeElementProps({ id: handleElement.value.id, propName: 'shadow' })\n  }\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(_unref(Switch), {\n          checked: hasShadow.value,\n          onChange: _cache[0] || (_cache[0] = checked => toggleShadow(checked as boolean))\n        }, null, 8, [\"checked\"])\n      ])\n    ]),\n    (hasShadow.value && shadow.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _hoisted_6,\n            _createVNode(_unref(Slider), {\n              class: \"slider\",\n              min: -10,\n              max: 10,\n              step: 1,\n              value: shadow.value.h,\n              onChange: _cache[1] || (_cache[1] = value => updateShadow({ h: value as number }))\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_7, [\n            _hoisted_8,\n            _createVNode(_unref(Slider), {\n              class: \"slider\",\n              min: -10,\n              max: 10,\n              step: 1,\n              value: shadow.value.v,\n              onChange: _cache[2] || (_cache[2] = value => updateShadow({ v: value as number }))\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_9, [\n            _hoisted_10,\n            _createVNode(_unref(Slider), {\n              class: \"slider\",\n              min: 1,\n              max: 20,\n              step: 1,\n              value: shadow.value.blur,\n              onChange: _cache[3] || (_cache[3] = value => updateShadow({ blur: value as number }))\n            }, null, 8, [\"value\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_11, [\n            _hoisted_12,\n            _createVNode(_unref(Popover), { trigger: \"click\" }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: shadow.value.color,\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = value => updateShadow({ color: value }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: shadow.value.color,\n                  style: {\"flex\":\"3\"}\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./ElementShadow.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementShadow.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementShadow.vue?vue&type=style&index=0&id=01554278&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-01554278\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c90c8a28\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"text-color-block\" }\n\nimport { Button } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TextColorButton',\n  props: {\n  color: {\n    type: String,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(Button), { class: \"text-color-btn\" }, {\n    default: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"default\"),\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", {\n          class: \"text-color-block-content\",\n          style: _normalizeStyle({ backgroundColor: __props.color })\n        }, null, 4)\n      ])\n    ]),\n    _: 3\n  }))\n}\n}\n\n})","import script from \"./TextColorButton.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TextColorButton.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TextColorButton.vue?vue&type=style&index=0&id=c90c8a28&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c90c8a28\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CheckboxButton',\n  props: {\r\n  checked: {\r\n    type: Boolean,\r\n    default: false,\r\n  },\r\n},\n  setup(__props) {\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"button\", {\n    class: _normalizeClass([\"checkbox-button\", { 'checked': __props.checked }])\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 2))\n}\n}\n\n})","import script from \"./CheckboxButton.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CheckboxButton.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./CheckboxButton.vue?vue&type=style&index=0&id=699cf016&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-699cf016\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"checkbox-button-group\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.checkbox-button-group {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  ::v-deep(.checkbox-button) {\r\n    border-radius: 0;\r\n    border-left-width: 0;\r\n    border-right-width: 0;\r\n    display: inline-block;\r\n\r\n    & + .checkbox-button {\r\n      border-left-width: 1px;\r\n    }\r\n\r\n    &:first-child {\r\n      border-top-left-radius: $borderRadius;\r\n      border-bottom-left-radius: $borderRadius;\r\n      border-left-width: 1px;\r\n    }\r\n\r\n    &:last-child {\r\n      border-top-right-radius: $borderRadius;\r\n      border-bottom-right-radius: $borderRadius;\r\n      border-right-width: 1px;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./CheckboxButtonGroup.vue?vue&type=template&id=b8aa6eac&scoped=true\"\nconst script = {}\n\nimport \"./CheckboxButtonGroup.vue?vue&type=style&index=0&id=b8aa6eac&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b8aa6eac\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-56c13a1c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"text-style-panel\" }\nconst _hoisted_2 = { class: \"preset-style\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"link-popover\" }\nconst _hoisted_5 = { class: \"btns\" }\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = { class: \"list-wrap\" }\nconst _hoisted_8 = [\"onClick\"]\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, null, -1))\nconst _hoisted_10 = [\n  _hoisted_9\n]\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1))\nconst _hoisted_12 = { class: \"list-wrap\" }\nconst _hoisted_13 = [\"onClick\"]\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, null, -1))\nconst _hoisted_15 = [\n  _hoisted_14\n]\nconst _hoisted_16 = { class: \"row\" }\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Linespacing:\", -1))\nconst _hoisted_18 = { class: \"row\" }\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Paragraph spacing:\", -1))\nconst _hoisted_20 = { class: \"row\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Word spacing:\", -1))\nconst _hoisted_22 = { class: \"row\" }\nconst _hoisted_23 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"First line indent:\", -1))\nconst _hoisted_24 = { class: \"row\" }\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Fill text box:\", -1))\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTTextElement } from '@/types/slides'\nimport emitter, { EmitterEvents, RichTextAction } from '@/utils/emitter'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useTextFormatPainter from '@/hooks/useTextFormatPainter'\n\nimport ElementOpacity from '../common/ElementOpacity.vue'\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport CheckboxButtonGroup from '@/components/CheckboxButtonGroup.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport {\n  Divider,\n  Button,\n  Tooltip,\n  Popover,\n  Select,\n  Radio,\n  Input,\n  message,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TextStylePanel',\n  setup(__props) {\n\nconst { Group: RadioGroup, Button: RadioButton } = Radio\nconst { OptGroup: SelectOptGroup, Option: SelectOption } = Select\nconst InputGroup = Input.Group\nconst ButtonGroup = Button.Group\n\n// Note that there is a BUG for unknown reasons. If the height of the text box increases after the text is thickened, the positioning of the visible area of the canvas will be wrong\n// Therefore, when executing the preset style command, put the bold command at the front as much as possible to avoid bolding after the font size increases\n\nconst presetStyles = [\n  {\n    label: 'Title',\n    style: {\n      fontSize: '26px',\n      fontWeight: 700,\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'bold' },\n      { command: 'fontsize', value: '48px' },\n      { command: 'align', value: 'center' },\n    ],\n  },\n  {\n    label: 'subtitle',\n    style: {\n      fontSize: '22px',\n      fontWeight: 700,\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'bold' },\n      { command: 'fontsize', value: '36px' },\n      { command: 'align', value: 'center' },\n    ],\n  },\n  {\n    label: 'text',\n    style: {\n      fontSize: '20px',\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'fontsize', value: '20px' },\n    ],\n  },\n  {\n    label: 'text[small]',\n    style: {\n      fontSize: '18px',\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'fontsize', value: '18px' },\n    ],\n  },\n  {\n    label: 'Comment 1',\n    style: {\n      fontSize: '16px',\n      fontStyle: 'italic',\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'fontsize', value: '16px' },\n      { command: 'em' },\n    ],\n  },\n  {\n    label: 'Note 2',\n    style: {\n      fontSize: '16px',\n      textDecoration: 'underline',\n    },\n    cmd: [\n      { command: 'clear' },\n      { command: 'fontsize', value: '16px' },\n      { command: 'underline' },\n    ],\n  },\n]\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId, richTextAttrs, availableFonts, textFormatPainter } = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\nconst { toggleFormatPainter } = useTextFormatPainter()\n\nconst updateElement = (props: Partial<PPTTextElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\nconst bulletListPanelVisible = ref(false)\nconst orderedListPanelVisible = ref(false)\n\nconst bulletListStyleTypeOption = ref(['disc', 'circle', 'square'])\nconst orderedListStyleTypeOption = ref(['decimal', 'lower-roman', 'upper-roman', 'lower-alpha', 'upper-alpha', 'lower-greek'])\n\nconst fill = ref<string>('#000')\nconst lineHeight = ref<number>()\nconst wordSpace = ref<number>()\nconst textIndent = ref<number>()\nconst paragraphSpace = ref<number>()\n\nwatch(handleElement, () => {\n  if (!handleElement.value || handleElement.value.type !== 'text') return\n\n  fill.value = handleElement.value.fill || '#fff'\n  lineHeight.value = handleElement.value.lineHeight || 1.5\n  wordSpace.value = handleElement.value.wordSpace || 0\n  textIndent.value = handleElement.value.textIndent || 0\n  paragraphSpace.value = handleElement.value.paragraphSpace === undefined ? 5 : handleElement.value.paragraphSpace\n}, { deep: true, immediate: true })\n\nconst fontSizeOptions = [\n  '12px', '14px', '16px', '18px', '20px', '22px', '24px', '28px', '32px',\n  '36px', '40px', '44px', '48px', '54px', '60px', '66px', '72px', '76px',\n  '80px', '88px', '96px', '104px', '112px', '120px',\n]\nconst lineHeightOptions = [0.9, 1.0, 1.15, 1.2, 1.4, 1.5, 1.8, 2.0, 2.5, 3.0]\nconst wordSpaceOptions = [0, 1, 2, 3, 4, 5, 6, 8, 10]\nconst textIndentOptions = [0, 48, 96, 144, 192, 240, 288, 336]\nconst paragraphSpaceOptions = [0, 5, 10, 15, 20, 25, 30, 40, 50, 80]\n\n// set row height\nconst updateLineHeight = (value: number) => {\n  updateElement({ lineHeight: value })\n}\n\n// set paragraph spacing\nconst updateParagraphSpace = (value: number) => {\n  updateElement({ paragraphSpace: value })\n}\n\n// set word spacing\nconst updateWordSpace = (value: number) => {\n  updateElement({ wordSpace: value })\n}\n\n// Set first line indentation\nconst updateTextIndent = (value: number) => {\n  updateElement({ textIndent: value })\n}\n\n// Set textbox padding\nconst updateFill = (value: string) => {\n  updateElement({ fill: value })\n}\n\n// emit rich text setting command\nconst emitRichTextCommand = (command: string, value?: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command, value } })\n}\n\n// Issue rich text setting commands (batch)\nconst emitBatchRichTextCommand = (action: RichTextAction[]) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action })\n}\n\n// set rich text hyperlink\nconst link = ref('')\nconst linkPopoverVisible = ref(false)\n\nwatch(richTextAttrs, () => linkPopoverVisible.value = false)\n\nconst openLinkPopover = () => {\n  link.value = richTextAttrs.value.link\n  linkPopoverVisible.value = true\n}\nconst updateLink = (link?: string) => {\n  if (link) {\n    const linkRegExp = /^(https?):\\/\\/[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-.,@?^=%&:\\/ ~+#]*[\\w\\-@?^=%&\\/~+#])?$/\n    if (!linkRegExp.test(link)) return message.error('not the correct web page link address')\n  }\n  emitRichTextCommand('link', link)\n  linkPopoverVisible.value = false\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconAddText = _resolveComponent(\"IconAddText\")!\n  const _component_IconText = _resolveComponent(\"IconText\")!\n  const _component_IconHighLight = _resolveComponent(\"IconHighLight\")!\n  const _component_IconTextBold = _resolveComponent(\"IconTextBold\")!\n  const _component_IconTextItalic = _resolveComponent(\"IconTextItalic\")!\n  const _component_IconTextUnderline = _resolveComponent(\"IconTextUnderline\")!\n  const _component_IconStrikethrough = _resolveComponent(\"IconStrikethrough\")!\n  const _component_IconCode = _resolveComponent(\"IconCode\")!\n  const _component_IconQuote = _resolveComponent(\"IconQuote\")!\n  const _component_IconFormat = _resolveComponent(\"IconFormat\")!\n  const _component_IconFormatBrush = _resolveComponent(\"IconFormatBrush\")!\n  const _component_IconLinkOne = _resolveComponent(\"IconLinkOne\")!\n  const _component_IconAlignTextLeft = _resolveComponent(\"IconAlignTextLeft\")!\n  const _component_IconAlignTextCenter = _resolveComponent(\"IconAlignTextCenter\")!\n  const _component_IconAlignTextRight = _resolveComponent(\"IconAlignTextRight\")!\n  const _component_IconList = _resolveComponent(\"IconList\")!\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconOrderedList = _resolveComponent(\"IconOrderedList\")!\n  const _component_IconIndentLeft = _resolveComponent(\"IconIndentLeft\")!\n  const _component_IconIndentRight = _resolveComponent(\"IconIndentRight\")!\n  const _component_IconRowHeight = _resolveComponent(\"IconRowHeight\")!\n  const _component_IconVerticalSpacingBetweenItems = _resolveComponent(\"IconVerticalSpacingBetweenItems\")!\n  const _component_IconFullwidth = _resolveComponent(\"IconFullwidth\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(presetStyles, (item) => {\n        return _createElementVNode(\"div\", {\n          class: \"preset-style-item\",\n          key: item.label,\n          style: _normalizeStyle(item.style),\n          onClick: ($event: any) => (emitBatchRichTextCommand(item.cmd))\n        }, _toDisplayString(item.label), 13, _hoisted_3)\n      }), 64))\n    ]),\n    _createVNode(_unref(Divider)),\n    _createVNode(_unref(InputGroup), {\n      compact: \"\",\n      class: \"row\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Select), {\n          class: \"font-select\",\n          style: {\"flex\":\"3\"},\n          value: _unref(richTextAttrs).fontname,\n          onChange: _cache[0] || (_cache[0] = value => emitRichTextCommand('fontname', value as string))\n        }, {\n          suffixIcon: _withCtx(() => [\n            _createVNode(_component_IconFontSize)\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(SelectOptGroup), { label: \"system font\" }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(availableFonts), (font) => {\n                  return (_openBlock(), _createBlock(_unref(SelectOption), {\n                    key: font.value,\n                    value: font.value\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"span\", {\n                        style: _normalizeStyle({ fontFamily: font.value })\n                      }, _toDisplayString(font.label), 5)\n                    ]),\n                    _: 2\n                  }, 1032, [\"value\"]))\n                }), 128))\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(SelectOptGroup), { label: \"Online font\" }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(WEB_FONTS), (font) => {\n                  return (_openBlock(), _createBlock(_unref(SelectOption), {\n                    key: font.value,\n                    value: font.value\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"span\", null, _toDisplayString(font.label), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"value\"]))\n                }), 128))\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"]),\n        _createVNode(_unref(Select), {\n          style: {\"flex\":\"2\"},\n          value: _unref(richTextAttrs).fontsize,\n          onChange: _cache[1] || (_cache[1] = value => emitRichTextCommand('fontsize', value as string))\n        }, {\n          suffixIcon: _withCtx(() => [\n            _createVNode(_component_IconAddText)\n          ]),\n          default: _withCtx(() => [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(fontSizeOptions, (fontsize) => {\n              return _createVNode(_unref(SelectOption), {\n                key: fontsize,\n                value: fontsize\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(fontsize), 1)\n                ]),\n                _: 2\n              }, 1032, [\"value\"])\n            }), 64))\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Popover), { trigger: \"click\" }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: _unref(richTextAttrs).color,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = value => emitRichTextCommand('color', value))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(Tooltip), {\n              mouseLeaveDelay: 0,\n              mouseEnterDelay: 0.5,\n              title: \"Text Color\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(TextColorButton, {\n                  color: _unref(richTextAttrs).color,\n                  style: {\"flex\":\"3\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconText)\n                  ]),\n                  _: 1\n                }, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Popover), { trigger: \"click\" }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: _unref(richTextAttrs).backcolor,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = value => emitRichTextCommand('backcolor', value))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(Tooltip), {\n              mouseLeaveDelay: 0,\n              mouseEnterDelay: 0.5,\n              title: \"Text Highlight\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(TextColorButton, {\n                  color: _unref(richTextAttrs).backcolor,\n                  style: {\"flex\":\"3\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconHighLight)\n                  ]),\n                  _: 1\n                }, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Increase font size\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              class: \"font-size-btn\",\n              style: {\"flex\":\"2\"},\n              onClick: _cache[4] || (_cache[4] = ($event: any) => (emitRichTextCommand('fontsize-add')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconFontSize),\n                _createTextVNode(\"+ \")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Reduce font size\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              class: \"font-size-btn\",\n              style: {\"flex\":\"2\"},\n              onClick: _cache[5] || (_cache[5] = ($event: any) => (emitRichTextCommand('fontsize-reduce')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconFontSize),\n                _createTextVNode(\"- \")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(CheckboxButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Bold\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: _unref(richTextAttrs).bold,\n              onClick: _cache[6] || (_cache[6] = ($event: any) => (emitRichTextCommand('bold')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconTextBold)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Italics\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: _unref(richTextAttrs).em,\n              onClick: _cache[7] || (_cache[7] = ($event: any) => (emitRichTextCommand('em')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconTextItalic)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Underline\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: _unref(richTextAttrs).underline,\n              onClick: _cache[8] || (_cache[8] = ($event: any) => (emitRichTextCommand('underline')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconTextUnderline)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Strikethrough\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: _unref(richTextAttrs).strikethrough,\n              onClick: _cache[9] || (_cache[9] = ($event: any) => (emitRichTextCommand('strikethrough')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconStrikethrough)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(CheckboxButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"superscript\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: _unref(richTextAttrs).superscript,\n              onClick: _cache[10] || (_cache[10] = ($event: any) => (emitRichTextCommand('superscript')))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" A²\")\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"subscript\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: _unref(richTextAttrs).subscript,\n              onClick: _cache[11] || (_cache[11] = ($event: any) => (emitRichTextCommand('subscript')))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"A₂ \")\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Inline code\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: _unref(richTextAttrs).code,\n              onClick: _cache[12] || (_cache[12] = ($event: any) => (emitRichTextCommand('code')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconCode)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Quotation\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: _unref(richTextAttrs).blockquote,\n              onClick: _cache[13] || (_cache[13] = ($event: any) => (emitRichTextCommand('blockquote')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconQuote)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(CheckboxButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Clear Format\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[14] || (_cache[14] = ($event: any) => (emitRichTextCommand('clear')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconFormat)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Format Painter\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: !!_unref(textFormatPainter),\n              onClick: _cache[15] || (_cache[15] = ($event: any) => (_unref(toggleFormatPainter)()))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconFormatBrush)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Hyperlink\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Popover), {\n              placement: \"bottomRight\",\n              trigger: \"click\",\n              visible: linkPopoverVisible.value,\n              \"onUpdate:visible\": _cache[20] || (_cache[20] = ($event: any) => ((linkPopoverVisible).value = $event))\n            }, {\n              content: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_4, [\n                  _createVNode(_unref(Input), {\n                    value: link.value,\n                    \"onUpdate:value\": _cache[16] || (_cache[16] = ($event: any) => ((link).value = $event)),\n                    placeholder: \"Please enter a hyperlink\"\n                  }, null, 8, [\"value\"]),\n                  _createElementVNode(\"div\", _hoisted_5, [\n                    _createVNode(_unref(Button), {\n                      size: \"small\",\n                      disabled: !_unref(richTextAttrs).link,\n                      onClick: _cache[17] || (_cache[17] = ($event: any) => (updateLink())),\n                      style: {\"margin-right\":\"5px\"}\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"Remove\")\n                      ]),\n                      _: 1\n                    }, 8, [\"disabled\"]),\n                    _createVNode(_unref(Button), {\n                      size: \"small\",\n                      type: \"primary\",\n                      onClick: _cache[18] || (_cache[18] = ($event: any) => (updateLink(link.value)))\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"Confirm\")\n                      ]),\n                      _: 1\n                    })\n                  ])\n                ])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(CheckboxButton, {\n                  style: {\"flex\":\"1\"},\n                  checked: !!_unref(richTextAttrs).link,\n                  onClick: _cache[19] || (_cache[19] = ($event: any) => (openLinkPopover()))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconLinkOne)\n                  ]),\n                  _: 1\n                }, 8, [\"checked\"])\n              ]),\n              _: 1\n            }, 8, [\"visible\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(Divider)),\n    _createVNode(_unref(RadioGroup), {\n      class: \"row\",\n      \"button-style\": \"solid\",\n      value: _unref(richTextAttrs).align,\n      onChange: _cache[21] || (_cache[21] = e => emitRichTextCommand('align', e.target.value))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Left alignment\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              value: \"left\",\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignTextLeft)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Center\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              value: \"center\",\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignTextCenter)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Right Align\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              value: \"right\",\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignTextRight)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"value\"]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createVNode(_unref(ButtonGroup), { style: {\"flex\":\"15\"} }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(Tooltip), {\n            mouseLeaveDelay: 0,\n            mouseEnterDelay: 0.5,\n            title: \"Bullets\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Button), {\n                type: _unref(richTextAttrs).bulletList ? 'primary' : 'default',\n                style: {\"flex\":\"1\"},\n                onClick: _cache[22] || (_cache[22] = ($event: any) => (emitRichTextCommand('bulletList')))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconList)\n                ]),\n                _: 1\n              }, 8, [\"type\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(Popover), {\n            trigger: \"click\",\n            visible: bulletListPanelVisible.value,\n            \"onUpdate:visible\": _cache[23] || (_cache[23] = ($event: any) => ((bulletListPanelVisible).value = $event))\n          }, {\n            content: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_7, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(bulletListStyleTypeOption.value, (item) => {\n                  return (_openBlock(), _createElementBlock(\"ul\", {\n                    class: \"list\",\n                    key: item,\n                    style: _normalizeStyle({ listStyleType: item }),\n                    onClick: ($event: any) => (emitRichTextCommand('bulletList', item))\n                  }, [\n                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(3, (key) => {\n                      return _createElementVNode(\"li\", {\n                        class: \"list-item\",\n                        key: key\n                      }, _hoisted_10)\n                    }), 64))\n                  ], 12, _hoisted_8))\n                }), 128))\n              ])\n            ]),\n            default: _withCtx(() => [\n              _createVNode(_unref(Button), { class: \"popover-btn\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconDown)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"visible\"])\n        ]),\n        _: 1\n      }),\n      _hoisted_11,\n      _createVNode(_unref(ButtonGroup), { style: {\"flex\":\"15\"} }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(Tooltip), {\n            mouseLeaveDelay: 0,\n            mouseEnterDelay: 0.5,\n            title: \"Number\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Button), {\n                type: _unref(richTextAttrs).orderedList ? 'primary' : 'default',\n                style: {\"flex\":\"1\"},\n                onClick: _cache[24] || (_cache[24] = ($event: any) => (emitRichTextCommand('orderedList')))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconOrderedList)\n                ]),\n                _: 1\n              }, 8, [\"type\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(Popover), {\n            trigger: \"click\",\n            visible: orderedListPanelVisible.value,\n            \"onUpdate:visible\": _cache[25] || (_cache[25] = ($event: any) => ((orderedListPanelVisible).value = $event))\n          }, {\n            content: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_12, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(orderedListStyleTypeOption.value, (item) => {\n                  return (_openBlock(), _createElementBlock(\"ul\", {\n                    class: \"list\",\n                    key: item,\n                    style: _normalizeStyle({ listStyleType: item }),\n                    onClick: ($event: any) => (emitRichTextCommand('orderedList', item))\n                  }, [\n                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(3, (key) => {\n                      return _createElementVNode(\"li\", {\n                        class: \"list-item\",\n                        key: key\n                      }, _hoisted_15)\n                    }), 64))\n                  ], 12, _hoisted_13))\n                }), 128))\n              ])\n            ]),\n            default: _withCtx(() => [\n              _createVNode(_unref(Button), { class: \"popover-btn\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconDown)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"visible\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Reduce indentation\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[26] || (_cache[26] = ($event: any) => (emitRichTextCommand('indent', '-1')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconIndentLeft)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Increase indent\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[27] || (_cache[27] = ($event: any) => (emitRichTextCommand('indent', '+1')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconIndentRight)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(Divider)),\n    _createElementVNode(\"div\", _hoisted_16, [\n      _hoisted_17,\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"3\"},\n        value: lineHeight.value,\n        onChange: _cache[28] || (_cache[28] = value => updateLineHeight(value as number))\n      }, {\n        suffixIcon: _withCtx(() => [\n          _createVNode(_component_IconRowHeight)\n        ]),\n        default: _withCtx(() => [\n          (_openBlock(), _createElementBlock(_Fragment, null, _renderList(lineHeightOptions, (item) => {\n            return _createVNode(_unref(SelectOption), {\n              key: item,\n              value: item\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(item) + \" times\", 1)\n              ]),\n              _: 2\n            }, 1032, [\"value\"])\n          }), 64))\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_18, [\n      _hoisted_19,\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"3\"},\n        value: paragraphSpace.value,\n        onChange: _cache[29] || (_cache[29] = value => updateParagraphSpace(value as number))\n      }, {\n        suffixIcon: _withCtx(() => [\n          _createVNode(_component_IconVerticalSpacingBetweenItems)\n        ]),\n        default: _withCtx(() => [\n          (_openBlock(), _createElementBlock(_Fragment, null, _renderList(paragraphSpaceOptions, (item) => {\n            return _createVNode(_unref(SelectOption), {\n              key: item,\n              value: item\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(item) + \"px\", 1)\n              ]),\n              _: 2\n            }, 1032, [\"value\"])\n          }), 64))\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_20, [\n      _hoisted_21,\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"3\"},\n        value: wordSpace.value,\n        onChange: _cache[30] || (_cache[30] = value => updateWordSpace(value as number))\n      }, {\n        suffixIcon: _withCtx(() => [\n          _createVNode(_component_IconFullwidth)\n        ]),\n        default: _withCtx(() => [\n          (_openBlock(), _createElementBlock(_Fragment, null, _renderList(wordSpaceOptions, (item) => {\n            return _createVNode(_unref(SelectOption), {\n              key: item,\n              value: item\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(item) + \"px\", 1)\n              ]),\n              _: 2\n            }, 1032, [\"value\"])\n          }), 64))\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_22, [\n      _hoisted_23,\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"3\"},\n        value: textIndent.value,\n        onChange: _cache[31] || (_cache[31] = value => updateTextIndent(value as number))\n      }, {\n        suffixIcon: _withCtx(() => [\n          _createVNode(_component_IconIndentRight)\n        ]),\n        default: _withCtx(() => [\n          (_openBlock(), _createElementBlock(_Fragment, null, _renderList(textIndentOptions, (item) => {\n            return _createVNode(_unref(SelectOption), {\n              key: item,\n              value: item\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(item) + \"px\", 1)\n              ]),\n              _: 2\n            }, 1032, [\"value\"])\n          }), 64))\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_24, [\n      _hoisted_25,\n      _createVNode(_unref(Popover), { trigger: \"click\" }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: fill.value,\n            \"onUpdate:modelValue\": _cache[32] || (_cache[32] = value => updateFill(value))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: fill.value,\n            style: {\"flex\":\"3\"}\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementOutline),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementShadow),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementOpacity)\n  ]))\n}\n}\n\n})","import script from \"./TextStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TextStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TextStylePanel.vue?vue&type=style&index=0&id=56c13a1c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-56c13a1c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-88ca0c20\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-flip\" }\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { ImageOrShapeFlip } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport CheckboxButtonGroup from '@/components/CheckboxButtonGroup.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementFlip',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst flipH = ref(false)\nconst flipV = ref(false)\n\nwatch(handleElement, () => {\n  if (handleElement.value && (handleElement.value.type === 'image' || handleElement.value.type === 'shape')) {\n    flipH.value = !!handleElement.value.flipH\n    flipV.value = !!handleElement.value.flipV\n  }\n}, { deep: true, immediate: true })\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateFlip = (flipProps: ImageOrShapeFlip) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props: flipProps })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconFlipVertically = _resolveComponent(\"IconFlipVertically\")!\n  const _component_IconFlipHorizontally = _resolveComponent(\"IconFlipHorizontally\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(CheckboxButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: flipV.value,\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (updateFlip({ flipV: !flipV.value })))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconFlipVertically),\n            _createTextVNode(\" Flip vertically\")\n          ]),\n          _: 1\n        }, 8, [\"checked\"]),\n        _createVNode(CheckboxButton, {\n          style: {\"flex\":\"1\"},\n          checked: flipH.value,\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (updateFlip({ flipH: !flipH.value })))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconFlipHorizontally),\n            _createTextVNode(\"Flip horizontally\")\n          ]),\n          _: 1\n        }, 8, [\"checked\"])\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./ElementFlip.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementFlip.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementFlip.vue?vue&type=style&index=0&id=88ca0c20&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-88ca0c20\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d0077454\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-filter\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Enable filter:\", -1))\nconst _hoisted_4 = {\n  class: \"switch-wrapper\",\n  style: {\"flex\":\"3\"}\n}\nconst _hoisted_5 = {\n  key: 0,\n  class: \"filter\"\n}\nconst _hoisted_6 = { class: \"name\" }\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { ImageElementFilterKeys, PPTImageElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport { Slider, Switch } from 'ant-design-vue'\n\ninterface FilterOption {\n  label: string\n  key: ImageElementFilterKeys\n  default: number\n  value: number\n  unit: string\n  max: number\n  step: number\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementFilter',\n  setup(__props) {\n\nconst defaultFilters: FilterOption[] = [\n  { label: 'blur', key: 'blur', default: 0, value: 0, unit: 'px', max: 10, step: 1 },\n  { label: 'brightness', key: 'brightness', default: 100, value: 100, unit: '%', max: 200, step: 5 },\n  { label: 'contrast', key: 'contrast', default: 100, value: 100, unit: '%', max: 200, step: 5 },\n  { label: 'grayscale', key: 'grayscale', default: 0, value: 0, unit: '%', max: 100, step: 5 },\n  { label: 'saturation', key: 'saturate', default: 100, value: 100, unit: '%', max: 200, step: 5 },\n  { label: 'hue', key: 'hue-rotate', default: 0, value: 0, unit: 'deg', max: 360, step: 10 },\n  { label: 'opacity', key: 'opacity', default: 100, value: 100, unit: '%', max: 100, step: 5 },\n]\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\n\nconst filterOptions = ref<FilterOption[]>(JSON. parse(JSON. stringify(defaultFilters)))\nconst hasFilters = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nwatch(handleElement, () => {\n  if (!handleElement.value || handleElement.value.type !== 'image') return\n \n  const filters = handleElement.value.filters\n  if (filters) {\n    filterOptions.value = defaultFilters.map(item => {\n      const filterItem = filters[item.key]\n      if (filterItem) return { ...item, value: parseInt(filterItem) }\n      return item\n    })\n    hasFilters. value = true\n  }\n  else {\n    filterOptions.value = JSON.parse(JSON.stringify(defaultFilters))\n    hasFilters. value = false\n  }\n}, { deep: true, immediate: true })\n\n// set filter\nconst updateFilter = (filter: FilterOption, value: number) => {\n  const _handleElement = handleElement.value as PPTImageElement\n \n  const originFilters = _handleElement.filters || {}\n  const filters = { ...originFilters, [filter.key]: `${value}${filter.unit}` }\n  slidesStore.updateElement({ id: handleElementId.value, props: { filters } })\n  addHistorySnapshot()\n}\n\nconst toggleFilters = (checked: boolean) => {\n  if (!handleElement. value) return\n  if (checked) {\n    slidesStore.updateElement({ id: handleElement.value.id, props: { filters: {} } })\n  }\n  else {\n    slidesStore.removeElementProps({ id: handleElement.value.id, propName: 'filters' })\n  }\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(_unref(Switch), {\n          checked: hasFilters.value,\n          onChange: _cache[0] || (_cache[0] = checked => toggleFilters(checked as boolean))\n        }, null, 8, [\"checked\"])\n      ])\n    ]),\n    (hasFilters.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(filterOptions.value, (filter) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"filter-item\",\n              key: filter.key\n            }, [\n              _createElementVNode(\"div\", _hoisted_6, _toDisplayString(filter.label), 1),\n              _createVNode(_unref(Slider), {\n                class: \"filter-slider\",\n                max: filter.max,\n                min: 0,\n                step: filter.step,\n                value: filter.value,\n                onChange: value => updateFilter(filter, value as number)\n              }, null, 8, [\"max\", \"step\", \"value\", \"onChange\"])\n            ]))\n          }), 128))\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./ElementFilter.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementFilter.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementFilter.vue?vue&type=style&index=0&id=d0077454&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d0077454\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, withCtx as _withCtx, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-583da1eb\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-color-mask\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, \"Recolor (masking):\", -1))\nconst _hoisted_4 = {\n  class: \"switch-wrapper\",\n  style: {\"flex\":\"1\"}\n}\nconst _hoisted_5 = {\n  class: \"row\",\n  style: {\"margin-top\":\"15px\"}\n}\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Mask color:\", -1))\nconst _hoisted_7 = { class: \"row\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Opacity:\", -1))\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { ImageColorElementMask } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from './ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport {\n  Popover,\n  Slider,\n  Switch,\n} from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementColorMask',\n  setup(__props) {\n\nconst defaultColorMask = { color: 'transparent', opacity: 0.3 }\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\n\nconst colorMask = ref<ImageColorElementMask>(defaultColorMask)\nconst hasColorMask = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nwatch(handleElement, () => {\n  if (!handleElement.value || handleElement.value.type !== 'image') return\n\n  if (handleElement.value.colorMask) {\n    colorMask.value = handleElement.value.colorMask\n    hasColorMask.value = true\n  }\n  else hasColorMask.value = false\n}, { deep: true, immediate: true })\n\nconst toggleColorMask = (checked: boolean) => {\n  if (!handleElement.value) return\n  if (checked) {\n    slidesStore.updateElement({ id: handleElement.value.id, props: { colorMask: defaultColorMask } })\n  }\n  else {\n    slidesStore.removeElementProps({ id: handleElement.value.id, propName: 'colorMask' })\n  }\n  addHistorySnapshot()\n}\n\nconst updateColorMask = (colorMaskProp: Partial<ImageColorElementMask>) => {\n  const newColorMask = { ...colorMask.value, ...colorMaskProp }\n  slidesStore.updateElement({ id: handleElementId.value, props: { colorMask: newColorMask } })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(_unref(Switch), {\n          checked: hasColorMask.value,\n          onChange: _cache[0] || (_cache[0] = checked => toggleColorMask(checked as boolean))\n        }, null, 8, [\"checked\"])\n      ])\n    ]),\n    (hasColorMask.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _hoisted_6,\n            _createVNode(_unref(Popover), { trigger: \"click\" }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: colorMask.value.color,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = value => updateColorMask({ color: value }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: colorMask.value.color,\n                  style: {\"flex\":\"3\"}\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_7, [\n            _hoisted_8,\n            _createVNode(_unref(Slider), {\n              class: \"opacity-slider\",\n              max: 1,\n              min: 0,\n              step: 0.05,\n              value: colorMask.value. opacity,\n              onChange: _cache[2] || (_cache[2] = value => updateColorMask({ opacity: value as number }))\n            }, null, 8, [\"value\"])\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./ElementColorMask.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementColorMask.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementColorMask.vue?vue&type=style&index=0&id=583da1eb&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-583da1eb\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, createTextVNode as _createTextVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-30757dc1\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"image-style-panel\" }\nconst _hoisted_2 = { class: \"clip\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"按形状：\", -1))\nconst _hoisted_4 = { class: \"shape-clip\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = {\n  key: 0,\n  class: \"title\"\n}\n\nimport { Ref, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTImageElement, SlideBackground } from '@/types/slides'\nimport { CLIPPATHS } from '@/configs/imageClip'\nimport { getImageDataURL } from '@/utils/image'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ElementFlip from '../common/ElementFlip.vue'\nimport ElementFilter from '../common/ElementFilter.vue'\nimport ElementColorMask from '../common/ElementColorMask.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport {\n  Divider,\n  Button,\n  Popover,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ImageStylePanel',\n  setup(__props) {\n\nconst ButtonGroup = Button.Group\n\nconst shapeClipPathOptions = CLIPPATHS\nconst ratioClipOptions = [\n  {\n    label: '纵横比（方形）',\n    children: [\n      { key: '1:1', ratio: 1 / 1 },\n    ],\n  },\n  {\n    label: '纵横比（纵向）',\n    children: [\n      { key: '2:3', ratio: 3 / 2 },\n      { key: '3:4', ratio: 4 / 3 },\n      { key: '3:5', ratio: 5 / 3 },\n      { key: '4:5', ratio: 5 / 4 },\n    ],\n  },\n  {\n    label: '纵横比（横向）',\n    children: [\n      { key: '3:2', ratio: 2 / 3 },\n      { key: '4:3', ratio: 3 / 4 },\n      { key: '5:3', ratio: 3 / 5 },\n      { key: '5:4', ratio: 4 / 5 },\n    ],\n  },\n  {\n    children: [\n      { key: '16:9', ratio: 9 / 16 },\n      { key: '16:10', ratio: 10 / 16 },\n    ],\n  },\n]\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(mainStore)\nconst { currentSlide } = storeToRefs(slidesStore)\n\nconst handleImageElement = handleElement as Ref<PPTImageElement>\n\nconst clipPanelVisible = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// 打开自由裁剪\nconst clipImage = () => {\n  mainStore.setClipingImageElementId(handleElementId.value)\n  clipPanelVisible.value = false\n}\n\n// 获取原始图片的位置大小\nconst getImageElementDataBeforeClip = () => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  // 图片当前的位置大小和裁剪范围\n  const imgWidth = _handleElement.width\n  const imgHeight = _handleElement.height\n  const imgLeft = _handleElement.left\n  const imgTop = _handleElement.top\n  const originClipRange: [[number, number], [number, number]] = _handleElement.clip ? _handleElement.clip.range : [[0, 0], [100, 100]]\n\n  const originWidth = imgWidth / ((originClipRange[1][0] - originClipRange[0][0]) / 100)\n  const originHeight = imgHeight / ((originClipRange[1][1] - originClipRange[0][1]) / 100)\n  const originLeft = imgLeft - originWidth * (originClipRange[0][0] / 100)\n  const originTop = imgTop - originHeight * (originClipRange[0][1] / 100)\n\n  return {\n    originClipRange,\n    originWidth,\n    originHeight,\n    originLeft,\n    originTop,\n  }\n}\n\n// 预设裁剪\nconst presetImageClip = (shape: string, ratio = 0) => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  const {\n    originClipRange,\n    originWidth,\n    originHeight,\n    originLeft,\n    originTop,\n  } = getImageElementDataBeforeClip()\n  \n  // 纵横比裁剪（形状固定为矩形）\n  if (ratio) {\n    const imageRatio = originHeight / originWidth\n\n    const min = 0\n    const max = 100\n    let range: [[number, number], [number, number]]\n\n    if (imageRatio > ratio) {\n      const distance = ((1 - ratio / imageRatio) / 2) * 100\n      range = [[min, distance], [max, max - distance]]\n    }\n    else {\n      const distance = ((1 - imageRatio / ratio) / 2) * 100\n      range = [[distance, min], [max - distance, max]]\n    }\n    slidesStore.updateElement({\n      id: handleElementId.value,\n      props: {\n        clip: { ..._handleElement.clip, shape, range },\n        left: originLeft + originWidth * (range[0][0] / 100),\n        top: originTop + originHeight * (range[0][1] / 100),\n        width: originWidth * (range[1][0] - range[0][0]) / 100,\n        height: originHeight * (range[1][1] - range[0][1]) / 100,\n      },\n    })\n  }\n  // 形状裁剪（保持当前裁剪范围）\n  else {\n    slidesStore.updateElement({\n      id: handleElementId.value,\n      props: {\n        clip: { ..._handleElement.clip, shape, range: originClipRange }\n      },\n    })\n  }\n  clipImage()\n  addHistorySnapshot()\n}\n\n// 替换图片（保持当前的样式）\nconst replaceImage = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then(dataURL => {\n    const props = { src: dataURL }\n    slidesStore.updateElement({ id: handleElementId.value, props })\n  })\n  addHistorySnapshot()\n}\n\n// 重置图片：清除全部样式\nconst resetImage = () => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  if (_handleElement.clip) {\n    const {\n      originWidth,\n      originHeight,\n      originLeft,\n      originTop,\n    } = getImageElementDataBeforeClip()\n\n    slidesStore.updateElement({\n      id: handleElementId.value,\n      props: {\n        left: originLeft,\n        top: originTop,\n        width: originWidth,\n        height: originHeight,\n      },\n    })\n  }\n\n  slidesStore.removeElementProps({\n    id: handleElementId.value,\n    propName: ['clip', 'outline', 'flip', 'shadow', 'filters', 'colorMask'],\n  })\n  addHistorySnapshot()\n}\n\n// 将图片设置为背景\nconst setBackgroundImage = () => {\n  const _handleElement = handleElement.value as PPTImageElement\n\n  const background: SlideBackground = {\n    ...currentSlide.value.background,\n    type: 'image',\n    image: _handleElement.src,\n    imageSize: 'cover',\n  }\n  slidesStore.updateSlide({ background })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconTailoring = _resolveComponent(\"IconTailoring\")!\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconTransform = _resolveComponent(\"IconTransform\")!\n  const _component_IconUndo = _resolveComponent(\"IconUndo\")!\n  const _component_IconTheme = _resolveComponent(\"IconTheme\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"origin-image\",\n      style: _normalizeStyle({ backgroundImage: `url(${_unref(handleImageElement).src})` })\n    }, null, 4),\n    _createVNode(ElementFlip),\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Button), {\n          style: {\"flex\":\"5\"},\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (clipImage()))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconTailoring, { class: \"btn-icon\" }),\n            _createTextVNode(\" 裁剪图片\")\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Popover), {\n          trigger: \"click\",\n          visible: clipPanelVisible.value,\n          \"onUpdate:visible\": _cache[1] || (_cache[1] = ($event: any) => ((clipPanelVisible).value = $event))\n        }, {\n          content: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_2, [\n              _hoisted_3,\n              _createElementVNode(\"div\", _hoisted_4, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(shapeClipPathOptions), (item, key) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    class: \"shape-clip-item\",\n                    key: key,\n                    onClick: ($event: any) => (presetImageClip(key as string))\n                  }, [\n                    _createElementVNode(\"div\", {\n                      class: \"shape\",\n                      style: _normalizeStyle({ clipPath: item.style })\n                    }, null, 4)\n                  ], 8, _hoisted_5))\n                }), 128))\n              ]),\n              (_openBlock(), _createElementBlock(_Fragment, null, _renderList(ratioClipOptions, (type) => {\n                return (_openBlock(), _createElementBlock(_Fragment, {\n                  key: type.label\n                }, [\n                  (type.label)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \"按\" + _toDisplayString(type.label) + \"：\", 1))\n                    : _createCommentVNode(\"\", true),\n                  _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n                    default: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(type.children, (item) => {\n                        return (_openBlock(), _createBlock(_unref(Button), {\n                          style: {\"flex\":\"1\"},\n                          key: item.key,\n                          onClick: ($event: any) => (presetImageClip('rect', item.ratio))\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(item.key), 1)\n                          ]),\n                          _: 2\n                        }, 1032, [\"onClick\"]))\n                      }), 128))\n                    ]),\n                    _: 2\n                  }, 1024)\n                ], 64))\n              }), 64))\n            ])\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              class: \"no-padding\",\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconDown)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"visible\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementColorMask),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementFilter),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementOutline),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementShadow),\n    _createVNode(_unref(Divider)),\n    _createVNode(FileInput, {\n      onChange: _cache[2] || (_cache[2] = files => replaceImage(files))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Button), { class: \"full-width-btn\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconTransform, { class: \"btn-icon\" }),\n            _createTextVNode(\" 替换图片\")\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(Button), {\n      class: \"full-width-btn\",\n      onClick: _cache[3] || (_cache[3] = ($event: any) => (resetImage()))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_IconUndo, { class: \"btn-icon\" }),\n        _createTextVNode(\" 重置样式\")\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(Button), {\n      class: \"full-width-btn\",\n      onClick: _cache[4] || (_cache[4] = ($event: any) => (setBackgroundImage()))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_IconTheme, { class: \"btn-icon\" }),\n        _createTextVNode(\" 设为背景\")\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./ImageStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ImageStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ImageStylePanel.vue?vue&type=style&index=0&id=30757dc1&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-30757dc1\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-65b6300f\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"shape-style-panel\" }\nconst _hoisted_2 = { class: \"title\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Click to replace shape\", -1))\nconst _hoisted_4 = { class: \"shape-pool\" }\nconst _hoisted_5 = { class: \"shape-list\" }\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Start color:\", -1))\nconst _hoisted_10 = { class: \"row\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"End color:\", -1))\nconst _hoisted_12 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Gradient angle:\", -1))\n\nimport { Ref, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTShapeElement, ShapeGradient, ShapeText } from '@/types/slides'\nimport { WEB_FONTS } from '@/configs/font'\nimport { ShapePoolItem, SHAPE_LIST, SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useTextFormatPainter from '@/hooks/useTextFormatPainter'\n\nimport ElementOpacity from '../common/ElementOpacity.vue'\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ElementFlip from '../common/ElementFlip.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport CheckboxButtonGroup from '@/components/CheckboxButtonGroup.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport ShapeItemThumbnail from '@/views/Editor/CanvasTool/ShapeItemThumbnail.vue'\nimport {\n  Divider,\n  Button,\n  Tooltip,\n  Popover,\n  Slider,\n  Select,\n  Radio,\n  Input,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ShapeStylePanel',\n  setup(__props) {\n\nconst { Group: RadioGroup, Button: RadioButton } = Radio\nconst { OptGroup: SelectOptGroup, Option: SelectOption } = Select\nconst InputGroup = Input.Group\nconst ButtonGroup = Button.Group\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId, richTextAttrs, availableFonts, textFormatPainter } = storeToRefs(mainStore)\n\nconst handleShapeElement = handleElement as Ref<PPTShapeElement>\n\nconst fill = ref<string>('#000')\nconst gradient = ref<ShapeGradient>({\n  type: 'linear',\n  rotate: 0,\n  color: ['#fff', '#fff'],\n})\nconst fillType = ref('fill')\nconst textAlign = ref('middle')\n\nwatch(handleElement, () => {\n  if (!handleElement.value || handleElement.value.type !== 'shape') return\n\n  fill.value = handleElement.value.fill || '#fff'\n  gradient.value = handleElement.value.gradient || { type: 'linear', rotate: 0, color: [fill.value, '#fff'] }\n  fillType.value = handleElement.value.gradient ? 'gradient' : 'fill'\n  textAlign.value = handleElement.value?.text?.align || 'middle'\n}, { deep: true, immediate: true })\n\nconst { addHistorySnapshot } = useHistorySnapshot()\nconst { toggleFormatPainter } = useTextFormatPainter()\n\nconst updateElement = (props: Partial<PPTShapeElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n// Set the fill type: gradient, solid color\nconst updateFillType = (type: 'gradient' | 'fill') => {\n  if (type === 'fill') {\n    slidesStore.removeElementProps({ id: handleElementId.value, propName: 'gradient' })\n    addHistorySnapshot()\n  }\n  else updateElement({ gradient: gradient.value })\n}\n\n// set gradient fill\nconst updateGradient = (gradientProps: Partial<ShapeGradient>) => {\n  if (!gradient.value) return\n  const _gradient: ShapeGradient = { ...gradient.value, ...gradientProps }\n  updateElement({ gradient: _gradient })\n}\n\n// set fill color\nconst updateFill = (value: string) => {\n  updateElement({ fill: value })\n}\n\n// modify the shape\nconst changeShape = (shape: ShapePoolItem) => {\n  const { width, height } = handleElement.value as PPTShapeElement\n  const props: Partial<PPTShapeElement> = {\n    viewBox: shape.viewBox,\n    path: shape.path,\n    special: shape.special,\n  }\n  if (shape.pathFormula) {\n    props.pathFormula = shape.pathFormula\n    props.viewBox = [width, height]\n\n    const pathFormula = SHAPE_PATH_FORMULAS[shape.pathFormula]\n    if ('editable' in pathFormula) {\n      props.path = pathFormula.formula(width, height, pathFormula.defaultValue)\n      props.keypoint = pathFormula.defaultValue\n    }\n    else props.path = pathFormula.formula(width, height)\n  }\n  else {\n    props.pathFormula = undefined\n    props.keypoint = undefined\n  }\n  updateElement(props)\n}\n\nconst updateTextAlign = (align: 'top' | 'middle' | 'bottom') => {\n  const _handleElement = handleElement.value as PPTShapeElement\n\n  const defaultText: ShapeText = {\n    content: '',\n    defaultFontName: 'Microsoft Yahei',\n    defaultColor: '#000',\n    align: 'middle',\n  }\n  const _text = _handleElement.text || defaultText\n  updateElement({ text: { ..._text, align } })\n}\n\nconst fontSizeOptions = [\n  '12px', '14px', '16px', '18px', '20px', '22px', '24px', '28px', '32px',\n  '36px', '40px', '44px', '48px', '54px', '60px', '66px', '72px', '76px',\n  '80px', '88px', '96px', '104px', '112px', '120px',\n]\n\nconst emitRichTextCommand = (command: string, value?: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command, value } })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconAddText = _resolveComponent(\"IconAddText\")!\n  const _component_IconText = _resolveComponent(\"IconText\")!\n  const _component_IconHighLight = _resolveComponent(\"IconHighLight\")!\n  const _component_IconTextBold = _resolveComponent(\"IconTextBold\")!\n  const _component_IconTextItalic = _resolveComponent(\"IconTextItalic\")!\n  const _component_IconTextUnderline = _resolveComponent(\"IconTextUnderline\")!\n  const _component_IconStrikethrough = _resolveComponent(\"IconStrikethrough\")!\n  const _component_IconFormat = _resolveComponent(\"IconFormat\")!\n  const _component_IconFormatBrush = _resolveComponent(\"IconFormatBrush\")!\n  const _component_IconAlignTextLeft = _resolveComponent(\"IconAlignTextLeft\")!\n  const _component_IconAlignTextCenter = _resolveComponent(\"IconAlignTextCenter\")!\n  const _component_IconAlignTextRight = _resolveComponent(\"IconAlignTextRight\")!\n  const _component_IconAlignTextTopOne = _resolveComponent(\"IconAlignTextTopOne\")!\n  const _component_IconAlignTextMiddleOne = _resolveComponent(\"IconAlignTextMiddleOne\")!\n  const _component_IconAlignTextBottomOne = _resolveComponent(\"IconAlignTextBottomOne\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(_component_IconDown)\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(SHAPE_LIST), (item) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"category\",\n          key: item.type\n        }, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.children, (shape, index) => {\n              return (_openBlock(), _createBlock(ShapeItemThumbnail, {\n                class: \"shape-item\",\n                key: index,\n                shape: shape,\n                onClick: ($event: any) => (changeShape(shape))\n              }, null, 8, [\"shape\", \"onClick\"]))\n            }), 128))\n          ])\n        ]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"10\"},\n        value: fillType.value,\n        onChange: _cache[0] || (_cache[0] = value => updateFillType(value as 'fill' | 'gradient'))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(SelectOption), { value: \"fill\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Solid color fill\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: \"gradient\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Gradient fill\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"value\"]),\n      _hoisted_7,\n      (fillType.value === 'fill')\n        ? (_openBlock(), _createBlock(_unref(Popover), {\n            key: 0,\n            trigger: \"click\"\n          }, {\n            content: _withCtx(() => [\n              _createVNode(ColorPicker, {\n                modelValue: fill.value,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = value => updateFill(value))\n              }, null, 8, [\"modelValue\"])\n            ]),\n            default: _withCtx(() => [\n              _createVNode(ColorButton, {\n                color: fill.value,\n                style: {\"flex\":\"10\"}\n              }, null, 8, [\"color\"])\n            ]),\n            _: 1\n          }))\n        : (_openBlock(), _createBlock(_unref(Select), {\n            key: 1,\n            style: {\"flex\":\"10\"},\n            value: gradient.value.type,\n            onChange: _cache[2] || (_cache[2] = value => updateGradient({ type: value as 'linear' | 'radial' }))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(SelectOption), { value: \"linear\" }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Linear Gradient\")\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(SelectOption), { value: \"radial\" }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Radial Gradient\")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"value\"]))\n    ]),\n    (fillType.value === 'gradient')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_8, [\n            _hoisted_9,\n            _createVNode(_unref(Popover), { trigger: \"click\" }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: gradient.value.color[0],\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = value => updateGradient({ color: [value, gradient.value.color[1]] }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: gradient.value.color[0],\n                  style: {\"flex\":\"3\"}\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_10, [\n            _hoisted_11,\n            _createVNode(_unref(Popover), { trigger: \"click\" }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: gradient.value.color[1],\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = value => updateGradient({ color: [gradient.value.color[0], value] }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: gradient.value.color[1],\n                  style: {\"flex\":\"3\"}\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          (gradient.value.type === 'linear')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                _hoisted_13,\n                _createVNode(_unref(Slider), {\n                  class: \"slider\",\n                  min: 0,\n                  max: 360,\n                  step: 15,\n                  value: gradient.value.rotate,\n                  onChange: _cache[5] || (_cache[5] = value => updateGradient({ rotate: value as number }))\n                }, null, 8, [\"value\"])\n              ]))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    _createVNode(ElementFlip),\n    _createVNode(_unref(Divider)),\n    (_unref(handleShapeElement).text?.content)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          _createVNode(_unref(InputGroup), {\n            compact: \"\",\n            class: \"row\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Select), {\n                class: \"font-select\",\n                style: {\"flex\":\"3\"},\n                value: _unref(richTextAttrs).fontname,\n                onChange: _cache[6] || (_cache[6] = value => emitRichTextCommand('fontname', value as string))\n              }, {\n                suffixIcon: _withCtx(() => [\n                  _createVNode(_component_IconFontSize)\n                ]),\n                default: _withCtx(() => [\n                  _createVNode(_unref(SelectOptGroup), { label: \"system font\" }, {\n                    default: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(availableFonts), (font) => {\n                        return (_openBlock(), _createBlock(_unref(SelectOption), {\n                          key: font.value,\n                          value: font.value\n                        }, {\n                          default: _withCtx(() => [\n                            _createElementVNode(\"span\", {\n                              style: _normalizeStyle({ fontFamily: font.value })\n                            }, _toDisplayString(font.label), 5)\n                          ]),\n                          _: 2\n                        }, 1032, [\"value\"]))\n                      }), 128))\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(SelectOptGroup), { label: \"Online font\" }, {\n                    default: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(WEB_FONTS), (font) => {\n                        return (_openBlock(), _createBlock(_unref(SelectOption), {\n                          key: font.value,\n                          value: font.value\n                        }, {\n                          default: _withCtx(() => [\n                            _createElementVNode(\"span\", null, _toDisplayString(font.label), 1)\n                          ]),\n                          _: 2\n                        }, 1032, [\"value\"]))\n                      }), 128))\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }, 8, [\"value\"]),\n              _createVNode(_unref(Select), {\n                style: {\"flex\":\"2\"},\n                value: _unref(richTextAttrs).fontsize,\n                onChange: _cache[7] || (_cache[7] = value => emitRichTextCommand('fontsize', value as string))\n              }, {\n                suffixIcon: _withCtx(() => [\n                  _createVNode(_component_IconAddText)\n                ]),\n                default: _withCtx(() => [\n                  (_openBlock(), _createElementBlock(_Fragment, null, _renderList(fontSizeOptions, (fontsize) => {\n                    return _createVNode(_unref(SelectOption), {\n                      key: fontsize,\n                      value: fontsize\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(fontsize), 1)\n                      ]),\n                      _: 2\n                    }, 1032, [\"value\"])\n                  }), 64))\n                ]),\n                _: 1\n              }, 8, [\"value\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Popover), { trigger: \"click\" }, {\n                content: _withCtx(() => [\n                  _createVNode(ColorPicker, {\n                    modelValue: _unref(richTextAttrs).color,\n                    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = value => emitRichTextCommand('color', value))\n                  }, null, 8, [\"modelValue\"])\n                ]),\n                default: _withCtx(() => [\n                  _createVNode(_unref(Tooltip), {\n                    mouseLeaveDelay: 0,\n                    mouseEnterDelay: 0.5,\n                    title: \"Text Color\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(TextColorButton, {\n                        color: _unref(richTextAttrs).color,\n                        style: {\"flex\":\"3\"}\n                      }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_IconText)\n                        ]),\n                        _: 1\n                      }, 8, [\"color\"])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Popover), { trigger: \"click\" }, {\n                content: _withCtx(() => [\n                  _createVNode(ColorPicker, {\n                    modelValue: _unref(richTextAttrs).backcolor,\n                    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = value => emitRichTextCommand('backcolor', value))\n                  }, null, 8, [\"modelValue\"])\n                ]),\n                default: _withCtx(() => [\n                  _createVNode(_unref(Tooltip), {\n                    mouseLeaveDelay: 0,\n                    mouseEnterDelay: 0.5,\n                    title: \"Text Highlight\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(TextColorButton, {\n                        color: _unref(richTextAttrs).backcolor,\n                        style: {\"flex\":\"3\"}\n                      }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_IconHighLight)\n                        ]),\n                        _: 1\n                      }, 8, [\"color\"])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Increase font size\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(Button), {\n                    class: \"font-size-btn\",\n                    style: {\"flex\":\"2\"},\n                    onClick: _cache[10] || (_cache[10] = ($event: any) => (emitRichTextCommand('fontsize-add')))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconFontSize),\n                      _createTextVNode(\"+ \")\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Reduce font size\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(Button), {\n                    class: \"font-size-btn\",\n                    style: {\"flex\":\"2\"},\n                    onClick: _cache[11] || (_cache[11] = ($event: any) => (emitRichTextCommand('fontsize-reduce')))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconFontSize),\n                      _createTextVNode(\"- \")\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(CheckboxButtonGroup, { class: \"row\" }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Bold\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(CheckboxButton, {\n                    style: {\"flex\":\"1\"},\n                    checked: _unref(richTextAttrs).bold,\n                    onClick: _cache[12] || (_cache[12] = ($event: any) => (emitRichTextCommand('bold')))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconTextBold)\n                    ]),\n                    _: 1\n                  }, 8, [\"checked\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Italics\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(CheckboxButton, {\n                    style: {\"flex\":\"1\"},\n                    checked: _unref(richTextAttrs).em,\n                    onClick: _cache[13] || (_cache[13] = ($event: any) => (emitRichTextCommand('em')))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconTextItalic)\n                    ]),\n                    _: 1\n                  }, 8, [\"checked\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Underline\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(CheckboxButton, {\n                    style: {\"flex\":\"1\"},\n                    checked: _unref(richTextAttrs).underline,\n                    onClick: _cache[14] || (_cache[14] = ($event: any) => (emitRichTextCommand('underline')))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconTextUnderline)\n                    ]),\n                    _: 1\n                  }, 8, [\"checked\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Strikethrough\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(CheckboxButton, {\n                    style: {\"flex\":\"1\"},\n                    checked: _unref(richTextAttrs).strikethrough,\n                    onClick: _cache[15] || (_cache[15] = ($event: any) => (emitRichTextCommand('strikethrough')))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconStrikethrough)\n                    ]),\n                    _: 1\n                  }, 8, [\"checked\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(CheckboxButtonGroup, { class: \"row\" }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Clear Format\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(CheckboxButton, {\n                    style: {\"flex\":\"1\"},\n                    onClick: _cache[16] || (_cache[16] = ($event: any) => (emitRichTextCommand('clear')))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconFormat)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Format Painter\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(CheckboxButton, {\n                    style: {\"flex\":\"1\"},\n                    checked: !!_unref(textFormatPainter),\n                    onClick: _cache[17] || (_cache[17] = ($event: any) => (_unref(toggleFormatPainter)()))\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconFormatBrush)\n                    ]),\n                    _: 1\n                  }, 8, [\"checked\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(Divider)),\n          _createVNode(_unref(RadioGroup), {\n            class: \"row\",\n            \"button-style\": \"solid\",\n            value: _unref(richTextAttrs).align,\n            onChange: _cache[18] || (_cache[18] = e => emitRichTextCommand('align', e.target.value))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Left alignment\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(RadioButton), {\n                    value: \"left\",\n                    style: {\"flex\":\"1\"}\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconAlignTextLeft)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Center\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(RadioButton), {\n                    value: \"center\",\n                    style: {\"flex\":\"1\"}\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconAlignTextCenter)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Right Align\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(RadioButton), {\n                    value: \"right\",\n                    style: {\"flex\":\"1\"}\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconAlignTextRight)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"value\"]),\n          _createVNode(_unref(RadioGroup), {\n            class: \"row\",\n            \"button-style\": \"solid\",\n            value: textAlign.value,\n            onChange: _cache[19] || (_cache[19] = e => updateTextAlign(e.target.value))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Top alignment\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(RadioButton), {\n                    value: \"top\",\n                    style: {\"flex\":\"1\"}\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconAlignTextTopOne)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Center\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(RadioButton), {\n                    value: \"middle\",\n                    style: {\"flex\":\"1\"}\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconAlignTextMiddleOne)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Bottom alignment\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(RadioButton), {\n                    value: \"bottom\",\n                    style: {\"flex\":\"1\"}\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_IconAlignTextBottomOne)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"value\"]),\n          _createVNode(_unref(Divider))\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    _createVNode(ElementOutline),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementShadow),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementOpacity)\n  ]))\n}\n}\n\n})","import script from \"./ShapeStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ShapeStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ShapeStylePanel.vue?vue&type=style&index=0&id=65b6300f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-65b6300f\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-007d8853\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"line-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"line style:\", -1))\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"line color:\", -1))\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"line width:\", -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Start style:\", -1))\nconst _hoisted_10 = { class: \"row\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"End style:\", -1))\n\nimport { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTLineElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementShadow from '../common/ElementShadow.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport {\n  InputNumber,\n  Divider,\n  Popover,\n  Select,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LineStylePanel',\n  setup(__props) {\n\nconst SelectOption = Select.Option\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleLineElement = handleElement as Ref<PPTLineElement>\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateLine = (props: Partial<PPTLineElement>) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"3\"},\n        value: _unref(handleLineElement).style,\n        onChange: _cache[0] || (_cache[0] = value => updateLine({ style: value as 'solid' | 'dashed' }))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(SelectOption), { value: \"solid\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"solid line\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: \"dashed\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"dashed line\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _hoisted_5,\n      _createVNode(_unref(Popover), { trigger: \"click\" }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(handleLineElement).color,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = value => updateLine({ color: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(handleLineElement).color,\n            style: {\"flex\":\"3\"}\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createVNode(_unref(InputNumber), {\n        value: _unref(handleLineElement).width,\n        onChange: _cache[2] || (_cache[2] = value => updateLine({ width: value as number })),\n        style: {\"flex\":\"3\"}\n      }, null, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _hoisted_9,\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"3\"},\n        value: _unref(handleLineElement).points[0],\n        onChange: _cache[3] || (_cache[3] = value => updateLine({ points: [value as 'arrow' | 'dot', _unref(handleLineElement).points[1]] }))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(SelectOption), { value: \"\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"None\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: \"arrow\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Arrow\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: \"dot\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Dot\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _hoisted_11,\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"3\"},\n        value: _unref(handleLineElement).points[1],\n        onChange: _cache[4] || (_cache[4] = value => updateLine({ points: [_unref(handleLineElement).points[0], value as 'arrow' | 'dot'] }))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(SelectOption), { value: \"\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"None\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: \"arrow\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Arrow\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: \"dot\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Dot\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementShadow)\n  ]))\n}\n}\n\n})","import script from \"./LineStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LineStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LineStylePanel.vue?vue&type=style&index=0&id=007d8853&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-007d8853\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, withModifiers as _withModifiers, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d58c00aa\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"chart-data-editor\" }\nconst _hoisted_2 = { class: \"editor-content\" }\nconst _hoisted_3 = { class: \"range-box\" }\nconst _hoisted_4 = [\"id\", \"onFocus\", \"onPaste\"]\nconst _hoisted_5 = { class: \"btns\" }\nconst _hoisted_6 = { class: \"left\" }\nconst _hoisted_7 = { class: \"right\" }\n\nimport { computed, onMounted, onUnmounted, PropType, ref } from 'vue'\nimport { ChartData } from '@/types/slides'\nimport { KEYS } from '@/configs/hotkey'\nimport { pasteCustomClipboardString, pasteExcelClipboardString } from '@/utils/clipboard'\n\nimport { Button, Input } from 'ant-design-vue'\n\nconst CELL_WIDTH = 100\nconst CELL_HEIGHT = 32\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChartDataEditor',\n  props: {\n  data: {\n    type: Object as PropType<ChartData>,\n    required: true,\n  }\n},\n  emits: [\"save\", \"close\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst selectedRange = ref([0, 0])\nconst tempRangeSize = ref({ width: 0, height: 0 })\nconst focusCell = ref<[number, number] | null>(null)\n\n// The border line position of the current selection\nconst rangeLines = computed(() => {\n  const width = selectedRange.value[0] * CELL_WIDTH\n  const height = selectedRange.value[1] * CELL_HEIGHT\n  return [\n    { type: 't', style: { width: width + 'px' } },\n    { type: 'b', style: { top: height + 'px', width: width + 'px' } },\n    { type: 'l', style: { height: height + 'px' } },\n    { type: 'r', style: { left: width + 'px', height: height + 'px' } },\n  ]\n})\n\n// The zoom point position of the current selection\nconst resizablePointStyle = computed(() => {\n  const width = selectedRange.value[0] * CELL_WIDTH\n  const height = selectedRange.value[1] * CELL_HEIGHT\n  return { left: width + 'px', top: height + 'px' }\n})\n\n// Initialize chart data: format and populate data to DOM\nconst initData = () => {\n  const _data: string[][] = []\n\n  const { labels, legends, series } = props.data\n  const rowCount = labels.length\n  const colCount = series.length\n\n  _data.push(['', ...legends])\n  for (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n    const row = [labels[rowIndex]]\n    for (let colIndex = 0; colIndex < colCount; colIndex++) {\n      row.push(series[colIndex][rowIndex] + '')\n    }\n    _data.push(row)\n  }\n\n  for (let rowIndex = 0; rowIndex < rowCount + 1; rowIndex++) {\n    for (let colIndex = 0; colIndex < colCount + 1; colIndex++) {\n      const inputRef = document.querySelector(`#cell-${rowIndex}-${colIndex}`) as HTMLInputElement\n      if (!inputRef) continue\n      inputRef.value = _data[rowIndex][colIndex] + ''\n    }\n  }\n\n  selectedRange.value = [colCount + 1, rowCount + 1]\n}\n\nonMounted(initData)\n\n// Shortcut key monitoring: Enter to move the focus to the next line\nconst moveNextRow = () => {\n  if (!focusCell.value) return\n\n  const [rowIndex, colIndex] = focusCell.value\n  const inputRef = document.querySelector(`#cell-${rowIndex + 1}-${colIndex}`) as HTMLInputElement\n  inputRef && inputRef.focus()\n}\n\nconst keyboardListener = (e: KeyboardEvent) => {\n  const key = e.key.toUpperCase()\n  if (key === KEYS.ENTER) moveNextRow()\n}\n\nonMounted(() => {\n  document.addEventListener('keydown', keyboardListener)\n})\nonUnmounted(() => {\n  document.removeEventListener('keydown', keyboardListener)\n})\n\n// Get the data in the DOM of the current chart, arrange and format it and pass it out\nconst getTableData = () => {\n  const [col, row] = selectedRange.value\n\n  const labels: string[] = []\n  const legends: string[] = []\n  const series: number[][] = []\n\n  // The first row is the series name, the first column is the project name, and the actual data starts from the second row and the second column\n  for (let rowIndex = 1; rowIndex < row; rowIndex++) {\n    let labelsItem = `category ${rowIndex}`\n    const labelInputRef = document.querySelector(`#cell-${rowIndex}-0`) as HTMLInputElement\n    if (labelInputRef && labelInputRef.value) labelsItem = labelInputRef.value\n    labels.push(labelsItem)\n  }\n  for (let colIndex = 1; colIndex < col; colIndex++) {\n    let legendsItem = `Series ${colIndex}`\n    const labelInputRef = document.querySelector(`#cell-0-${colIndex}`) as HTMLInputElement\n    if (labelInputRef && labelInputRef.value) legendsItem = labelInputRef.value\n    legends.push(legendsItem)\n  }\n\n  for (let colIndex = 1; colIndex < col; colIndex++) {\n    const seriesItem = []\n    for (let rowIndex = 1; rowIndex < row; rowIndex++) {\n      const valueInputRef = document.querySelector(`#cell-${rowIndex}-${colIndex}`) as HTMLInputElement\n      let value = 0\n      if (valueInputRef && valueInputRef.value && !!(+valueInputRef.value)) {\n        value = +valueInputRef.value\n      }\n      seriesItem.push(value)\n    }\n    series.push(seriesItem)\n  }\n\n  emit('save', { labels, legends, series })\n}\n\n// Clear form data\nconst clear = () => {\n  for (let rowIndex = 1; rowIndex < 31; rowIndex++) {\n    for (let colIndex = 1; colIndex < 7; colIndex++) {\n      const inputRef = document.querySelector(`#cell-${rowIndex}-${colIndex}`) as HTMLInputElement\n      if (!inputRef) continue\n      inputRef.value = ''\n    }\n  }\n}\n// custom paste event (try to read the table data in the clipboard)\nconst handlePaste = (e: ClipboardEvent, rowIndex: number, colIndex: number) => {\n  e.preventDefault()\n\n  if (!e.clipboardData) return\n\n  const clipboardDataFirstItem = e.clipboardData.items[0]\n\n  if (clipboardDataFirstItem && clipboardDataFirstItem.kind === 'string' && clipboardDataFirstItem.type === 'text/plain') {\n    clipboardDataFirstItem.getAsString(text => {\n      const clipboardData = pasteCustomClipboardString(text)\n      if (typeof clipboardData === 'object') return\n\n      const excelData = pasteExcelClipboardString(text)\n      if (excelData) {\n        const maxRow = rowIndex + excelData.length\n        const maxCol = colIndex + excelData[0].length\n        for (let i = rowIndex; i < maxRow; i++) {\n          for (let j = colIndex; j < maxCol; j++) {\n            const inputRef = document.querySelector(`#cell-${i}-${j}`) as HTMLInputElement\n            if (!inputRef) continue\n            inputRef.value = excelData[i - rowIndex][j - colIndex]\n          }\n        }\n      }\n    })\n  }\n}\n\n// Close the chart data editor\nconst closeEditor = () => emit('close')\n\n// Mouse drag to modify the selected data range\nconst changeSelectRange = (e: MouseEvent) => {\n  let isMouseDown = true\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n\n  const originWidth = selectedRange.value[0] * CELL_WIDTH\n  const originHeight = selectedRange.value[1] * CELL_HEIGHT\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const currentPageX = e.pageX\n    const currentPageY = e.pageY\n\n    const x = currentPageX - startPageX\n    const y = currentPageY - startPageY\n\n    const width = originWidth + x\n    const height = originHeight + y\n\n    tempRangeSize.value = { width, height }\n  }\n\n  document.onmouseup = e => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n\n    const endPageX = e.pageX\n    const endPageY = e.pageY\n\n    if (startPageX === endPageX && startPageY === endPageY) return\n\n    // At the end of dragging, the range will automatically expand to the next grid if the range exceeds half of the grid (if you drag to a position of more than one and a half grids, it will automatically expand to two grids, the same is true for both horizontal and vertical)\n    let width = tempRangeSize.value.width\n    let height = tempRangeSize.value.height\n    if (width % CELL_WIDTH > CELL_WIDTH * 0.5) width = width + (CELL_WIDTH - width % CELL_WIDTH)\n    if (height % CELL_HEIGHT > CELL_HEIGHT * 0.5) height = height + (CELL_HEIGHT - height % CELL_HEIGHT)\n\n    let row = Math.round(height / CELL_HEIGHT)\n    let col = Math.round(width / CELL_WIDTH)\n\n    if (row < 3) row = 3\n    if (col < 2) col = 2\n\n    selectedRange.value = [col, row]\n    tempRangeSize.value = { width: 0, height: 0 }\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", {\n          class: \"temp-range\",\n          style: _normalizeStyle({\n          width: tempRangeSize.value.width + 'px',\n          height: tempRangeSize.value.height + 'px',\n        })\n        }, null, 4),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(rangeLines.value, (line) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: _normalizeClass(['range-line', line.type]),\n            key: line.type,\n            style: _normalizeStyle(line.style)\n          }, null, 6))\n        }), 128)),\n        _createElementVNode(\"div\", {\n          class: \"resizable\",\n          style: _normalizeStyle(resizablePointStyle.value),\n          onMousedown: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (changeSelectRange($event)), [\"stop\"]))\n        }, null, 36)\n      ]),\n      _createElementVNode(\"table\", null, [\n        _createElementVNode(\"tbody\", null, [\n          (_openBlock(), _createElementBlock(_Fragment, null, _renderList(31, (rowIndex) => {\n            return _createElementVNode(\"tr\", { key: rowIndex }, [\n              (_openBlock(), _createElementBlock(_Fragment, null, _renderList(7, (colIndex) => {\n                return _createElementVNode(\"td\", {\n                  key: colIndex,\n                  class: _normalizeClass({ 'head': (colIndex === 1 && rowIndex <= selectedRange.value[1]) || (rowIndex === 1 && colIndex <= selectedRange.value[0]) })\n                }, [\n                  _createElementVNode(\"input\", {\n                    class: _normalizeClass(['item', { 'selected': rowIndex <= selectedRange.value[1] && colIndex <= selectedRange.value[0] }]),\n                    id: `cell-${rowIndex - 1}-${colIndex - 1}`,\n                    autocomplete: \"off\",\n                    onFocus: ($event: any) => (focusCell.value = [rowIndex - 1, colIndex - 1]),\n                    onPaste: $event => handlePaste($event, rowIndex - 1, colIndex - 1)\n                  }, null, 42, _hoisted_4)\n                ], 2)\n              }), 64))\n            ])\n          }), 64))\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createVNode(_unref(Button), {\n          class: \"btn\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (clear()))\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"Clear\")\n          ]),\n          _: 1\n        })\n      ]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createVNode(_unref(Button), {\n          class: \"btn\",\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (closeEditor()))\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"Cancel\")\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Button), {\n          type: \"primary\",\n          class: \"btn\",\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (getTableData())),\n          style: {\"margin-left\":\"10px\"}\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"Confirm\")\n          ]),\n          _: 1\n        })\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./ChartDataEditor.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ChartDataEditor.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ChartDataEditor.vue?vue&type=style&index=0&id=d58c00aa&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d58c00aa\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, toDisplayString as _toDisplayString, withModifiers as _withModifiers, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3048ebd9\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"chart-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"row\" }\nconst _hoisted_4 = {\n  key: 1,\n  class: \"row\"\n}\nconst _hoisted_5 = {\n  key: 2,\n  class: \"row\"\n}\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Legend:\", -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Background fill:\", -1))\nconst _hoisted_10 = { class: \"row\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Grid color:\", -1))\nconst _hoisted_12 = { style: {\"flex\":\"2\"} }\nconst _hoisted_13 = {\n  class: \"color-btn-wrap\",\n  style: {\"flex\":\"3\"}\n}\nconst _hoisted_14 = [\"onClick\"]\nconst _hoisted_15 = { class: \"preset-themes\" }\nconst _hoisted_16 = [\"onClick\", \"onMouseenter\"]\n\nimport { onUnmounted, Ref, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { ChartData, ChartOptions, PPTChartElement } from '@/types/slides'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '../../common/ElementOutline.vue'\nimport ColorButton from '../../common/ColorButton.vue'\nimport ChartDataEditor from './ChartDataEditor.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport {\n  Divider,\n  Button,\n  Tooltip,\n  Popover,\n  Select,\n  Modal,\n  Checkbox,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst ButtonGroup = Button.Group\nconst SelectOption = Select.Option\n\nconst presetChartThemes = [\n  ['#d87c7c', '#919e8b', '#d7ab82', '#6e7074', '#61a0a8', '#efa18d'],\n  ['#dd6b66', '#759aa0', '#e69d87', '#8dc1a9', '#ea7e53', '#eedd78'],\n  ['#516b91', '#59c4e6', '#edafda', '#93b7e3', '#a5e7f0', '#cbb0e3'],\n  ['#893448', '#d95850', '#eb8146', '#ffb248', '#f2d643', '#ebdba4'],\n  ['#4ea397', '#22c3aa', '#7bd9a5', '#d0648a', '#f58db2', '#f2b3c9'],\n  ['#3fb1e3', '#6be6c1', '#626c91', '#a0a7e6', '#c4ebad', '#96dee8'],\n  ['#fc97af', '#87f7cf', '#f7f494', '#72ccff', '#f7c5a0', '#d4a4eb'],\n  ['#c1232b', '#27727b', '#fcce10', '#e87c25', '#b5c334', '#fe8463'],\n  ['#2ec7c9', '#b6a2de', '#5ab1ef', '#ffb980', '#d87a80', '#8d98b3'],\n  ['#e01f54', '#001852', '#f5e8c8', '#b8d2c7', '#c6b38e', '#a4d8c2'],\n  ['#c12e34', '#e6b600', '#0098d9', '#2b821d', '#005eaa', '#339ca8'],\n  ['#8a7ca8', '#e098c7', '#8fd3e8', '#71669e', '#cc70af', '#7cb4cc'],\n]\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(mainStore)\nconst { theme } = storeToRefs(slidesStore)\n\nconst handleChartElement = handleElement as Ref<PPTChartElement>\n\nconst chartDataEditorVisible = ref(false)\nconst presetThemesVisible = ref(false)\nconst presetThemeColorHoverIndex = ref<[number, number]>([-1, -1])\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst fill = ref<string>('#000')\n\nconst themeColor = ref<string[]>([])\nconst gridColor = ref('')\nconst legend = ref('')\n\nconst lineSmooth = ref(true)\nconst showLine = ref(true)\nconst showArea = ref(false)\nconst horizontalBars = ref(false)\nconst donut = ref(false)\nconst stackBars = ref(false)\n\nwatch(handleElement, () => {\n  if (!handleElement.value || handleElement.value.type !== 'chart') return\n  fill.value = handleElement.value.fill || '#fff'\n\n  if (handleElement.value.options) {\n    const {\n      lineSmooth: _lineSmooth,\n      showLine: _showLine,\n      showArea: _showArea,\n      horizontalBars: _horizontalBars,\n      donut: _donut,\n      stackBars: _stackBars,\n    } = handleElement.value.options\n\n    lineSmooth.value = !!_lineSmooth\n    showLine.value = !!_showLine\n    showArea.value = !!_showArea\n    horizontalBars.value = !!_horizontalBars\n    donut.value = !!_donut\n    stackBars.value = !!_stackBars\n  }\n\n  themeColor.value = handleElement.value.themeColor\n  gridColor.value = handleElement.value.gridColor || '#333'\n  legend.value = handleElement.value.legend || ''\n}, { deep: true, immediate: true })\n\nconst updateElement = (props: Partial<PPTChartElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// 设置图表数据\nconst updateData = (data: ChartData) => {\n  chartDataEditorVisible.value = false\n  updateElement({ data })\n}\n\n// 设置填充色\nconst updateFill = (value: string) => {\n  updateElement({ fill: value })\n}\n\n// 设置其他选项：柱状图转条形图、折线图转面积图、折线图转散点图、饼图转环形图、折线图开关平滑曲线\nconst updateOptions = (optionProps: ChartOptions) => {\n  const _handleElement = handleElement.value as PPTChartElement\n\n  const newOptions = { ..._handleElement.options, ...optionProps }\n  updateElement({ options: newOptions })\n}\n\n// 设置主题色\nconst updateTheme = (color: string, index: number) => {\n  const props = {\n    themeColor: themeColor.value.map((c, i) => i === index ? color : c),\n  }\n  updateElement(props)\n}\n\n// 添加主题色\nconst addThemeColor = () => {\n  const props = {\n    themeColor: [...themeColor.value, theme.value.themeColor],\n  }\n  updateElement(props)\n}\n\n// 使用预置主题配色\nconst applyPresetTheme = (colors: string[], index: number) => {\n  const themeColor = colors.slice(0, index + 1)\n  updateElement({ themeColor })\n  presetThemesVisible.value = false\n}\n\n// 删除主题色\nconst deleteThemeColor = (index: number) => {\n  const props = {\n    themeColor: themeColor.value.filter((c, i) => i !== index),\n  }\n  updateElement(props)\n}\n\n// 设置网格颜色\nconst updateGridColor = (gridColor: string) => {\n  updateElement({ gridColor })\n}\n\n// 设置图例位置/不显示\nconst updateLegend = (legend: '' | 'top' | 'bottom') => {\n  updateElement({ legend })\n}\n\nconst openDataEditor = () => chartDataEditorVisible.value = true\n\nemitter.on(EmitterEvents.OPEN_CHART_DATA_EDITOR, openDataEditor)\nonUnmounted(() => {\n  emitter.off(EmitterEvents.OPEN_CHART_DATA_EDITOR, openDataEditor)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconEdit = _resolveComponent(\"IconEdit\")!\n  const _component_IconCloseSmall = _resolveComponent(\"IconCloseSmall\")!\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(Button), {\n      class: \"full-width-btn\",\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (chartDataEditorVisible.value = true))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_IconEdit, { class: \"btn-icon\" }),\n        _createTextVNode(\" Edit chart data \")\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(Divider)),\n    (_unref(handleChartElement).chartType === 'line')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createVNode(_unref(Checkbox), {\n              onChange: _cache[1] || (_cache[1] = e => updateOptions({ showArea: e.target.checked })),\n              checked: showArea.value,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Area Chart Style\")\n              ]),\n              _: 1\n            }, 8, [\"checked\"]),\n            _createVNode(_unref(Checkbox), {\n              onChange: _cache[2] || (_cache[2] = e => updateOptions({ showLine: !e.target.checked })),\n              checked: !showLine.value,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Scatter plot style\")\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createVNode(_unref(Checkbox), {\n              onChange: _cache[3] || (_cache[3] = e => updateOptions({ lineSmooth: e. target. checked })),\n              checked: lineSmooth.value\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Use smooth curves\")\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    (_unref(handleChartElement).chartType === 'bar')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n          _createVNode(_unref(Checkbox), {\n            onChange: _cache[4] || (_cache[4] = e => updateOptions({ horizontalBars: e.target.checked })),\n            checked: horizontalBars.value\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Bar Style\")\n            ]),\n            _: 1\n          }, 8, [\"checked\"]),\n          _createVNode(_unref(Checkbox), {\n            onChange: _cache[5] || (_cache[5] = e => updateOptions({ stackBars: e.target.checked })),\n            checked: stackBars.value\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Stacked styles\")\n            ]),\n            _: 1\n          }, 8, [\"checked\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (_unref(handleChartElement).chartType === 'pie')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _createVNode(_unref(Checkbox), {\n            onChange: _cache[6] || (_cache[6] = e => updateOptions({ donut: e. target. checked })),\n            checked: donut.value\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Donut Chart Style\")\n            ]),\n            _: 1\n          }, 8, [\"checked\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_unref(Divider)),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"3\"},\n        value: legend.value,\n        onChange: _cache[7] || (_cache[7] = value => updateLegend(value as '' | 'top' | 'bottom'))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(SelectOption), { value: \"\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Do not display\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: \"top\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Display on Top\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: \"bottom\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Display below\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createVNode(_unref(Divider)),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _hoisted_9,\n      _createVNode(_unref(Popover), { trigger: \"click\" }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: fill.value,\n            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = value => updateFill(value))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: fill.value,\n            style: {\"flex\":\"3\"}\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _hoisted_11,\n      _createVNode(_unref(Popover), { trigger: \"click\" }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: gridColor.value,\n            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = value => updateGridColor(value))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: gridColor.value,\n            style: {\"flex\":\"3\"}\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_unref(Divider)),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(themeColor.value, (color, index) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"row\",\n        key: index\n      }, [\n        _createElementVNode(\"div\", _hoisted_12, _toDisplayString(index === 0 ? 'Theme color:' : ''), 1),\n        _createVNode(_unref(Popover), { trigger: \"click\" }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: color,\n              \"onUpdate:modelValue\": value => updateTheme(value, index)\n            }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_13, [\n              _createVNode(ColorButton, {\n                color: color,\n                style: {\"width\":\"100%\"}\n              }, null, 8, [\"color\"]),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Delete\"\n              }, {\n                default: _withCtx(() => [\n                  (index !== 0)\n                    ? (_openBlock(), _createElementBlock(\"div\", {\n                        key: 0,\n                        class: \"delete-color-btn\",\n                        onClick: _withModifiers(($event: any) => (deleteThemeColor(index)), [\"stop\"])\n                      }, [\n                        _createVNode(_component_IconCloseSmall)\n                      ], 8, _hoisted_14))\n                    : _createCommentVNode(\"\", true)\n                ]),\n                _: 2\n              }, 1024)\n            ])\n          ]),\n          _: 2\n        }, 1024)\n      ]))\n    }), 128)),\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Popover), {\n          trigger: \"click\",\n          visible: presetThemesVisible.value,\n          \"onUpdate:visible\": _cache[11] || (_cache[11] = ($event: any) => ((presetThemesVisible).value = $event))\n        }, {\n          content: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_15, [\n              (_openBlock(), _createElementBlock(_Fragment, null, _renderList(presetChartThemes, (item, index) => {\n                return _createElementVNode(\"div\", {\n                  class: \"preset-theme\",\n                  key: index\n                }, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item, (color, itemIndex) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      class: _normalizeClass([\"preset-theme-color\", { 'select': presetThemeColorHoverIndex.value[0] === index && itemIndex <= presetThemeColorHoverIndex.value[1] }]),\n                      key: color,\n                      style: _normalizeStyle({ backgroundColor: color }),\n                      onClick: ($event: any) => (applyPresetTheme(item, itemIndex)),\n                      onMouseenter: ($event: any) => (presetThemeColorHoverIndex.value = [index, itemIndex]),\n                      onMouseleave: _cache[10] || (_cache[10] = ($event: any) => (presetThemeColorHoverIndex.value = [-1, -1]))\n                    }, null, 46, _hoisted_16))\n                  }), 128))\n                ])\n              }), 64))\n            ])\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              class: \"no-padding\",\n              style: {\"flex\":\"2\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Recommend theme\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"visible\"]),\n        _createVNode(_unref(Button), {\n          class: \"no-padding\",\n          disabled: themeColor.value.length >= 10,\n          style: {\"flex\":\"3\"},\n          onClick: _cache[12] || (_cache[12] = ($event: any) => (addThemeColor()))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconPlus, { class: \"btn-icon\" }),\n            _createTextVNode(\" Add theme color \")\n          ]),\n          _: 1\n        }, 8, [\"disabled\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementOutline),\n    _createVNode(_unref(Modal), {\n      visible: chartDataEditorVisible.value,\n      \"onUpdate:visible\": _cache[15] || (_cache[15] = ($event: any) => ((chartDataEditorVisible).value = $event)),\n      footer: null,\n      centered: \"\",\n      closable: false,\n      width: 648,\n      destroyOnClose: \"\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(ChartDataEditor, {\n          data: _unref(handleChartElement).data,\n          onClose: _cache[13] || (_cache[13] = ($event: any) => (chartDataEditorVisible.value = false)),\n          onSave: _cache[14] || (_cache[14] = value => updateData(value))\n        }, null, 8, [\"data\"])\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3048ebd9&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3048ebd9\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, withCtx as _withCtx, createBlock as _createBlock, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1e10fad6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"table-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Number of lines:\", -1))\nconst _hoisted_4 = {\n  class: \"set-count\",\n  style: {\"flex\":\"3\"}\n}\nconst _hoisted_5 = { class: \"count-text\" }\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Number of columns:\", -1))\nconst _hoisted_8 = {\n  class: \"set-count\",\n  style: {\"flex\":\"3\"}\n}\nconst _hoisted_9 = { class: \"count-text\" }\nconst _hoisted_10 = { class: \"row theme-switch\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Enable theme table:\", -1))\nconst _hoisted_12 = {\n  class: \"switch-wrapper\",\n  style: {\"flex\":\"3\"}\n}\nconst _hoisted_13 = { class: \"row\" }\nconst _hoisted_14 = { class: \"row\" }\nconst _hoisted_15 = { class: \"row\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Theme color:\", -1))\n\nimport { computed, onMounted, ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { nanoid } from 'nanoid'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTTableElement, TableCell, TableCellStyle, TableTheme } from '@/types/slides'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ElementOutline from '../common/ElementOutline.vue'\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport CheckboxButtonGroup from '@/components/CheckboxButtonGroup.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport {\n  Divider,\n  Button,\n  Tooltip,\n  Popover,\n  Select,\n  Switch,\n  Checkbox,\n  Radio,\n  Input,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TableStylePanel',\n  setup(__props) {\n\nconst { Group: RadioGroup, Button: RadioButton } = Radio\nconst { OptGroup: SelectOptGroup, Option: SelectOption } = Select\nconst InputGroup = Input.Group\nconst ButtonGroup = Button.Group\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId, selectedTableCells: selectedCells, availableFonts } = storeToRefs(useMainStore())\nconst themeColor = computed(() => slidesStore.theme.themeColor)\n\nconst fontSizeOptions = [\n  '12px', '14px', '16px', '18px', '20px', '22px', '24px', '28px', '32px',\n]\nconst textAttrs = ref({\n  bold: false,\n  em: false,\n  underline: false,\n  strikethrough: false,\n  color: '#000',\n  backcolor: '',\n  fontsize: '12px',\n  fontname: 'Microsoft Yahei',\n  align: 'left',\n})\n\nconst theme = ref<TableTheme>()\nconst hasTheme = ref(false)\nconst rowCount = ref(0)\nconst colCount = ref(0)\nconst minRowCount = ref(0)\nconst minColCount = ref(0)\n\nwatch(handleElement, () => {\n  if (!handleElement.value || handleElement.value.type !== 'table') return\n\n  theme.value = handleElement.value.theme\n  hasTheme.value = !!theme.value\n\n  rowCount.value = handleElement.value.data.length\n  colCount.value = handleElement.value.data[0].length\n\n  minRowCount.value = handleElement.value.data.length\n  minColCount.value = handleElement.value.data[0].length\n}, { deep: true, immediate: true })\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// Update the text style state of the currently selected cell\nconst updateTextAttrState = () => {\n  if (!handleElement.value || handleElement.value.type !== 'table') return\n\n  let rowIndex = 0\n  let colIndex = 0\n  if (selectedCells.value.length) {\n    const selectedCell = selectedCells.value[0]\n    rowIndex = +selectedCell.split('_')[0]\n    colIndex = +selectedCell.split('_')[1]\n  }\n  const style = handleElement.value.data[rowIndex][colIndex].style\n\n  if (!style) {\n    textAttrs.value = {\n      bold: false,\n      em: false,\n      underline: false,\n      strikethrough: false,\n      color: '#000',\n      backcolor: '',\n      fontsize: '12px',\n      fontname: 'Microsoft Yahei',\n      align: 'left',\n    }\n  }\n  else {\n    textAttrs.value = {\n      bold: !!style.bold,\n      em: !!style.em,\n      underline: !!style.underline,\n      strikethrough: !!style.strikethrough,\n      color: style.color || '#000',\n      backcolor: style.backcolor || '',\n      fontsize: style.fontsize || '12px',\n      fontname: style.fontname || 'Microsoft Yahei',\n      align: style.align || 'left',\n    }\n  }\n}\n\nonMounted(() => {\n  if (selectedCells.value.length) updateTextAttrState()\n})\n\nwatch(selectedCells, updateTextAttrState)\n\nconst updateElement = (props: Partial<PPTTableElement>) => {\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// Set the cell content text style\nconst updateTextAttrs = (textAttrProp: Partial<TableCellStyle>) => {\n  const _handleElement = handleElement.value as PPTTableElement\n\n  const data: TableCell[][] = JSON.parse(JSON.stringify(_handleElement.data))\n\n  for (let i = 0; i < data.length; i++) {\n    for (let j = 0; j < data[i].length; j++) {\n      if (!selectedCells.value.length || selectedCells.value.includes(`${i}_${j}`)) {\n        const style = data[i][j].style || {}\n        data[i][j].style = { ...style, ...textAttrProp }\n      }\n    }\n  }\n  updateElement({ data })\n  updateTextAttrState()\n}\n\n// Update table theme: theme color, header row, summary row, first column, last column\nconst updateTheme = (themeProp: Partial<TableTheme>) => {\n  if (!theme.value) return\n  const _theme = { ...theme.value, ...themeProp }\n  updateElement({ theme: _theme })\n}\n\n// Turn on/off the table theme\nconst toggleTheme = (checked: boolean) => {\n  if (checked) {\n    const props = {\n      theme: {\n        color: themeColor.value,\n        rowHeader: true,\n        rowFooter: false,\n        colHeader: false,\n        colFooter: false,\n      }\n    }\n    updateElement(props)\n  }\n  else {\n    slidesStore.removeElementProps({ id: handleElementId.value, propName: 'theme' })\n    addHistorySnapshot()\n  }\n}\n\n// Set the number of table rows\nconst setTableRow = (value: number) => {\n  const _handleElement = handleElement.value as PPTTableElement\n  const rowCount = _handleElement.data.length\n\n  if (value > rowCount) {\n    const rowCells: TableCell[] = new Array(colCount.value).fill({ id: nanoid(10), colspan: 1, rowspan: 1, text: '' })\n    const newTableCells: TableCell[][] = new Array(value - rowCount).fill(rowCells)\n\n    const tableCells: TableCell[][] = JSON.parse(JSON.stringify(_handleElement.data))\n    tableCells.push(...newTableCells)\n\n    updateElement({ data: tableCells })\n  }\n  else {\n    const tableCells: TableCell[][] = _handleElement.data.slice(0, value)\n    updateElement({ data: tableCells })\n  }\n}\n\n// Set the number of table columns\nconst setTableCol = (value: number) => {\n  const _handleElement = handleElement.value as PPTTableElement\n  const colCount = _handleElement.data[0].length\n\n  let tableCells = _handleElement.data\n  let colSizeList = _handleElement.colWidths.map(item => item * _handleElement.width)\n\n  if (value > colCount) {\n    tableCells = tableCells.map(item => {\n      const cells: TableCell[] = new Array(value - colCount).fill({ id: nanoid(10), colspan: 1, rowspan: 1, text: '' })\n      item.push(...cells)\n      return item\n    })\n\n    const newColSizeList: number[] = new Array(value - colCount).fill(100)\n    colSizeList.push(...newColSizeList)\n  }\n  else {\n    tableCells = tableCells.map(item => item.slice(0, value))\n    colSizeList = colSizeList.slice(0, value)\n  }\n\n  const width = colSizeList.reduce((a, b) => a + b)\n  const colWidths = colSizeList.map(item => item / width)\n\n  const props = {\n    width,\n    data: tableCells,\n    colWidths,\n  }\n  updateElement(props)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconAddText = _resolveComponent(\"IconAddText\")!\n  const _component_IconText = _resolveComponent(\"IconText\")!\n  const _component_IconFill = _resolveComponent(\"IconFill\")!\n  const _component_IconTextBold = _resolveComponent(\"IconTextBold\")!\n  const _component_IconTextItalic = _resolveComponent(\"IconTextItalic\")!\n  const _component_IconTextUnderline = _resolveComponent(\"IconTextUnderline\")!\n  const _component_IconStrikethrough = _resolveComponent(\"IconStrikethrough\")!\n  const _component_IconAlignTextLeft = _resolveComponent(\"IconAlignTextLeft\")!\n  const _component_IconAlignTextCenter = _resolveComponent(\"IconAlignTextCenter\")!\n  const _component_IconAlignTextRight = _resolveComponent(\"IconAlignTextRight\")!\n  const _component_IconMinus = _resolveComponent(\"IconMinus\")!\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(InputGroup), {\n      compact: \"\",\n      class: \"row\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Select), {\n          style: {\"flex\":\"3\"},\n          value: textAttrs.value.fontname,\n          onChange: _cache[0] || (_cache[0] = value => updateTextAttrs({ fontname: value as string }))\n        }, {\n          suffixIcon: _withCtx(() => [\n            _createVNode(_component_IconFontSize)\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(SelectOptGroup), { label: \"system font\" }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(availableFonts), (font) => {\n                  return (_openBlock(), _createBlock(_unref(SelectOption), {\n                    key: font.value,\n                    value: font.value\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"span\", {\n                        style: _normalizeStyle({ fontFamily: font.value })\n                      }, _toDisplayString(font.label), 5)\n                    ]),\n                    _: 2\n                  }, 1032, [\"value\"]))\n                }), 128))\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(SelectOptGroup), { label: \"Online font\" }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(WEB_FONTS), (font) => {\n                  return (_openBlock(), _createBlock(_unref(SelectOption), {\n                    key: font.value,\n                    value: font.value\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"span\", null, _toDisplayString(font.label), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"value\"]))\n                }), 128))\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"]),\n        _createVNode(_unref(Select), {\n          style: {\"flex\":\"2\"},\n          value: textAttrs.value.fontsize,\n          onChange: _cache[1] || (_cache[1] = value => updateTextAttrs({ fontsize: value as string }))\n        }, {\n          suffixIcon: _withCtx(() => [\n            _createVNode(_component_IconAddText)\n          ]),\n          default: _withCtx(() => [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(fontSizeOptions, (fontsize) => {\n              return _createVNode(_unref(SelectOption), {\n                key: fontsize,\n                value: fontsize\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(fontsize), 1)\n                ]),\n                _: 2\n              }, 1032, [\"value\"])\n            }), 64))\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Popover), { trigger: \"click\" }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: textAttrs.value.color,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = value => updateTextAttrs({ color: value }))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(Tooltip), {\n              mouseLeaveDelay: 0,\n              mouseEnterDelay: 0.5,\n              title: \"Text Color\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(TextColorButton, {\n                  color: textAttrs.value.color,\n                  style: {\"flex\":\"1\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconText)\n                  ]),\n                  _: 1\n                }, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Popover), { trigger: \"click\" }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: textAttrs.value.backcolor,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = value => updateTextAttrs({ backcolor: value }))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(Tooltip), {\n              mouseLeaveDelay: 0,\n              mouseEnterDelay: 0.5,\n              title: \"Cell Fill\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(TextColorButton, {\n                  color: textAttrs.value.backcolor,\n                  style: {\"flex\":\"1\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconFill)\n                  ]),\n                  _: 1\n                }, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(CheckboxButtonGroup, { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Bold\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: textAttrs.value.bold,\n              onClick: _cache[4] || (_cache[4] = ($event: any) => (updateTextAttrs({ bold: !textAttrs.value.bold })))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconTextBold)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Italics\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: textAttrs.value.em,\n              onClick: _cache[5] || (_cache[5] = ($event: any) => (updateTextAttrs({ em: !textAttrs.value.em })))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconTextItalic)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Underline\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: textAttrs.value.underline,\n              onClick: _cache[6] || (_cache[6] = ($event: any) => (updateTextAttrs({ underline: !textAttrs.value.underline })))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconTextUnderline)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Strikethrough\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(CheckboxButton, {\n              style: {\"flex\":\"1\"},\n              checked: textAttrs.value.strikethrough,\n              onClick: _cache[7] || (_cache[7] = ($event: any) => (updateTextAttrs({ strikethrough: !textAttrs.value.strikethrough })))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconStrikethrough)\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(RadioGroup), {\n      class: \"row\",\n      \"button-style\": \"solid\",\n      value: textAttrs.value.align,\n      onChange: _cache[8] || (_cache[8] = e => updateTextAttrs({ align: e.target.value }))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Left alignment\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              value: \"left\",\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignTextLeft)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Center\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              value: \"center\",\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignTextCenter)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Right Align\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              value: \"right\",\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignTextRight)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"value\"]),\n    _createVNode(_unref(Divider)),\n    _createVNode(ElementOutline, { fixed: true }),\n    _createVNode(_unref(Divider)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(_unref(Button), {\n          class: \"btn\",\n          disabled: rowCount.value <= 1,\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (setTableRow(rowCount.value - 1)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconMinus)\n          ]),\n          _: 1\n        }, 8, [\"disabled\"]),\n        _createElementVNode(\"div\", _hoisted_5, _toDisplayString(rowCount.value), 1),\n        _createVNode(_unref(Button), {\n          class: \"btn\",\n          disabled: rowCount.value >= 30,\n          onClick: _cache[10] || (_cache[10] = ($event: any) => (setTableRow(rowCount.value + 1)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconPlus)\n          ]),\n          _: 1\n        }, 8, [\"disabled\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createVNode(_unref(Button), {\n          class: \"btn\",\n          disabled: colCount.value <= 1,\n          onClick: _cache[11] || (_cache[11] = ($event: any) => (setTableCol(colCount.value - 1)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconMinus)\n          ]),\n          _: 1\n        }, 8, [\"disabled\"]),\n        _createElementVNode(\"div\", _hoisted_9, _toDisplayString(colCount.value), 1),\n        _createVNode(_unref(Button), {\n          class: \"btn\",\n          disabled: colCount.value >= 30,\n          onClick: _cache[12] || (_cache[12] = ($event: any) => (setTableCol(colCount.value + 1)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconPlus)\n          ]),\n          _: 1\n        }, 8, [\"disabled\"])\n      ])\n    ]),\n    _createVNode(_unref(Divider)),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _hoisted_11,\n      _createElementVNode(\"div\", _hoisted_12, [\n        _createVNode(_unref(Switch), {\n          checked: hasTheme.value,\n          onChange: _cache[13] || (_cache[13] = checked => toggleTheme(checked as boolean))\n        }, null, 8, [\"checked\"])\n      ])\n    ]),\n    (theme.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_13, [\n            _createVNode(_unref(Checkbox), {\n              onChange: _cache[14] || (_cache[14] = e => updateTheme({ rowHeader: e.target.checked })),\n              checked: theme.value.rowHeader,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Title Row\")\n              ]),\n              _: 1\n            }, 8, [\"checked\"]),\n            _createVNode(_unref(Checkbox), {\n              onChange: _cache[15] || (_cache[15] = e => updateTheme({ rowFooter: e.target.checked })),\n              checked: theme.value.rowFooter,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Summary row\")\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_14, [\n            _createVNode(_unref(Checkbox), {\n              onChange: _cache[16] || (_cache[16] = e => updateTheme({ colHeader: e.target.checked })),\n              checked: theme.value.colHeader,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" First Column\")\n              ]),\n              _: 1\n            }, 8, [\"checked\"]),\n            _createVNode(_unref(Checkbox), {\n              onChange: _cache[17] || (_cache[17] = e => updateTheme({ colFooter: e.target.checked })),\n              checked: theme.value.colFooter,\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Last Column\")\n              ]),\n              _: 1\n            }, 8, [\"checked\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_15, [\n            _hoisted_16,\n            _createVNode(_unref(Popover), { trigger: \"click\" }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: theme.value.color,\n                  \"onUpdate:modelValue\": _cache[18] || (_cache[18] = value => updateTheme({ color: value }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: theme.value.color,\n                  style: {\"flex\":\"3\"}\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./TableStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TableStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TableStylePanel.vue?vue&type=style&index=0&id=1e10fad6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1e10fad6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3303e013\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"latex-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"row\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"color:\", -1))\nconst _hoisted_5 = { class: \"row\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Thickness:\", -1))\n\nimport { onUnmounted, Ref, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTLatexElement } from '@/types/slides'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from '../common/ColorButton.vue'\nimport LaTeXEditor from '@/components/LaTeXEditor/index.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport {\n  InputNumber,\n  Divider,\n  Button,\n  Popover,\n  Modal,\n} from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LatexStylePanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleLatexElement = handleElement as Ref<PPTLatexElement>\n\nconst latexEditorVisible = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateLatex = (props: Partial<PPTLatexElement>) => {\n  if (!handleElement. value) return\n  slidesStore. updateElement({ id: handleElement. value. id, props })\n  addHistorySnapshot()\n}\n\nconst updateLatexData = (data: { path: string; latex: string; w: number; h: number; }) => {\n  updateLatex({\n    path: data.path,\n    latex: data.latex,\n    width: data.w,\n    height: data.h,\n    viewBox: [data.w, data.h],\n  })\n}\n\nconst openLatexEditor = () => latexEditorVisible. value = true\n\nemitter.on(EmitterEvents.OPEN_LATEX_EDITOR, openLatexEditor)\nonUnmounted(() => {\n  emitter.off(EmitterEvents.OPEN_LATEX_EDITOR, openLatexEditor)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_unref(Button), {\n        style: {\"flex\":\"1\"},\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (latexEditorVisible.value = true))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Edit LaTeX\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_unref(Divider)),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _hoisted_4,\n      _createVNode(_unref(Popover), { trigger: \"click\" }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(handleLatexElement).color,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = value => updateLatex({ color: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(handleLatexElement).color,\n            style: {\"flex\":\"3\"}\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _hoisted_6,\n      _createVNode(_unref(InputNumber), {\n        min: 1,\n        max: 3,\n        value: _unref(handleLatexElement). strokeWidth,\n        onChange: _cache[2] || (_cache[2] = value => updateLatex({ strokeWidth: value as number })),\n        style: {\"flex\":\"3\"}\n      }, null, 8, [\"value\"])\n    ]),\n    _createVNode(_unref(Modal), {\n      visible: latexEditorVisible.value,\n      \"onUpdate:visible\": _cache[5] || (_cache[5] = ($event: any) => ((latexEditorVisible).value = $event)),\n      footer: null,\n      centered: \"\",\n      width: 880,\n      destroyOnClose: \"\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(LaTeXEditor, {\n          value: _unref(handleLatexElement).latex,\n          onClose: _cache[3] || (_cache[3] = ($event: any) => (latexEditorVisible.value = false)),\n          onUpdate: _cache[4] || (_cache[4] = data => { updateLatexData(data); latexEditorVisible.value = false })\n        }, null, 8, [\"value\"])\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ]))\n}\n}\n\n})","import script from \"./LatexStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LatexStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LatexStylePanel.vue?vue&type=style&index=0&id=3303e013&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3303e013\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeStyle as _normalizeStyle, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-802e1e06\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"video-style-panel\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"视频预览封面\", -1))\nconst _hoisted_3 = { class: \"background-image-wrapper\" }\nconst _hoisted_4 = { class: \"background-image\" }\nconst _hoisted_5 = { class: \"row\" }\n\nimport { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTVideoElement } from '@/types/slides'\nimport { getImageDataURL } from '@/utils/image'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport FileInput from '@/components/FileInput.vue'\nimport { Button } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'VideoStylePanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleVideoElement = handleElement as Ref<PPTVideoElement>\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateVideo = (props: Partial<PPTVideoElement>) => {\n  if (!handleElement.value) return\n  slidesStore.updateElement({ id: handleElement.value.id, props })\n  addHistorySnapshot()\n}\n\n// 设置视频预览封面\nconst setVideoPoster = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then(dataURL => updateVideo({ poster: dataURL }))\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(FileInput, {\n        onChange: _cache[0] || (_cache[0] = files => setVideoPoster(files))\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createElementVNode(\"div\", {\n              class: \"content\",\n              style: _normalizeStyle({ backgroundImage: `url(${_unref(handleVideoElement).poster})` })\n            }, [\n              _createVNode(_component_IconPlus)\n            ], 4)\n          ])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createVNode(_unref(Button), {\n        style: {\"flex\":\"1\"},\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (updateVideo({ poster: '' })))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"重置封面\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","import script from \"./VideoStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./VideoStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./VideoStylePanel.vue?vue&type=style&index=0&id=802e1e06&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-802e1e06\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-345e91ab\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"audio-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Icon color:\", -1))\nconst _hoisted_4 = { class: \"row switch-row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Autoplay:\", -1))\nconst _hoisted_6 = {\n  class: \"switch-wrapper\",\n  style: {\"flex\":\"3\"}\n}\nconst _hoisted_7 = { class: \"row switch-row\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Loop playback:\", -1))\nconst _hoisted_9 = {\n  class: \"switch-wrapper\",\n  style: {\"flex\":\"3\"}\n}\n\nimport { Ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTAudioElement } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from '../common/ColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport { Popover, Switch } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AudioStylePanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { handleElement } = storeToRefs(useMainStore())\n\nconst handleAudioElement = handleElement as Ref<PPTAudioElement>\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateAudio = (props: Partial<PPTAudioElement>) => {\n  if (!handleElement. value) return\n  slidesStore. updateElement({ id: handleElement. value. id, props })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(_unref(Popover), { trigger: \"click\" }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(handleAudioElement).color,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = value => updateAudio({ color: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(handleAudioElement).color,\n            style: {\"flex\":\"3\"}\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _hoisted_5,\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createVNode(_unref(Switch), {\n          checked: _unref(handleAudioElement).autoplay,\n          onChange: _cache[1] || (_cache[1] = checked => updateAudio({ autoplay: checked as boolean }))\n        }, null, 8, [\"checked\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_7, [\n      _hoisted_8,\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createVNode(_unref(Switch), {\n          checked: _unref(handleAudioElement).loop,\n          onChange: _cache[2] || (_cache[2] = checked => updateAudio({ loop: checked as boolean }))\n        }, null, 8, [\"checked\"])\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./AudioStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AudioStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AudioStylePanel.vue?vue&type=style&index=0&id=345e91ab&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-345e91ab\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, unref as _unref, withCtx as _withCtx, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1017e9fc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"multi-style-panel\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Fill color:\", -1))\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Border style:\", -1))\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Border color:\", -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Border thickness:\", -1))\n\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElement, PPTElementOutline, TableCell } from '@/types/slides'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport ColorButton from '../common/ColorButton.vue'\nimport TextColorButton from '../common/TextColorButton.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport {\n  InputNumber,\n  Divider,\n  Button,\n  Tooltip,\n  Popover,\n  Select,\n  Radio,\n  Input,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MultiStylePanel',\n  setup(__props) {\n\nconst { Button: RadioButton, Group: RadioGroup } = Radio\nconst { OptGroup: SelectOptGroup, Option: SelectOption } = Select\nconst InputGroup = Input.Group\nconst ButtonGroup = Button.Group\n\nconst slidesStore = useSlidesStore()\nconst { richTextAttrs, availableFonts, activeElementList } = storeToRefs(useMainStore())\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateElement = (id: string, props: Partial<PPTElement>) => {\n  slidesStore.updateElement({ id, props })\n  addHistorySnapshot()\n}\n\nconst fontSizeOptions = [\n  '12px', '14px', '16px', '18px', '20px', '22px', '24px', '28px', '32px',\n  '36px', '40px', '44px', '48px', '54px', '60px', '66px', '72px', '76px',\n  '80px', '88px', '96px', '104px', '112px', '120px',\n]\n\nconst fill = ref('#fff')\nconst outline = ref<PPTElementOutline>({\n  width: 0,\n  color: '#fff',\n  style: 'solid',\n})\n\n// Modify the fill color in batches (table elements are cell fills, audio elements are icon colors)\nconst updateFill = (value: string) => {\n  for (const el of activeElementList.value) {\n    if (\n      el.type === 'text' ||\n      el.type === 'shape' ||\n      el.type === 'chart'\n    ) updateElement(el.id, { fill: value })\n\n    if (el.type === 'table') {\n      const data: TableCell[][] = JSON.parse(JSON.stringify(el.data))\n      for (let i = 0; i < data.length; i++) {\n        for (let j = 0; j < data[i].length; j++) {\n          const style = data[i][j].style || {}\n          data[i][j].style = { ...style, backcolor: value }\n        }\n      }\n      updateElement(el.id, { data })\n    }\n\n    if (el.type === 'audio') updateElement(el.id, { color: value })\n  }\n  fill.value = value\n}\n\n// modify border/line style\nconst updateOutline = (outlineProps: Partial<PPTElementOutline>) => {\n\n  for (const el of activeElementList.value) {\n    if (\n      el.type === 'text' ||\n      el.type === 'image' ||\n      el.type === 'shape' ||\n      el.type === 'table' ||\n      el.type === 'chart'\n    ) {\n      const outline = el.outline || { width: 2, color: '#000', style: 'solid' }\n      const props = { outline: { ...outline, ...outlineProps } }\n      updateElement(el.id, props)\n    }\n\n    if (el.type === 'line') updateElement(el.id, outlineProps)\n  }\n  outline.value = { ...outline.value, ...outlineProps }\n}\n\n// Modify the text style\nconst updateFontStyle = (command: string, value: string) => {\n  for (const el of activeElementList.value) {\n    if (el.type === 'text' || (el.type === 'shape' && el.text?.content)) {\n      emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { target: el.id, action: { command, value } })\n    }\n    if (el.type === 'table') {\n      const data: TableCell[][] = JSON.parse(JSON.stringify(el.data))\n      for (let i = 0; i < data.length; i++) {\n        for (let j = 0; j < data[i].length; j++) {\n          const style = data[i][j].style || {}\n          data[i][j].style = { ...style, [command]: value }\n        }\n      }\n      updateElement(el.id, { data })\n    }\n    if (el.type === 'latex' && command === 'color') {\n      updateElement(el.id, { color: value })\n    }\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconAddText = _resolveComponent(\"IconAddText\")!\n  const _component_IconText = _resolveComponent(\"IconText\")!\n  const _component_IconHighLight = _resolveComponent(\"IconHighLight\")!\n  const _component_IconAlignTextLeft = _resolveComponent(\"IconAlignTextLeft\")!\n  const _component_IconAlignTextCenter = _resolveComponent(\"IconAlignTextCenter\")!\n  const _component_IconAlignTextRight = _resolveComponent(\"IconAlignTextRight\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(_unref(Popover), { trigger: \"click\" }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: fill.value,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = value => updateFill(value))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: fill.value,\n            style: {\"flex\":\"3\"}\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_unref(Divider)),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _hoisted_5,\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"3\"},\n        value: outline.value.style,\n        onChange: _cache[1] || (_cache[1] = value => updateOutline({ style: value as 'solid' | 'dashed' }))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(SelectOption), { value: \"solid\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"solid border\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: \"dashed\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Dashed Border\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _hoisted_7,\n      _createVNode(_unref(Popover), { trigger: \"click\" }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: outline.value.color,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = value => updateOutline({ color: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: outline.value.color || '#000',\n            style: {\"flex\":\"3\"}\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _hoisted_9,\n      _createVNode(_unref(InputNumber), {\n        value: outline.value.width,\n        onChange: _cache[3] || (_cache[3] = value => updateOutline({ width: value as number })),\n        style: {\"flex\":\"3\"}\n      }, null, 8, [\"value\"])\n    ]),\n    _createVNode(_unref(Divider)),\n    _createVNode(_unref(InputGroup), {\n      compact: \"\",\n      class: \"row\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Select), {\n          style: {\"flex\":\"3\"},\n          value: _unref(richTextAttrs).fontname,\n          onChange: _cache[4] || (_cache[4] = value => updateFontStyle('fontname', value as string))\n        }, {\n          suffixIcon: _withCtx(() => [\n            _createVNode(_component_IconFontSize)\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(SelectOptGroup), { label: \"system font\" }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(availableFonts), (font) => {\n                  return (_openBlock(), _createBlock(_unref(SelectOption), {\n                    key: font.value,\n                    value: font.value\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"span\", {\n                        style: _normalizeStyle({ fontFamily: font.value })\n                      }, _toDisplayString(font.label), 5)\n                    ]),\n                    _: 2\n                  }, 1032, [\"value\"]))\n                }), 128))\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(SelectOptGroup), { label: \"Online font\" }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(WEB_FONTS), (font) => {\n                  return (_openBlock(), _createBlock(_unref(SelectOption), {\n                    key: font.value,\n                    value: font.value\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"span\", null, _toDisplayString(font.label), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"value\"]))\n                }), 128))\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"]),\n        _createVNode(_unref(Select), {\n          style: {\"flex\":\"2\"},\n          value: _unref(richTextAttrs).fontsize,\n          onChange: _cache[5] || (_cache[5] = value => updateFontStyle('fontsize', value as string))\n        }, {\n          suffixIcon: _withCtx(() => [\n            _createVNode(_component_IconAddText)\n          ]),\n          default: _withCtx(() => [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(fontSizeOptions, (fontsize) => {\n              return _createVNode(_unref(SelectOption), {\n                key: fontsize,\n                value: fontsize\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(fontsize), 1)\n                ]),\n                _: 2\n              }, 1032, [\"value\"])\n            }), 64))\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Popover), { trigger: \"click\" }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: _unref(richTextAttrs).color,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = value => updateFontStyle('color', value))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(Tooltip), {\n              mouseLeaveDelay: 0,\n              mouseEnterDelay: 0.5,\n              title: \"Text Color\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(TextColorButton, {\n                  color: _unref(richTextAttrs).color,\n                  style: {\"flex\":\"3\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconText)\n                  ]),\n                  _: 1\n                }, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Popover), { trigger: \"click\" }, {\n          content: _withCtx(() => [\n            _createVNode(ColorPicker, {\n              modelValue: _unref(richTextAttrs).backcolor,\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = value => updateFontStyle('backcolor', value))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_unref(Tooltip), {\n              mouseLeaveDelay: 0,\n              mouseEnterDelay: 0.5,\n              title: \"Text Highlight\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(TextColorButton, {\n                  color: _unref(richTextAttrs).backcolor,\n                  style: {\"flex\":\"3\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconHighLight)\n                  ]),\n                  _: 1\n                }, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Increase font size\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              class: \"font-size-btn\",\n              style: {\"flex\":\"2\"},\n              onClick: _cache[8] || (_cache[8] = ($event: any) => (updateFontStyle('fontsize-add', '2')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconFontSize),\n                _createTextVNode(\"+ \")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Reduce font size\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              class: \"font-size-btn\",\n              style: {\"flex\":\"2\"},\n              onClick: _cache[9] || (_cache[9] = ($event: any) => (updateFontStyle('fontsize-reduce', '2')))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconFontSize),\n                _createTextVNode(\"- \")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(RadioGroup), {\n      class: \"row\",\n      \"button-style\": \"solid\",\n      value: _unref(richTextAttrs).align,\n      onChange: _cache[10] || (_cache[10] = e => updateFontStyle('align', e.target.value))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Left alignment\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              value: \"left\",\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignTextLeft)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Center\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              value: \"center\",\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignTextCenter)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Right Align\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              value: \"right\",\n              style: {\"flex\":\"1\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignTextRight)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"value\"])\n  ]))\n}\n}\n\n})","import script from \"./MultiStylePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MultiStylePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MultiStylePanel.vue?vue&type=style&index=0&id=1017e9fc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1017e9fc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"element-style-panel\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { ElementTypes } from '@/types/slides'\n\nimport TextStylePanel from './TextStylePanel.vue'\nimport ImageStylePanel from './ImageStylePanel.vue'\nimport ShapeStylePanel from './ShapeStylePanel.vue'\nimport LineStylePanel from './LineStylePanel.vue'\nimport ChartStylePanel from './ChartStylePanel/index.vue'\nimport TableStylePanel from './TableStylePanel.vue'\nimport LatexStylePanel from './LatexStylePanel.vue'\nimport VideoStylePanel from './VideoStylePanel.vue'\nimport AudioStylePanel from './AudioStylePanel.vue'\nimport MultiStylePanel from './MultiStylePanel.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst panelMap = {\n  [ElementTypes.TEXT]: TextStylePanel,\n  [ElementTypes.IMAGE]: ImageStylePanel,\n  [ElementTypes.SHAPE]: ShapeStylePanel,\n  [ElementTypes.LINE]: LineStylePanel,\n  [ElementTypes.CHART]: ChartStylePanel,\n  [ElementTypes.TABLE]: TableStylePanel,\n  [ElementTypes.LATEX]: LatexStylePanel,\n  [ElementTypes.VIDEO]: VideoStylePanel,\n  [ElementTypes.AUDIO]: AudioStylePanel,\n}\n\nconst { activeElementIdList, activeElementList, handleElement, activeGroupElementId } = storeToRefs(useMainStore())\n\nconst currentPanelComponent = computed(() => {\n  if (activeElementIdList.value.length > 1) {\n    if (!activeGroupElementId.value) return MultiStylePanel\n\n    const activeGroupElement = activeElementList.value.find(item => item.id === activeGroupElementId.value)\n    return activeGroupElement ? (panelMap[activeGroupElement.type] || null) : null\n  }\n\n  return handleElement.value ? (panelMap[handleElement.value.type] || null) : null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentPanelComponent.value)))\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-693e4e13\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-positon-panel\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Level:\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Alignment:\", -1))\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1))\nconst _hoisted_6 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_7 = {\n  key: 1,\n  style: {\"flex\":\"1\"}\n}\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1))\n\nimport { computed, ref, watch } from 'vue'\nimport { round } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { ElementAlignCommands, ElementOrderCommands } from '@/types/edit'\nimport { MIN_SIZE } from '@/configs/element'\nimport { SHAPE_PATH_FORMULAS } from '@/configs/shapes'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport {\n  InputNumber,\n  Divider,\n  Button,\n  Tooltip,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementPositionPanel',\n  setup(__props) {\n\nconst ButtonGroup = Button.Group\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\n\nconst left = ref(0)\nconst top = ref(0)\nconst width = ref(0)\nconst height = ref(0)\nconst rotate = ref(0)\nconst fixedRatio = ref(false)\n\nconst minSize = computed(() => {\n  if (!handleElement.value) return 20\n  return MIN_SIZE[handleElement.value.type] || 20\n})\n\nconst isHorizontalText = computed(() => {\n  return handleElement.value?.type === 'text' && !handleElement.value.vertical\n})\nconst isVerticalText = computed(() => {\n  return handleElement.value?.type === 'text' && handleElement.value.vertical\n})\n\nwatch(handleElement, () => {\n  if (!handleElement.value) return\n\n  left.value = round(handleElement.value.left, 1)\n  top.value = round(handleElement.value.top, 1)\n\n  fixedRatio.value = 'fixedRatio' in handleElement.value && !!handleElement.value.fixedRatio\n\n  if (handleElement.value.type !== 'line') {\n    width.value = round(handleElement.value.width, 1)\n    height.value = round(handleElement.value.height, 1)\n    rotate.value = 'rotate' in handleElement.value && handleElement.value.rotate !== undefined ? round(handleElement.value.rotate, 1) : 0\n  }\n}, { deep: true, immediate: true })\n\nconst { orderElement } = useOrderElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// 设置元素位置\nconst updateLeft = (value: number) => {\n  const props = { left: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\nconst updateTop = (value: number) => {\n  const props = { top: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// 设置元素宽度、高度、旋转角度\n// 对形状设置宽高时，需要检查是否需要更新形状路径\nconst updateShapePathData = (width: number, height: number) => {\n  if (handleElement.value && handleElement.value.type === 'shape' && 'pathFormula' in handleElement.value && handleElement.value.pathFormula) {\n    const pathFormula = SHAPE_PATH_FORMULAS[handleElement.value.pathFormula]\n\n    let path = ''\n    if ('editable' in pathFormula) path = pathFormula.formula(width, height, handleElement.value.keypoint!)\n    else path = pathFormula.formula(width, height)\n\n    return {\n      viewBox: [width, height],\n      path,\n    }\n  }\n  return null\n}\nconst updateWidth = (value: number) => {\n  let props = { width: value }\n  const shapePathData = updateShapePathData(value, height.value)\n  if (shapePathData) props = { ...props, ...shapePathData }\n\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\nconst updateHeight = (value: number) => {\n  let props = { height: value }\n  const shapePathData = updateShapePathData(width.value, value)\n  if (shapePathData) props = { ...props, ...shapePathData }\n\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\nconst updateRotate = (value: number) => {\n  const props = { rotate: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// 固定元素的宽高比\nconst updateFixedRatio = (value: boolean) => {\n  const props = { fixedRatio: value }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\n// 将元素旋转45度（顺时针或逆时针）\nconst updateRotate45 = (command: '+' | '-') => {\n  let _rotate = Math.floor(rotate.value / 45) * 45\n  if (command === '+') _rotate = _rotate + 45\n  else if (command === '-') _rotate = _rotate - 45\n\n  if (_rotate < -180) _rotate = -180\n  if (_rotate > 180) _rotate = 180\n\n  const props = { rotate: _rotate }\n  slidesStore.updateElement({ id: handleElementId.value, props })\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconSendToBack = _resolveComponent(\"IconSendToBack\")!\n  const _component_IconBringToFrontOne = _resolveComponent(\"IconBringToFrontOne\")!\n  const _component_IconBringToFront = _resolveComponent(\"IconBringToFront\")!\n  const _component_IconSentToBack = _resolveComponent(\"IconSentToBack\")!\n  const _component_IconAlignLeft = _resolveComponent(\"IconAlignLeft\")!\n  const _component_IconAlignVertically = _resolveComponent(\"IconAlignVertically\")!\n  const _component_IconAlignRight = _resolveComponent(\"IconAlignRight\")!\n  const _component_IconAlignTop = _resolveComponent(\"IconAlignTop\")!\n  const _component_IconAlignHorizontally = _resolveComponent(\"IconAlignHorizontally\")!\n  const _component_IconAlignBottom = _resolveComponent(\"IconAlignBottom\")!\n  const _component_IconLock = _resolveComponent(\"IconLock\")!\n  const _component_IconUnlock = _resolveComponent(\"IconUnlock\")!\n  const _component_IconRotate = _resolveComponent(\"IconRotate\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Button), {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).TOP)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconSendToBack, { class: \"btn-icon\" }),\n            _createTextVNode(\"Top \")\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Button), {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).BOTTOM)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconBringToFrontOne, { class: \"btn-icon\" }),\n            _createTextVNode(\" Bottom \")\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Button), {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).UP)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconBringToFront, { class: \"btn-icon\" }),\n            _createTextVNode(\" move up \")\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Button), {\n          style: {\"flex\":\"1\"},\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).DOWN)))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconSentToBack, { class: \"btn-icon\" }),\n            _createTextVNode(\" move down \")\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(Divider)),\n    _hoisted_3,\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Left alignment\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[4] || (_cache[4] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).LEFT)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignLeft)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Horizontal Center\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[5] || (_cache[5] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).HORIZONTAL)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignVertically)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Right Align\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[6] || (_cache[6] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).RIGHT)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignRight)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Top alignment\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[7] || (_cache[7] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).TOP)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignTop)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Vertical Center\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[8] || (_cache[8] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).VERTICAL)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignHorizontally)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"Bottom alignment\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[9] || (_cache[9] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).BOTTOM)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignBottom)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(Divider)),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(_unref(InputNumber), {\n        prefix: \"level:\",\n        step: 5,\n        value: left.value,\n        onChange: _cache[10] || (_cache[10] = value => updateLeft(value as number)),\n        style: {\"flex\":\"4\"}\n      }, null, 8, [\"value\"]),\n      _hoisted_5,\n      _createVNode(_unref(InputNumber), {\n        prefix: \"vertical:\",\n        step: 5,\n        value: top.value,\n        onChange: _cache[11] || (_cache[11] = value => updateTop(value as number)),\n        style: {\"flex\":\"4\"}\n      }, null, 8, [\"value\"])\n    ]),\n    (_unref(handleElement)!.type !== 'line')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n          _createVNode(_unref(InputNumber), {\n            prefix: \"width:\",\n            min: minSize.value,\n            max: 1500,\n            step: 5,\n            disabled: isVerticalText.value,\n            value: width.value,\n            onChange: _cache[12] || (_cache[12] = value => updateWidth(value as number)),\n            style: {\"flex\":\"4\"}\n          }, null, 8, [\"min\", \"disabled\", \"value\"]),\n          (['image', 'shape', 'audio'].includes(_unref(handleElement)!.type))\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                (fixedRatio.value)\n                  ? (_openBlock(), _createBlock(_unref(Tooltip), {\n                      key: 0,\n                      mouseLeaveDelay: 0,\n                      mouseEnterDelay: 0.5,\n                      title: \"Unlock aspect ratio\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_IconLock, {\n                          style: {\"flex\":\"1\"},\n                          class: \"icon-btn\",\n                          onClick: _cache[13] || (_cache[13] = ($event: any) => (updateFixedRatio(false)))\n                        })\n                      ]),\n                      _: 1\n                    }))\n                  : (_openBlock(), _createBlock(_unref(Tooltip), {\n                      key: 1,\n                      mouseLeaveDelay: 0,\n                      mouseEnterDelay: 0.5,\n                      title: \"Aspect Ratio Lock\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_IconUnlock, {\n                          style: {\"flex\":\"1\"},\n                          class: \"icon-btn\",\n                          onClick: _cache[14] || (_cache[14] = ($event: any) => (updateFixedRatio(true)))\n                        })\n                      ]),\n                      _: 1\n                    }))\n              ], 64))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_7)),\n          _createVNode(_unref(InputNumber), {\n            prefix: \"height:\",\n            min: minSize.value,\n            max: 800,\n            step: 5,\n            disabled: isHorizontalText.value || _unref(handleElement)!.type === 'table',\n            value: height.value,\n            onChange: _cache[15] || (_cache[15] = value => updateHeight(value as number)),\n            style: {\"flex\":\"4\"}\n          }, null, 8, [\"min\", \"disabled\", \"value\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (!['line', 'video', 'audio'].includes(_unref(handleElement)!.type))\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          _createVNode(_unref(Divider)),\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createVNode(_unref(InputNumber), {\n              prefix: \"rotation:\",\n              min: -180,\n              max: 180,\n              step: 5,\n              value: rotate.value,\n              onChange: _cache[16] || (_cache[16] = value => updateRotate(value as number)),\n              style: {\"flex\":\"8\"}\n            }, null, 8, [\"value\"]),\n            _hoisted_9,\n            _createElementVNode(\"div\", {\n              class: \"text-btn\",\n              onClick: _cache[17] || (_cache[17] = ($event: any) => (updateRotate45('-'))),\n              style: {\"flex\":\"5\"}\n            }, [\n              _createVNode(_component_IconRotate),\n              _createTextVNode(\" -45° \")\n            ]),\n            _createElementVNode(\"div\", {\n              class: \"text-btn\",\n              onClick: _cache[18] || (_cache[18] = ($event: any) => (updateRotate45('+'))),\n              style: {\"flex\":\"5\"}\n            }, [\n              _createVNode(_component_IconRotate, {\n                style: _normalizeStyle({ transform: 'rotateY(180deg)' })\n              }, null, 8, [\"style\"]),\n              _createTextVNode(\" +45 ° \")\n            ])\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./ElementPositionPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementPositionPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementPositionPanel.vue?vue&type=style&index=0&id=693e4e13&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-693e4e13\"]])\n\nexport default __exports__","export const ANIMATION_DEFAULT_DURATION = 1000\r\nexport const ANIMATION_DEFAULT_TRIGGER = 'click'\r\nexport const ANIMATION_CLASS_PREFIX = 'animate__'\r\n\r\nexport const ENTER_ANIMATIONS = [\r\n  {\r\n    type: 'bounce',\r\n    name: 'bounce',\r\n    children: [\r\n      { name: 'bounceIn', value: 'bounceIn' },\r\n      { name: 'bounceInLeft', value: 'bounceInLeft' },\r\n      { name: 'BounceInRight', value: 'bounceInRight' },\r\n      { name: 'bounceInUp', value: 'bounceInUp' },\r\n      { name: 'BounceInDown', value: 'bounceInDown' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'fade',\r\n    name: 'emerge',\r\n    children: [\r\n      { name: 'float', value: 'fadeIn' },\r\n      { name: 'FadeInDown', value: 'fadeInDown' },\r\n      { name: 'FadeInDownBig', value: 'fadeInDownBig' },\r\n      { name: 'Float right', value: 'fadeInLeft' },\r\n      { name: 'FadeInLeftBig', value: 'fadeInLeftBig' },\r\n      { name: 'FadeInRight', value: 'fadeInRight' },\r\n      { name: 'FadeInRightBig', value: 'fadeInRightBig' },\r\n      { name: 'FadeInUp', value: 'fadeInUp' },\r\n      { name: 'FadeInUpBig', value: 'fadeInUpBig' },\r\n      { name: 'Float from top left', value: 'fadeInTopLeft' },\r\n      { name: 'FadeInTopRight', value: 'fadeInTopRight' },\r\n      { name: 'FadeInBottomLeft', value: 'fadeInBottomLeft' },\r\n      { name: 'FadeInBottomRight', value: 'fadeInBottomRight' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'rotate',\r\n    name: 'Rotation',\r\n    children: [\r\n      { name: 'RotateIn', value: 'rotateIn' },\r\n      { name: 'Enter around the bottom left', value: 'rotateInDownLeft' },\r\n      { name: 'rotateInDownRight', value: 'rotateInDownRight' },\r\n      { name: 'RotateInUpLeft', value: 'rotateInUpLeft' },\r\n      { name: 'rotateInUpRight', value: 'rotateInUpRight' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'zoom',\r\n    name: 'Zoom',\r\n    children: [\r\n      { name: 'zoom in', value: 'zoomIn' },\r\n      { name: 'zoom down and enter', value: 'zoomInDown' },\r\n      { name: 'zoom in from the left', value: 'zoomInLeft' },\r\n      { name: 'zoom in from right', value: 'zoomInRight' },\r\n      { name: 'zoom up and enter', value: 'zoomInUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'slide',\r\n    name: 'Slide in',\r\n    children: [\r\n      { name: 'slideInDown', value: 'slideInDown' },\r\n      { name: 'slide in from right', value: 'slideInLeft' },\r\n      { name: 'slide in from the left', value: 'slideInRight' },\r\n      { name: 'slideInUp', value: 'slideInUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'flip',\r\n    name: 'Flip',\r\n    children: [\r\n      { name: 'X-axis flip into', value: 'flipInX' },\r\n      { name: 'Y axis flip into', value: 'flipInY' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'back',\r\n    name: 'Zoom in and slide in',\r\n    children: [\r\n      { name: 'zoom down and slide in', value: 'backInDown' },\r\n      { name: 'Zoom in from the left', value: 'backInLeft' },\r\n      { name: 'Enlarge and slide in from the right', value: 'backInRight' },\r\n      { name: 'Slide up to zoom in', value: 'backInUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'lightSpeed',\r\n    name: 'fly in',\r\n    children: [\r\n      { name: 'fly in from the right', value: 'lightSpeedInRight' },\r\n      { name: 'fly in from the left', value: 'lightSpeedInLeft' },\r\n    ],\r\n  },\r\n]\r\n\r\nexport const EXIT_ANIMATIONS = [\r\n  {\r\n    type: 'bounce',\r\n    name: 'bounce',\r\n    children: [\r\n      { name: 'bounce', value: 'bounceOut' },\r\n      { name: 'Bounce to the left', value: 'bounceOutLeft' },\r\n      { name: 'Bounce Right', value: 'bounceOutRight' },\r\n      { name: 'Bounce Up', value: 'bounceOutUp' },\r\n      { name: 'Bounce Down', value: 'bounceOutDown' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'fade',\r\n    name: 'emerge',\r\n    children: [\r\n      { name: 'FadeOut', value: 'fadeOut' },\r\n      { name: 'FadeOutDown', value: 'fadeOutDown' },\r\n      { name: 'FadeOut long distance down', value: 'fadeOutDownBig' },\r\n      { name: 'FadeOutLeft', value: 'fadeOutLeft' },\r\n      { name: 'FadeOutLeftBig', value: 'fadeOutLeftBig' },\r\n      { name: 'Fade to the right', value: 'fadeOutRight' },\r\n      { name: 'Long Fade to the Right', value: 'fadeOutRightBig' },\r\n      { name: 'FadeOutUp', value: 'fadeOutUp' },\r\n      { name: 'FadeOutUpBig', value: 'fadeOutUpBig' },\r\n      { name: 'FadeOut from the top left', value: 'fadeOutTopLeft' },\r\n      { name: 'FadeOutTopRight', value: 'fadeOutTopRight' },\r\n      { name: 'FadeOutBottomLeft', value: 'fadeOutBottomLeft' },\r\n      { name: 'FadeOutBottomRight', value: 'fadeOutBottomRight' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'rotate',\r\n    name: 'Rotation',\r\n    children: [\r\n      { name: 'RotateOut', value: 'rotateOut' },\r\n      { name: 'rotateOutDownLeft', value: 'rotateOutDownLeft' },\r\n      { name: 'rotateOutDownRight', value: 'rotateOutDownRight' },\r\n      { name: 'Exit around the upper left', value: 'rotateOutUpLeft' },\r\n      { name: 'Exit around the upper right', value: 'rotateOutUpRight' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'zoom',\r\n    name: 'Zoom',\r\n    children: [\r\n      { name: 'zoom out', value: 'zoomOut' },\r\n      { name: 'Zoom Down and Exit', value: 'zoomOutDown' },\r\n      { name: 'Zoom out from the left', value: 'zoomOutLeft' },\r\n      { name: 'Zoom out from the right', value: 'zoomOutRight' },\r\n      { name: 'zoom out up', value: 'zoomOutUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'slide',\r\n    name: 'Slide out',\r\n    children: [\r\n      { name: 'slideOutDown', value: 'slideOutDown' },\r\n      { name: 'slide out from the left', value: 'slideOutLeft' },\r\n      { name: 'slide out from right', value: 'slideOutRight' },\r\n      { name: 'slide up', value: 'slideOutUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'flip',\r\n    name: 'Flip',\r\n    children: [\r\n      { name: 'X-axis flip exit', value: 'flipOutX' },\r\n      { name: 'Y-axis flip exit', value: 'flipOutY' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'back',\r\n    name: 'Zoom out and slide out',\r\n    children: [\r\n      { name: 'Slide down to zoom out', value: 'backOutDown' },\r\n      { name: 'Zoom out from left', value: 'backOutLeft' },\r\n      { name: 'Zoom out from the right', value: 'backOutRight' },\r\n      { name: 'Slide up to zoom out', value: 'backOutUp' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'lightSpeed',\r\n    name: 'fly out',\r\n    children: [\r\n      { name: 'Fly out from the right', value: 'lightSpeedOutRight' },\r\n      { name: 'Fly out from the left', value: 'lightSpeedOutLeft' },\r\n    ],\r\n  },\r\n]\r\n\r\nexport const ATTENTION_ANIMATIONS = [\r\n  {\r\n    type: 'shake',\r\n    name: 'Shaking',\r\n    children: [\r\n      { name: 'Shake left and right', value: 'shakeX' },\r\n      { name: 'Shake up and down', value: 'shakeY' },\r\n      { name: 'Shaking head', value: 'headShake' },\r\n      { name: 'swing', value: 'swing' },\r\n      { name: 'wobble', value: 'wobble' },\r\n      { name: 'panic', value: 'tada' },\r\n      { name: 'jelly', value: 'jello' },\r\n    ],\r\n  },\r\n  {\r\n    type: 'other',\r\n    name: 'other',\r\n    children: [\r\n      { name: 'bounce', value: 'bounce' },\r\n      { name: 'flash', value: 'flash' },\r\n      { name: 'pulse', value: 'pulse' },\r\n      { name: 'RubberBand', value: 'rubberBand' },\r\n      { name: 'heartbeat (fast)', value: 'heartBeat' },\r\n    ],\r\n  },\r\n]","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6131fba0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-animation-panel\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"element-animation\"\n}\nconst _hoisted_3 = { class: \"tabs\" }\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = { class: \"type-title\" }\nconst _hoisted_6 = { class: \"pool-item-wrapper\" }\nconst _hoisted_7 = [\"onMouseenter\", \"onClick\"]\nconst _hoisted_8 = {\n  key: 0,\n  class: \"mask\"\n}\nconst _hoisted_9 = {\n  key: 1,\n  class: \"tip\"\n}\nconst _hoisted_10 = { class: \"sequence-content\" }\nconst _hoisted_11 = { class: \"index\" }\nconst _hoisted_12 = { class: \"text\" }\nconst _hoisted_13 = { class: \"handler\" }\nconst _hoisted_14 = {\n  key: 0,\n  class: \"configs\"\n}\nconst _hoisted_15 = { class: \"config-item\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"3\"} }, \"Duration:\", -1))\nconst _hoisted_17 = { class: \"config-item\" }\nconst _hoisted_18 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"3\"} }, \"Trigger method:\", -1))\nconst _hoisted_19 = { class: \"config-item\" }\n\nimport { computed, ref, watch } from 'vue'\nimport { nanoid } from 'nanoid'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTAnimation } from '@/types/slides'\nimport {\n  ENTER_ANIMATIONS,\n  EXIT_ANIMATIONS,\n  ATTENTION_ANIMATIONS,\n  ANIMATION_DEFAULT_DURATION,\n  ANIMATION_DEFAULT_TRIGGER,\n  ANIMATION_CLASS_PREFIX,\n} from '@/configs/animation'\nimport { ELEMENT_TYPE_ZH } from '@/configs/element'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\n\nimport Draggable from 'vuedraggable'\nimport {\n  InputNumber,\n  Divider,\n  Button,\n  Tooltip,\n  Popover,\n  Select,\n} from 'ant-design-vue'\ntype AnimationType = 'in' | 'out' | 'attention'\ninterface TabItem {\n  key: AnimationType\n  label: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementAnimationPanel',\n  setup(__props) {\n\nconst SelectOption = Select.Option\n\nconst animationEffects: { [key: string]: string } = {}\nfor (const effect of ENTER_ANIMATIONS) {\n  for (const animation of effect.children) {\n    animationEffects[animation.value] = animation.name\n  }\n}\nfor (const effect of EXIT_ANIMATIONS) {\n  for (const animation of effect.children) {\n    animationEffects[animation.value] = animation.name\n  }\n}\nfor (const effect of ATTENTION_ANIMATIONS) {\n  for (const animation of effect.children) {\n    animationEffects[animation.value] = animation.name\n  }\n}\n\nconst animationTypes: AnimationType[] = ['in', 'out', 'attention']\n\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId } = storeToRefs(useMainStore())\nconst { currentSlide, formatedAnimations, currentSlideAnimations } = storeToRefs(slidesStore)\n\nconst tabs: TabItem[] = [\n  { key: 'in', label: 'entry' },\n  { key: 'out', label: 'exit' },\n  { key: 'attention', label: 'emphasis' },\n]\nconst activeTab = ref('in')\n\nwatch(() => handleElementId.value, () => {\n  animationPoolVisible.value = false\n})\n\nconst hoverPreviewAnimation = ref('')\nconst animationPoolVisible = ref(false)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// list of animations for the current page\nconst animationSequence = computed(() => {\n  const animationSequence = []\n  for (let i = 0; i < formatedAnimations.value.length; i++) {\n    const item = formatedAnimations.value[i]\n    for (let j = 0; j < item.animations.length; j++) {\n      const animation = item.animations[j]\n      const el = currentSlide.value.elements.find(el => el.id === animation.elId)\n      if (!el) continue\n\n      const elType = ELEMENT_TYPE_ZH[el.type]\n      const animationEffect = animationEffects[animation.effect]\n      animationSequence.push({\n        ...animation,\n        index: j === 0 ? i + 1 : '',\n        elType,\n        animationEffect,\n      })\n    }\n  }\n  return animationSequence\n})\n\n// The entry animation information of the currently selected element\nconst handleElementAnimation = computed(() => {\n  const animations = currentSlideAnimations.value\n  const animation = animations.filter(item => item.elId === handleElementId.value)\n  return animation || []\n})\n\n// delete element animation\nconst deleteAnimation = (id: string) => {\n  const animations = currentSlideAnimations.value.filter(item => item.id !== id)\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// Drag and drop to modify the animation order and then synchronize the data\nconst handleDragEnd = (eventData: { newIndex: number; oldIndex: number }) => {\n  const { newIndex, oldIndex } = eventData\n  if (newIndex === undefined || oldIndex === undefined || newIndex === oldIndex) return\n\n  const animations: PPTAnimation[] = JSON.parse(JSON.stringify(currentSlideAnimations.value))\n  const animation = animations[oldIndex]\n  animations.splice(oldIndex, 1)\n  animations.splice(newIndex, 0, animation)\n\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// 执行动画预览\nconst runAnimation = (elId: string, effect: string, duration: number) => {\n  const elRef = document.querySelector(`#editable-element-${elId} [class^=editable-element-]`)\n  if (elRef) {\n    const animationName = `${ANIMATION_CLASS_PREFIX}${effect}`\n    document.documentElement.style.setProperty('--animate-duration', `${duration}ms`)\n    elRef.classList.add(`${ANIMATION_CLASS_PREFIX}animated`, animationName)\n\n    const handleAnimationEnd = () => {\n      document.documentElement.style.removeProperty('--animate-duration')\n      elRef.classList.remove(`${ANIMATION_CLASS_PREFIX}animated`, animationName)\n    }\n    elRef.addEventListener('animationend', handleAnimationEnd, { once: true })\n  }\n}\n\n// 修改元素动画持续时间\nconst updateElementAnimationDuration = (id: string, duration: number) => {\n  if (duration < 100 || duration > 5000) return\n\n  const animations = currentSlideAnimations.value.map(item => {\n    if (item.id === id) return { ...item, duration }\n    return item\n  })\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// 修改触发方式\nconst updateElementAnimationTrigger = (id: string, trigger: 'click' | 'meantime' | 'auto') => {\n  const animations = currentSlideAnimations.value.map(item => {\n    if (item.id === id) return { ...item, trigger }\n    return item\n  })\n  slidesStore.updateSlide({ animations })\n  addHistorySnapshot()\n}\n\n// 修改元素动画，并执行一次预览\nconst updateElementAnimation = (type: AnimationType, effect: string) => {\n  const animations = currentSlideAnimations.value.map(item => {\n    if (item.id === handleAnimationId.value) return { ...item, type, effect }\n    return item\n  })\n  slidesStore.updateSlide({ animations })\n  animationPoolVisible.value = false\n  addHistorySnapshot()\n\n  const animationItem = currentSlideAnimations.value.find(item => item.elId === handleElementId.value)\n  const duration = animationItem?.duration || ANIMATION_DEFAULT_DURATION\n\n  runAnimation(handleElementId.value, effect, duration)\n}\n\nconst handleAnimationId = ref('')\n// 添加元素动画，并执行一次预览\nconst addAnimation = (type: AnimationType, effect: string) => {\n  if (handleAnimationId.value) {\n    updateElementAnimation(type, effect)\n    return\n  }\n\n  const animations: PPTAnimation[] = JSON.parse(JSON.stringify(currentSlideAnimations.value))\n  animations.push({\n    id: nanoid(10),\n    elId: handleElementId.value,\n    type,\n    effect,\n    duration: ANIMATION_DEFAULT_DURATION,\n    trigger: ANIMATION_DEFAULT_TRIGGER,\n  })\n  slidesStore.updateSlide({ animations })\n  animationPoolVisible.value = false\n  addHistorySnapshot()\n\n  runAnimation(handleElementId.value, effect, ANIMATION_DEFAULT_DURATION)\n}\n\n// 动画选择面板打开600ms后再移除遮罩层，否则打开面板后迅速滑入鼠标预览会导致抖动\nconst popoverMaskHide = ref(false)\nconst handlePopoverVisibleChange = (visible: boolean) => {\n  if (visible) {\n    setTimeout(() => popoverMaskHide.value = true, 600)\n  }\n  else popoverMaskHide.value = false\n}\n\nconst openAnimationPool = (elementId: string) => {\n  animationPoolVisible.value = true\n  handleAnimationId.value = elementId\n  handlePopoverVisibleChange(true)\n}\n\nconst animations = {\n  in: ENTER_ANIMATIONS,\n  out: EXIT_ANIMATIONS,\n  attention: ATTENTION_ANIMATIONS,\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconEffects = _resolveComponent(\"IconEffects\")!\n  const _component_IconClick = _resolveComponent(\"IconClick\")!\n  const _component_IconPlayOne = _resolveComponent(\"IconPlayOne\")!\n  const _component_IconCloseSmall = _resolveComponent(\"IconCloseSmall\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_unref(handleElement))\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createVNode(_unref(Popover), {\n            trigger: \"click\",\n            visible: animationPoolVisible.value,\n            \"onUpdate:visible\": _cache[2] || (_cache[2] = ($event: any) => ((animationPoolVisible).value = $event)),\n            onVisibleChange: _cache[3] || (_cache[3] = visible => handlePopoverVisibleChange(visible))\n          }, {\n            content: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_3, [\n                (_openBlock(), _createElementBlock(_Fragment, null, _renderList(tabs, (tab) => {\n                  return _createElementVNode(\"div\", {\n                    class: _normalizeClass(['tab', tab.key, { 'active': activeTab.value === tab.key }]),\n                    key: tab.key,\n                    onClick: ($event: any) => (activeTab.value = tab.key)\n                  }, _toDisplayString(tab.label), 11, _hoisted_4)\n                }), 64))\n              ]),\n              (_openBlock(), _createElementBlock(_Fragment, null, _renderList(animationTypes, (key) => {\n                return (_openBlock(), _createElementBlock(_Fragment, null, [\n                  (activeTab.value === key)\n                    ? (_openBlock(), _createElementBlock(\"div\", {\n                        class: _normalizeClass(['animation-pool', key]),\n                        key: key\n                      }, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(animations[key], (effect) => {\n                          return (_openBlock(), _createElementBlock(\"div\", {\n                            class: \"pool-type\",\n                            key: effect.name\n                          }, [\n                            _createElementVNode(\"div\", _hoisted_5, _toDisplayString(effect.name) + \"：\", 1),\n                            _createElementVNode(\"div\", _hoisted_6, [\n                              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(effect.children, (item) => {\n                                return (_openBlock(), _createElementBlock(\"div\", {\n                                  class: \"pool-item\",\n                                  key: item.name,\n                                  onMouseenter: ($event: any) => (hoverPreviewAnimation.value = item.value),\n                                  onMouseleave: _cache[0] || (_cache[0] = ($event: any) => (hoverPreviewAnimation.value = '')),\n                                  onClick: ($event: any) => (addAnimation(key, item.value))\n                                }, [\n                                  _createElementVNode(\"div\", {\n                                    class: _normalizeClass([\"animation-box\", [\n                      `${_unref(ANIMATION_CLASS_PREFIX)}animated`,\n                      `${_unref(ANIMATION_CLASS_PREFIX)}fast`,\n                      hoverPreviewAnimation.value === item.value && `${_unref(ANIMATION_CLASS_PREFIX)}${item.value}`,\n                    ]])\n                                  }, _toDisplayString(item.name), 3)\n                                ], 40, _hoisted_7))\n                              }), 128))\n                            ])\n                          ]))\n                        }), 128)),\n                        (!popoverMaskHide.value)\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8))\n                          : _createCommentVNode(\"\", true)\n                      ], 2))\n                    : _createCommentVNode(\"\", true)\n                ], 64))\n              }), 64))\n            ]),\n            default: _withCtx(() => [\n              _createVNode(_unref(Button), {\n                class: \"element-animation-btn\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (handleAnimationId.value = ''))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconEffects, { style: {\"margin-right\":\"5px\"} }),\n                  _createTextVNode(\" add animation \")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"visible\"])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n          _createVNode(_component_IconClick, { style: {\"margin-right\":\"5px\"} }),\n          _createTextVNode(\" Select elements in the canvas to add animation \")\n        ])),\n    _createVNode(_unref(Divider)),\n    _createVNode(_unref(Draggable), {\n      class: \"animation-sequence\",\n      modelValue: animationSequence.value,\n      animation: 200,\n      scroll: true,\n      scrollSensitivity: 50,\n      handle: \".sequence-content\",\n      itemKey: \"id\",\n      onEnd: handleDragEnd\n    }, {\n      item: _withCtx(({ element }) => [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"sequence-item\", [element.type, { 'active': _unref(handleElement)?.id === element.elId }]])\n        }, [\n          _createElementVNode(\"div\", _hoisted_10, [\n            _createElementVNode(\"div\", _hoisted_11, _toDisplayString(element. index), 1),\n            _createElementVNode(\"div\", _hoisted_12, \"【\" + _toDisplayString(element.elType) + \"】\" + _toDisplayString(element.animationEffect), 1),\n            _createElementVNode(\"div\", _hoisted_13, [\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Preview\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconPlayOne, {\n                    class: \"handler-btn\",\n                    onClick: ($event: any) => (runAnimation(element.elId, element.effect, element.duration))\n                  }, null, 8, [\"onClick\"])\n                ]),\n                _: 2\n              }, 1024),\n              _createVNode(_unref(Tooltip), {\n                mouseLeaveDelay: 0,\n                mouseEnterDelay: 0.5,\n                title: \"Delete\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconCloseSmall, {\n                    class: \"handler-btn\",\n                    onClick: ($event: any) => (deleteAnimation(element.id))\n                  }, null, 8, [\"onClick\"])\n                ]),\n                _: 2\n              }, 1024)\n            ])\n          ]),\n          (handleElementAnimation.value[0]?.elId === element.elId)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n                _createVNode(_unref(Divider), { style: {\"margin\":\"16px 0\"} }),\n                _createElementVNode(\"div\", _hoisted_15, [\n                  _hoisted_16,\n                  _createVNode(_unref(InputNumber), {\n                    min: 500,\n                    max: 3000,\n                    step: 500,\n                    value: element.duration,\n                    onChange: value => updateElementAnimationDuration(element.id, value as number),\n                    style: {\"flex\":\"5\"}\n                  }, null, 8, [\"value\", \"onChange\"])\n                ]),\n                _createElementVNode(\"div\", _hoisted_17, [\n                  _hoisted_18,\n                  _createVNode(_unref(Select), {\n                    value: element. trigger,\n                    onChange: value => updateElementAnimationTrigger(element.id, value as 'click' | 'meantime' | 'auto'),\n                    style: {\"flex\":\"5\"}\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_unref(SelectOption), { value: \"click\" }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"Active trigger\")\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_unref(SelectOption), { value: \"meantime\" }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"At the same time as the previous animation\")\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_unref(SelectOption), { value: \"auto\" }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"After the last animation\")\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 2\n                  }, 1032, [\"value\", \"onChange\"])\n                ]),\n                _createElementVNode(\"div\", _hoisted_19, [\n                  _createVNode(_unref(Button), {\n                    style: {\"flex\":\"1\"},\n                    onClick: ($event: any) => (openAnimationPool(element.id))\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Replace animation\")\n                    ]),\n                    _: 2\n                  }, 1032, [\"onClick\"])\n                ])\n              ]))\n            : _createCommentVNode(\"\", true)\n        ], 2)\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ]))\n}\n}\n\n})","import script from \"./ElementAnimationPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementAnimationPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementAnimationPanel.vue?vue&type=style&index=0&id=6131fba0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6131fba0\"]])\n\nexport default __exports__","export interface PresetTheme {\r\n  background: string\r\n  fontColor: string\r\n  fontname: string\r\n  colors: string[]\r\n}\r\n\r\nexport const PRESET_THEMES: PresetTheme[] = [\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#5b9bd5', '#ed7d31', '#a5a5a5', '#ffc000', '#4472c4', '#70ad47'],\r\n  },\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#83992a', '#3c9670', '#44709d', '#a23b32', '#d87728', '#deb340'],\r\n  },\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#e48312', '#bd582c', '#865640', '#9b8357', '#c2bc80', '#94a088'],\r\n  },\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#bdc8df', '#003fa9', '#f5ba00', '#ff7567', '#7676d9', '#923ffc'],\r\n  },\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#90c225', '#54a121', '#e6b91e', '#e86618', '#c42f19', '#918756'],\r\n  },\r\n  {\r\n    background: '#ffffff',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#1cade4', '#2683c6', '#27ced7', '#42ba97', '#3e8853', '#62a39f'],\r\n  },\r\n  {\r\n    background: '#e9efd6',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#a5300f', '#de7e18', '#9f8351', '#728653', '#92aa4c', '#6aac91'],\r\n  },\r\n  {\r\n    background: '#17444e',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#b01513', '#ea6312', '#e6b729', '#6bab90', '#55839a', '#9e5d9d'],\r\n  },\r\n  {\r\n    background: '#36234d',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#b31166', '#e33d6f', '#e45f3c', '#e9943a', '#9b6bf2', '#d63cd0'],\r\n  },\r\n  {\r\n    background: '#247fad',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#052f61', '#a50e82', '#14967c', '#6a9e1f', '#e87d37', '#c62324'],\r\n  },\r\n  {\r\n    background: '#103f55',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#40aebd', '#97e8d5', '#a1cf49', '#628f3e', '#f2df3a', '#fcb01c'],\r\n  },\r\n  {\r\n    background: '#242367',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#ac3ec1', '#477bd1', '#46b298', '#90ba4c', '#dd9d31', '#e25345'],\r\n  },\r\n  {\r\n    background: '#e4b75e',\r\n    fontColor: '#333333',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#f0a22e', '#a5644e', '#b58b80', '#c3986d', '#a19574', '#c17529'],\r\n  },\r\n  {\r\n    background: '#333333',\r\n    fontColor: '#ffffff',\r\n    fontname: 'Microsoft Yahei',\r\n    colors: ['#bdc8df', '#003fa9', '#f5ba00', '#ff7567', '#7676d9', '#923ffc'],\r\n  },\r\n]","import tinycolor from 'tinycolor2'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { Slide } from '@/types/slides'\nimport { PresetTheme } from '@/configs/theme'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { slides, currentSlide, theme } = storeToRefs(slidesStore)\n\n  const { addHistorySnapshot } = useHistorySnapshot()\n\n  // 获取指定幻灯片内所有颜色（主要的）\n  const getSlideAllColors = (slide: Slide) => {\n    const colors: string[] = []\n    for (const el of slide.elements) {\n      if (el.type === 'shape' && tinycolor(el.fill).getAlpha() !== 0) {\n        const color = tinycolor(el.fill).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n      if (el.type === 'text' && el.fill && tinycolor(el.fill).getAlpha() !== 0) {\n        const color = tinycolor(el.fill).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n      if (el.type === 'table' && el.theme && tinycolor(el.theme.color).getAlpha() !== 0) {\n        const color = tinycolor(el.theme.color).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n      if (el.type === 'chart' && el.fill && tinycolor(el.fill).getAlpha() !== 0) {\n        const color = tinycolor(el.fill).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n      if (el.type === 'line' && tinycolor(el.color).getAlpha() !== 0) {\n        const color = tinycolor(el.color).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n      if (el.type === 'audio' && tinycolor(el.color).getAlpha() !== 0) {\n        const color = tinycolor(el.color).toRgbString()\n        if (!colors.includes(color)) colors.push(color)\n      }\n    }\n    return colors\n  }\n  \n  // 创建原颜色与新颜色的对应关系表\n  const createSlideThemeColorMap = (slide: Slide, newColors: string[]): { [key: string]: string } => {\n    const oldColors = getSlideAllColors(slide)\n    const themeColorMap: { [key: string]: string } = {}\n  \n    if (oldColors.length > newColors.length) {\n      const analogous = tinycolor(newColors[0]).analogous(oldColors.length - newColors.length + 10)\n      const otherColors = analogous.map(item => item.toHexString()).slice(1)\n      newColors.push(...otherColors)\n    }\n    for (let i = 0; i < oldColors.length; i++) {\n      themeColorMap[oldColors[i]] = newColors[i]\n    }\n  \n    return themeColorMap\n  }\n  \n  // 设置幻灯片主题\n  const setSlideTheme = (slide: Slide, theme: PresetTheme) => {\n    const colorMap = createSlideThemeColorMap(slide, theme.colors)\n  \n    if (!slide.background || slide.background.type !== 'image') {\n      slide.background = {\n        type: 'solid',\n        color: theme.background,\n      }\n    }\n    for (const el of slide.elements) {\n      if (el.type === 'shape') {\n        el.fill = colorMap[tinycolor(el.fill).toRgbString()] || el.fill\n        if (el.gradient) delete el.gradient\n      }\n      if (el.type === 'text') {\n        if (el.fill) el.fill = colorMap[tinycolor(el.fill).toRgbString()] || el.fill\n        el.defaultColor = theme.fontColor\n        el.defaultFontName = theme.fontname\n      }\n      if (el.type === 'table') {\n        if (el.theme) el.theme.color = colorMap[tinycolor(el.theme.color).toRgbString()] || el.theme.color\n        for (const rowCells of el.data) {\n          for (const cell of rowCells) {\n            if (cell.style) {\n              cell.style.color = theme.fontColor\n              cell.style.fontname = theme.fontname\n            }\n          }\n        }\n      }\n      if (el.type === 'chart') {\n        el.themeColor = [colorMap[tinycolor(el.themeColor[0]).toRgbString()]] || el.themeColor\n        el.gridColor = theme.fontColor\n      }\n      if (el.type === 'line') el.color = colorMap[tinycolor(el.color).toRgbString()] || el.color\n      if (el.type === 'audio') el.color = colorMap[tinycolor(el.color).toRgbString()] || el.color\n      if (el.type === 'latex') el.color = theme.fontColor\n    }\n  }\n  \n  // 应用预置主题（单页）\n  const applyPresetThemeToSingleSlide = (theme: PresetTheme) => {\n    const newSlide: Slide = JSON.parse(JSON.stringify(currentSlide.value))\n    setSlideTheme(newSlide, theme)\n    slidesStore.updateSlide({\n      background: newSlide.background,\n      elements: newSlide.elements,\n    })\n    addHistorySnapshot()\n  }\n  \n  // 应用预置主题（全部）\n  const applyPresetThemeToAllSlides = (theme: PresetTheme) => {\n    const newSlides: Slide[] = JSON.parse(JSON.stringify(slides.value))\n    for (const slide of newSlides) {\n      setSlideTheme(slide, theme)\n    }\n    slidesStore.setTheme({\n      backgroundColor: theme.background,\n      themeColor: theme.colors[0],\n      fontColor: theme.fontColor,\n      fontName: theme.fontname,\n    })\n    slidesStore.setSlides(newSlides)\n    addHistorySnapshot()\n  }\n  \n  // 将当前主题配置应用到全部页面\n  const applyThemeToAllSlides = () => {\n    const newSlides: Slide[] = JSON.parse(JSON.stringify(slides.value))\n    const { themeColor, backgroundColor, fontColor, fontName } = theme.value\n  \n    for (const slide of newSlides) {\n      if (!slide.background || slide.background.type !== 'image') {\n        slide.background = {\n          type: 'solid',\n          color: backgroundColor\n        }\n      }\n  \n      for (const el of slide.elements) {\n        if (el.type === 'shape') el.fill = themeColor\n        else if (el.type === 'line') el.color = themeColor\n        else if (el.type === 'text') {\n          el.defaultColor = fontColor\n          el.defaultFontName = fontName\n          if (el.fill) el.fill = themeColor\n        }\n        else if (el.type === 'table') {\n          if (el.theme) el.theme.color = themeColor\n          for (const rowCells of el.data) {\n            for (const cell of rowCells) {\n              if (cell.style) {\n                cell.style.color = fontColor\n                cell.style.fontname = fontName\n              }\n            }\n          }\n        }\n        else if (el.type === 'chart') {\n          el.themeColor = [themeColor]\n          el.gridColor = fontColor\n        }\n        else if (el.type === 'latex') el.color = fontColor\n        else if (el.type === 'audio') el.color = themeColor\n      }\n    }\n    slidesStore.setSlides(newSlides)\n    addHistorySnapshot()\n  }\n\n  return {\n    applyPresetThemeToSingleSlide,\n    applyPresetThemeToAllSlides,\n    applyThemeToAllSlides,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6fd1a10b\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"slide-design-panel\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Background fill\", -1))\nconst _hoisted_3 = { class: \"row\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1))\nconst _hoisted_5 = {\n  key: 0,\n  class: \"background-image-wrapper\"\n}\nconst _hoisted_6 = { class: \"background-image\" }\nconst _hoisted_7 = {\n  key: 1,\n  class: \"background-gradient-wrapper\"\n}\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Start color:\", -1))\nconst _hoisted_10 = { class: \"row\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"End color:\", -1))\nconst _hoisted_12 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Gradient angle:\", -1))\nconst _hoisted_14 = { class: \"row\" }\nconst _hoisted_15 = { class: \"row\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Canvas size:\", -1))\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Global theme\", -1))\nconst _hoisted_18 = { class: \"row\" }\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"font:\", -1))\nconst _hoisted_20 = { class: \"row\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Font color:\", -1))\nconst _hoisted_22 = { class: \"row\" }\nconst _hoisted_23 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Background color:\", -1))\nconst _hoisted_24 = { class: \"row\" }\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex\":\"2\"} }, \"Theme color:\", -1))\nconst _hoisted_26 = { class: \"row\" }\nconst _hoisted_27 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"Preset theme\", -1))\nconst _hoisted_28 = { class: \"theme-list\" }\nconst _hoisted_29 = { class: \"theme-item-content\" }\nconst _hoisted_30 = { class: \"colors\" }\nconst _hoisted_31 = { class: \"btns\" }\nconst _hoisted_32 = [\"onClick\"]\nconst _hoisted_33 = [\"onClick\"]\n\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { SlideBackground, SlideTheme } from '@/types/slides'\nimport { PRESET_THEMES } from '@/configs/theme'\nimport { WEB_FONTS } from '@/configs/font'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\nimport useSlideTheme from '@/hooks/useSlideTheme'\nimport { getImageDataURL } from '@/utils/image'\n\nimport ColorButton from './common/ColorButton.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport ColorPicker from '@/components/ColorPicker/index.vue'\nimport {\n  Divider,\n  Button,\n  Popover,\n  Slider,\n  Select,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SlideDesignPanel',\n  setup(__props) {\n\nconst { OptGroup: SelectOptGroup, Option: SelectOption } = Select\n\nconst slidesStore = useSlidesStore()\nconst { availableFonts } = storeToRefs(useMainStore())\nconst { slides, currentSlide, viewportRatio, theme } = storeToRefs(slidesStore)\n\nconst background = computed(() => {\n  if (!currentSlide.value.background) {\n    return {\n      type: 'solid',\n      value: '#fff',\n    } as SlideBackground\n  }\n  return currentSlide.value.background\n})\n\nconst { addHistorySnapshot } = useHistorySnapshot()\nconst {\n  applyPresetThemeToSingleSlide,\n  applyPresetThemeToAllSlides,\n  applyThemeToAllSlides,\n} = useSlideTheme()\n\n// 设置背景模式：纯色、图片、渐变色\nconst updateBackgroundType = (type: 'solid' | 'image' | 'gradient') => {\n  if (type === 'solid') {\n    const newBackground: SlideBackground = {\n      ...background.value,\n      type: 'solid',\n      color: background.value.color || '#fff',\n    }\n    slidesStore.updateSlide({ background: newBackground })\n  }\n  else if (type === 'image') {\n    const newBackground: SlideBackground = {\n      ...background.value,\n      type: 'image',\n      image: background.value.image || '',\n      imageSize: background.value.imageSize || 'cover',\n    }\n    slidesStore.updateSlide({ background: newBackground })\n  }\n  else {\n    const newBackground: SlideBackground = {\n      ...background.value,\n      type: 'gradient',\n      gradientType: background.value.gradientType || 'linear',\n      gradientColor: background.value.gradientColor || ['#fff', '#fff'],\n      gradientRotate: background.value.gradientRotate || 0,\n    }\n    slidesStore.updateSlide({ background: newBackground })\n  }\n  addHistorySnapshot()\n}\n\n// 设置背景图片\nconst updateBackground = (props: Partial<SlideBackground>) => {\n  slidesStore.updateSlide({ background: { ...background.value, ...props } })\n  addHistorySnapshot()\n}\n\n// 上传背景图片\nconst uploadBackgroundImage = (files: FileList) => {\n  const imageFile = files[0]\n  if (!imageFile) return\n  getImageDataURL(imageFile).then(dataURL => updateBackground({ image: dataURL }))\n}\n\n// 应用当前页背景到全部页面\nconst applyBackgroundAllSlide = () => {\n  const newSlides = slides.value.map(slide => {\n    return {\n      ...slide,\n      background: currentSlide.value.background,\n    }\n  })\n  slidesStore.setSlides(newSlides)\n  addHistorySnapshot()\n}\n\n// 设置主题\nconst updateTheme = (themeProps: Partial<SlideTheme>) => {\n  slidesStore.setTheme(themeProps)\n}\n\n// 设置画布尺寸（宽高比例）\nconst updateViewportRatio = (value: number) => {\n  slidesStore.setViewportRatio(value)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"10\"},\n        value: background.value.type,\n        onChange: _cache[0] || (_cache[0] = value => updateBackgroundType(value as 'gradient' | 'image' | 'solid'))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(SelectOption), { value: \"solid\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"solid color fill\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: \"image\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Image fill\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: \"gradient\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Gradient fill\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"value\"]),\n      _hoisted_4,\n      (background.value.type === 'solid')\n        ? (_openBlock(), _createBlock(_unref(Popover), {\n            key: 0,\n            trigger: \"click\"\n          }, {\n            content: _withCtx(() => [\n              _createVNode(ColorPicker, {\n                modelValue: background.value.color,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = color => updateBackground({ color }))\n              }, null, 8, [\"modelValue\"])\n            ]),\n            default: _withCtx(() => [\n              _createVNode(ColorButton, {\n                color: background.value.color || '#fff',\n                style: {\"flex\":\"10\"}\n              }, null, 8, [\"color\"])\n            ]),\n            _: 1\n          }))\n        : (background.value.type === 'image')\n          ? (_openBlock(), _createBlock(_unref(Select), {\n              key: 1,\n              style: {\"flex\":\"10\"},\n              value: background.value.imageSize || 'cover',\n              onChange: _cache[2] || (_cache[2] = value => updateBackground({ imageSize: value as 'repeat' | 'cover' | 'contain' }))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(SelectOption), { value: \"contain\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"Zoom\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(SelectOption), { value: \"repeat\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"collage\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(SelectOption), { value: \"cover\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"Zoom to cover\")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"value\"]))\n          : (_openBlock(), _createBlock(_unref(Select), {\n              key: 2,\n              style: {\"flex\":\"10\"},\n              value: background.value. gradientType,\n              onChange: _cache[3] || (_cache[3] = value => updateBackground({ gradientType: value as 'linear' | 'radial' }))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(SelectOption), { value: \"linear\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"Linear Gradient\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(SelectOption), { value: \"radial\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"Radial Gradient\")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"value\"]))\n    ]),\n    (background.value.type === 'image')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _createVNode(FileInput, {\n            onChange: _cache[4] || (_cache[4] = files => uploadBackgroundImage(files))\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createElementVNode(\"div\", {\n                  class: \"content\",\n                  style: _normalizeStyle({ backgroundImage: `url(${background.value. image})` })\n                }, [\n                  _createVNode(_component_IconPlus)\n                ], 4)\n              ])\n            ]),\n            _: 1\n          })\n        ]))\n      : _createCommentVNode(\"\", true),\n    (background.value.type === 'gradient')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          _createElementVNode(\"div\", _hoisted_8, [\n            _hoisted_9,\n            _createVNode(_unref(Popover), { trigger: \"click\" }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: background.value. gradientColor![0],\n                  \"onUpdate:modelValue\": _cache[5] || (_cache[5] = value => updateBackground({ gradientColor: [value, background.value.gradientColor![1]] }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: background.value. gradientColor![0],\n                  style: {\"flex\":\"3\"}\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_10, [\n            _hoisted_11,\n            _createVNode(_unref(Popover), { trigger: \"click\" }, {\n              content: _withCtx(() => [\n                _createVNode(ColorPicker, {\n                  modelValue: background.value. gradientColor![1],\n                  \"onUpdate:modelValue\": _cache[6] || (_cache[6] = value => updateBackground({ gradientColor: [background.value.gradientColor![0], value] }))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(ColorButton, {\n                  color: background.value. gradientColor![1],\n                  style: {\"flex\":\"3\"}\n                }, null, 8, [\"color\"])\n              ]),\n              _: 1\n            })\n          ]),\n          (background.value. gradientType === 'linear')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                _hoisted_13,\n                _createVNode(_unref(Slider), {\n                  class: \"slider\",\n                  min: 0,\n                  max: 360,\n                  step: 15,\n                  value: background.value.gradientRotate,\n                  onChange: _cache[7] || (_cache[7] = value => updateBackground({ gradientRotate: value as number }))\n                }, null, 8, [\"value\"])\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_14, [\n      _createVNode(_unref(Button), {\n        style: {\"flex\":\"1\"},\n        onClick: _cache[8] || (_cache[8] = ($event: any) => (applyBackgroundAllSlide()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Apply background to all\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_unref(Divider)),\n    _createElementVNode(\"div\", _hoisted_15, [\n      _hoisted_16,\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"3\"},\n        value: _unref(viewportRatio),\n        onChange: _cache[9] || (_cache[9] = value => updateViewportRatio(value as number))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(SelectOption), { value: 0.5625 }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Widescreen 16:9\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: 0.625 }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Widescreen 16:10\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: 0.75 }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Standard 4 : 3\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOption), { value: 0.70710678 }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Paper A3 / A4\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createVNode(_unref(Divider)),\n    _hoisted_17,\n    _createElementVNode(\"div\", _hoisted_18, [\n      _hoisted_19,\n      _createVNode(_unref(Select), {\n        style: {\"flex\":\"3\"},\n        value: _unref(theme).fontName,\n        onChange: _cache[10] || (_cache[10] = value => updateTheme({ fontName: value as string }))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(SelectOptGroup), { label: \"system font\" }, {\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(availableFonts), (font) => {\n                return (_openBlock(), _createBlock(_unref(SelectOption), {\n                  key: font.value,\n                  value: font.value\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"span\", {\n                      style: _normalizeStyle({ fontFamily: font.value })\n                    }, _toDisplayString(font.label), 5)\n                  ]),\n                  _: 2\n                }, 1032, [\"value\"]))\n              }), 128))\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(SelectOptGroup), { label: \"Online font\" }, {\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(WEB_FONTS), (font) => {\n                return (_openBlock(), _createBlock(_unref(SelectOption), {\n                  key: font.value,\n                  value: font.value\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"span\", null, _toDisplayString(font.label), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"value\"]))\n              }), 128))\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"value\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_20, [\n      _hoisted_21,\n      _createVNode(_unref(Popover), { trigger: \"click\" }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(theme).fontColor,\n            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = value => updateTheme({ fontColor: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(theme).fontColor,\n            style: {\"flex\":\"3\"}\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_22, [\n      _hoisted_23,\n      _createVNode(_unref(Popover), { trigger: \"click\" }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(theme).backgroundColor,\n            \"onUpdate:modelValue\": _cache[12] || (_cache[12] = value => updateTheme({ backgroundColor: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(theme). backgroundColor,\n            style: {\"flex\":\"3\"}\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_24, [\n      _hoisted_25,\n      _createVNode(_unref(Popover), { trigger: \"click\" }, {\n        content: _withCtx(() => [\n          _createVNode(ColorPicker, {\n            modelValue: _unref(theme).themeColor,\n            \"onUpdate:modelValue\": _cache[13] || (_cache[13] = value => updateTheme({ themeColor: value }))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(ColorButton, {\n            color: _unref(theme).themeColor,\n            style: {\"flex\":\"3\"}\n          }, null, 8, [\"color\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_26, [\n      _createVNode(_unref(Button), {\n        style: {\"flex\":\"1\"},\n        onClick: _cache[14] || (_cache[14] = ($event: any) => (_unref(applyThemeToAllSlides)()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Apply theme to all\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_unref(Divider)),\n    _hoisted_27,\n    _createElementVNode(\"div\", _hoisted_28, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(PRESET_THEMES), (item, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"theme-item\",\n          key: index,\n          style: _normalizeStyle({\n           backgroundColor: item.background,\n           fontFamily: item. fontname,\n         })\n        }, [\n          _createElementVNode(\"div\", _hoisted_29, [\n            _createElementVNode(\"div\", {\n              class: \"text\",\n              style: _normalizeStyle({ color: item.fontColor })\n            }, \"Text Aa\", 4),\n            _createElementVNode(\"div\", _hoisted_30, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item. colors, (color, index) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  class: \"color-block\",\n                  key: index,\n                  style: _normalizeStyle({ backgroundColor: color})\n                }, null, 4))\n              }), 128))\n            ]),\n            _createElementVNode(\"div\", _hoisted_31, [\n              _createElementVNode(\"div\", {\n                class: \"btn\",\n                onClick: ($event: any) => (_unref(applyPresetThemeToSingleSlide)(item))\n              }, \"Apply\", 8, _hoisted_32),\n              _createElementVNode(\"div\", {\n                class: \"btn\",\n                onClick: ($event: any) => (_unref(applyPresetThemeToAllSlides)(item))\n              }, \"Apply Global\", 8, _hoisted_33)\n            ])\n          ])\n        ], 4))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./SlideDesignPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SlideDesignPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SlideDesignPanel.vue?vue&type=style&index=0&id=6fd1a10b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6fd1a10b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-631d686a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"slide-animation-panel\" }\nconst _hoisted_2 = { class: \"animation-pool\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"animation-text\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { TurningMode } from '@/types/slides'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport { Button } from 'ant-design-vue'\n\ninterface Animations {\n  label: string\n  value: TurningMode\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SlideAnimationPanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { slides, currentSlide } = storeToRefs(slidesStore)\n\nconst currentTurningMode = computed(() => currentSlide.value.turningMode || 'slideY')\n\nconst animations: Animations[] = [\n  { label: 'none', value: 'no' },\n  { label: 'Fade in and fade out', value: 'fade' },\n  { label: 'Left and right shift', value: 'slideX' },\n  { label: 'up and down', value: 'slideY' },\n]\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\n// 修改播放时的切换页面方式\nconst updateTurningMode = (mode: TurningMode) => {\n  if (mode === currentTurningMode.value) return\n  slidesStore.updateSlide({ turningMode: mode })\n  addHistorySnapshot()\n}\n\n// 将当前页的切换页面方式应用到全部页面\nconst applyAllSlide = () => {\n  const newSlides = slides.value.map(slide => {\n    return {\n      ...slide,\n      turningMode: currentSlide.value.turningMode,\n    }\n  })\n  slidesStore.setSlides(newSlides)\n  addHistorySnapshot()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(animations, (item) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass([\"animation-item\", { 'active': currentTurningMode.value === item.value }]),\n          key: item.label,\n          onClick: ($event: any) => (updateTurningMode(item.value))\n        }, [\n          _createElementVNode(\"div\", {\n            class: _normalizeClass(['animation-block', item.value])\n          }, null, 2),\n          _createElementVNode(\"div\", _hoisted_4, _toDisplayString(item.label), 1)\n        ], 10, _hoisted_3)\n      }), 64))\n    ]),\n    _createVNode(_unref(Button), {\n      style: {\"width\":\"100%\"},\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (applyAllSlide()))\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"apply to all\")\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./SlideAnimationPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SlideAnimationPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SlideAnimationPanel.vue?vue&type=style&index=0&id=631d686a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-631d686a\"]])\n\nexport default __exports__","import { storeToRefs } from 'pinia'\r\nimport { useMainStore, useSlidesStore } from '@/store'\r\nimport { PPTElement } from '@/types/slides'\r\nimport { ElementAlignCommands } from '@/types/edit'\r\nimport { getElementListRange, getRectRotatedOffset } from '@/utils/element'\r\nimport useHistorySnapshot from './useHistorySnapshot'\r\n\r\ninterface RangeMap {\r\n  [id: string]: ReturnType<typeof getElementListRange> \r\n}\r\n\r\nexport default () => {\r\n  const slidesStore = useSlidesStore()\r\n  const { activeElementIdList, activeElementList } = storeToRefs(useMainStore())\r\n  const { currentSlide } = storeToRefs(slidesStore)\r\n\r\n  const { addHistorySnapshot } = useHistorySnapshot()\r\n\r\n  /**\r\n   * 对齐选中的元素\r\n   * @param command 对齐方向\r\n   */\r\n  const alignActiveElement = (command: ElementAlignCommands) => {\r\n    const { minX, maxX, minY, maxY } = getElementListRange(activeElementList.value)\r\n    const elementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\r\n\r\n    // 如果所选择的元素为组合元素的成员，需要计算该组合的整体范围\r\n    const groupElementRangeMap: RangeMap = {}\r\n    for (const activeElement of activeElementList.value) {\r\n      if (activeElement.groupId && !groupElementRangeMap[activeElement.groupId]) {\r\n        const groupElements = activeElementList.value.filter(item => item.groupId === activeElement.groupId)\r\n        groupElementRangeMap[activeElement.groupId] = getElementListRange(groupElements)\r\n      }\r\n    }\r\n\r\n    // 根据不同的命令，计算对齐的位置\r\n    if (command === ElementAlignCommands.LEFT) {\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            if ('rotate' in element && element.rotate) {\r\n              const { offsetX } = getRectRotatedOffset({\r\n                left: element.left,\r\n                top: element.top,\r\n                width: element.width,\r\n                height: element.height,\r\n                rotate: element.rotate,\r\n              })\r\n              element.left = minX - offsetX\r\n            }\r\n            else element.left = minX\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const offset = range.minX - minX\r\n            element.left = element.left - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else if (command === ElementAlignCommands.RIGHT) {\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            const elWidth = element.type === 'line' ? Math.max(element.start[0], element.end[0]) : element.width\r\n            if ('rotate' in element && element.rotate) {\r\n              const { offsetX } = getRectRotatedOffset({\r\n                left: element.left,\r\n                top: element.top,\r\n                width: element.width,\r\n                height: element.height,\r\n                rotate: element.rotate,\r\n              })\r\n              element.left = maxX - elWidth + offsetX\r\n            }\r\n            else element.left = maxX - elWidth\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const offset = range.maxX - maxX\r\n            element.left = element.left - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else if (command === ElementAlignCommands.TOP) {\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            if ('rotate' in element && element.rotate) {\r\n              const { offsetY } = getRectRotatedOffset({\r\n                left: element.left,\r\n                top: element.top,\r\n                width: element.width,\r\n                height: element.height,\r\n                rotate: element.rotate,\r\n              })\r\n              element.top = minY - offsetY\r\n            }\r\n            else element.top = minY\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const offset = range.minY - minY\r\n            element.top = element.top - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else if (command === ElementAlignCommands.BOTTOM) {\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            const elHeight = element.type === 'line' ? Math.max(element.start[1], element.end[1]) : element.height\r\n            if ('rotate' in element && element.rotate) {\r\n              const { offsetY } = getRectRotatedOffset({\r\n                left: element.left,\r\n                top: element.top,\r\n                width: element.width,\r\n                height: element.height,\r\n                rotate: element.rotate,\r\n              })\r\n              element.top = maxY - elHeight + offsetY\r\n            }\r\n            else element.top = maxY - elHeight\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const offset = range.maxY - maxY\r\n            element.top = element.top - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else if (command === ElementAlignCommands.HORIZONTAL) {\r\n      const horizontalCenter = (minX + maxX) / 2\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            const elWidth = element.type === 'line' ? Math.max(element.start[0], element.end[0]) : element.width\r\n            element.left = horizontalCenter - elWidth / 2\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const center = (range.maxX + range.minX) / 2\r\n            const offset = center - horizontalCenter\r\n            element.left = element.left - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else if (command === ElementAlignCommands.VERTICAL) {\r\n      const verticalCenter = (minY + maxY) / 2\r\n      elementList.forEach(element => {\r\n        if (activeElementIdList.value.includes(element.id)) {\r\n          if (!element.groupId) {\r\n            const elHeight = element.type === 'line' ? Math.max(element.start[1], element.end[1]) : element.height\r\n            element.top = verticalCenter - elHeight / 2\r\n          }\r\n          else {\r\n            const range = groupElementRangeMap[element.groupId]\r\n            const center = (range.maxY + range.minY) / 2\r\n            const offset = center - verticalCenter\r\n            element.top = element.top - offset\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n    slidesStore.updateSlide({ elements: elementList })\r\n    addHistorySnapshot()\r\n  }\r\n\r\n  return {\r\n    alignActiveElement,\r\n  }\r\n}","import { computed } from 'vue'\r\nimport { storeToRefs } from 'pinia'\r\nimport { useMainStore, useSlidesStore } from '@/store'\r\nimport { PPTElement } from '@/types/slides'\r\nimport { getElementRange, getElementListRange, getRectRotatedOffset } from '@/utils/element'\r\nimport useHistorySnapshot from './useHistorySnapshot'\r\n\r\ninterface ElementItem {\r\n  min: number\r\n  max: number\r\n  el: PPTElement\r\n}\r\n\r\ninterface GroupItem {\r\n  groupId: string\r\n  els: PPTElement[]\r\n}\r\n\r\ninterface GroupElementsItem {\r\n  min: number\r\n  max: number\r\n  els: PPTElement[]\r\n}\r\n\r\ntype Item = ElementItem | GroupElementsItem\r\n\r\ninterface ElementWithPos {\r\n  pos: number\r\n  el: PPTElement\r\n}\r\n\r\ninterface LastPos {\r\n  min: number\r\n  max: number\r\n}\r\n\r\nexport default () => {\r\n  const slidesStore = useSlidesStore()\r\n  const { activeElementIdList, activeElementList } = storeToRefs(useMainStore())\r\n  const { currentSlide } = storeToRefs(slidesStore)\r\n\r\n  const { addHistorySnapshot } = useHistorySnapshot()\r\n\r\n  const displayItemCount = computed(() => {\r\n    let count = 0\r\n    const groupIdList: string[] = []\r\n    for (const el of activeElementList.value) {\r\n      if (!el.groupId) count += 1\r\n      else if (!groupIdList.includes(el.groupId)) {\r\n        groupIdList.push(el.groupId)\r\n        count += 1\r\n      }\r\n    }\r\n    return count\r\n  })\r\n  // 水平均匀排列\r\n  const uniformHorizontalDisplay = () => {\r\n    const { minX, maxX } = getElementListRange(activeElementList.value)\r\n    const copyOfActiveElementList: PPTElement[] = JSON.parse(JSON.stringify(activeElementList.value))\r\n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\r\n\r\n    // 分别获取普通元素和组合元素集合，并记录下每一项的范围\r\n    const singleElemetList: ElementItem[] = []\r\n    let groupList: GroupItem[] = []\r\n    for (const el of copyOfActiveElementList) {\r\n      if (!el.groupId) {\r\n        const { minX, maxX } = getElementRange(el)\r\n        singleElemetList.push({ min: minX, max: maxX, el })\r\n      }\r\n      else {\r\n        const groupEl = groupList.find(item => item.groupId === el.groupId)\r\n        if (!groupEl) groupList.push({ groupId: el.groupId, els: [el] })\r\n        else {\r\n          groupList = groupList.map(item => item.groupId === el.groupId ? { ...item, els: [...item.els, el] } : item)\r\n        }\r\n      }\r\n    }\r\n    const formatedGroupList: GroupElementsItem[] = []\r\n    for (const groupItem of groupList) {\r\n      const { minX, maxX } = getElementListRange(groupItem.els)\r\n      formatedGroupList.push({ min: minX, max: maxX, els: groupItem.els })\r\n    }\r\n\r\n    // 将普通元素和组合元素集合组合在一起，然后将每一项按位置（从左到右）排序\r\n    const list: Item[] = [...singleElemetList, ...formatedGroupList]\r\n    list.sort((itemA, itemB) => itemA.min - itemB.min)\r\n\r\n    // 计算元素均匀分布所需要的间隔：\r\n    // (所选元素整体范围 - 所有所选元素宽度和) / (所选元素数 - 1)\r\n    let totalWidth = 0\r\n    for (const item of list) {\r\n      const width = item.max - item.min\r\n      totalWidth += width\r\n    }\r\n    const span = ((maxX - minX) - totalWidth) / (list.length - 1)\r\n\r\n    // 按位置顺序依次计算每一个元素的目标位置\r\n    // 第一项中的元素即为起点，无需计算\r\n    // 从第二项开始，每一项的位置应该为：上一项位置 + 上一项宽度 + 间隔\r\n    // 注意此处计算的位置（pos）并非元素最终的left值，而是目标位置范围最小值（元素旋转后的left值 ≠ 范围最小值）\r\n    const sortedElementData: ElementWithPos[] = []\r\n\r\n    const firstItem = list[0]\r\n    let lastPos: LastPos = { min: firstItem.min, max: firstItem.max }\r\n\r\n    if ('el' in firstItem) {\r\n      sortedElementData.push({ pos: firstItem.min, el: firstItem.el })\r\n    }\r\n    else {\r\n      for (const el of firstItem.els) {\r\n        const { minX: pos } = getElementRange(el)\r\n        sortedElementData.push({ pos, el })\r\n      }\r\n    }\r\n\r\n    for (let i = 1; i < list.length; i++) {\r\n      const item = list[i]\r\n      const lastWidth = lastPos.max - lastPos.min\r\n      const currentPos = lastPos.min + lastWidth + span\r\n      const currentWidth = item.max - item.min\r\n      lastPos = { min: currentPos, max: currentPos + currentWidth }\r\n\r\n      if ('el' in item) {\r\n        sortedElementData.push({ pos: currentPos, el: item.el })\r\n      }\r\n      else {\r\n        for (const el of item.els) {\r\n          const { minX } = getElementRange(el)\r\n          const offset = minX - item.min\r\n          sortedElementData.push({ pos: currentPos + offset, el })\r\n        }\r\n      }\r\n    }\r\n\r\n    // 根据目标位置计算元素最终目标left值\r\n    // 对于旋转后的元素，需要计算旋转前后left的偏移来做校正\r\n    for (const element of newElementList) {\r\n      if (!activeElementIdList.value.includes(element.id)) continue\r\n\r\n      for (const sortedItem of sortedElementData) {\r\n        if (sortedItem.el.id === element.id) {\r\n          if ('rotate' in element && element.rotate) {\r\n            const { offsetX } = getRectRotatedOffset({\r\n              left: element.left,\r\n              top: element.top,\r\n              width: element.width,\r\n              height: element.height,\r\n              rotate: element.rotate,\r\n            })\r\n            element.left = sortedItem.pos - offsetX\r\n          }\r\n          else element.left = sortedItem.pos\r\n        }\r\n      }\r\n    }\r\n\r\n    slidesStore.updateSlide({ elements: newElementList })\r\n    addHistorySnapshot()\r\n  }\r\n\r\n  // 垂直均匀排列（逻辑类似水平均匀排列方法）\r\n  const uniformVerticalDisplay = () => {\r\n    const { minY, maxY } = getElementListRange(activeElementList.value)\r\n    const copyOfActiveElementList: PPTElement[] = JSON.parse(JSON.stringify(activeElementList.value))\r\n    const newElementList: PPTElement[] = JSON.parse(JSON.stringify(currentSlide.value.elements))\r\n\r\n    const singleElemetList: ElementItem[] = []\r\n    let groupList: GroupItem[] = []\r\n    for (const el of copyOfActiveElementList) {\r\n      if (!el.groupId) {\r\n        const { minY, maxY } = getElementRange(el)\r\n        singleElemetList.push({ min: minY, max: maxY, el })\r\n      }\r\n      else {\r\n        const groupEl = groupList.find(item => item.groupId === el.groupId)\r\n        if (!groupEl) groupList.push({ groupId: el.groupId, els: [el] })\r\n        else {\r\n          groupList = groupList.map(item => item.groupId === el.groupId ? { ...item, els: [...item.els, el] } : item)\r\n        }\r\n      }\r\n    }\r\n    const formatedGroupList: GroupElementsItem[] = []\r\n    for (const groupItem of groupList) {\r\n      const { minY, maxY } = getElementListRange(groupItem.els)\r\n      formatedGroupList.push({ min: minY, max: maxY, els: groupItem.els })\r\n    }\r\n\r\n    const list: Item[] = [...singleElemetList, ...formatedGroupList]\r\n    list.sort((itemA, itemB) => itemA.min - itemB.min)\r\n\r\n    let totalHeight = 0\r\n    for (const item of list) {\r\n      const height = item.max - item.min\r\n      totalHeight += height\r\n    }\r\n    const span = ((maxY - minY) - totalHeight) / (list.length - 1)\r\n\r\n    const sortedElementData: ElementWithPos[] = []\r\n\r\n    const firstItem = list[0]\r\n    let lastPos: LastPos = { min: firstItem.min, max: firstItem.max }\r\n\r\n    if ('el' in firstItem) {\r\n      sortedElementData.push({ pos: firstItem.min, el: firstItem.el })\r\n    }\r\n    else {\r\n      for (const el of firstItem.els) {\r\n        const { minY: pos } = getElementRange(el)\r\n        sortedElementData.push({ pos, el })\r\n      }\r\n    }\r\n\r\n    for (let i = 1; i < list.length; i++) {\r\n      const item = list[i]\r\n      const lastHeight = lastPos.max - lastPos.min\r\n      const currentPos = lastPos.min + lastHeight + span\r\n      const currentHeight = item.max - item.min\r\n      lastPos = { min: currentPos, max: currentPos + currentHeight }\r\n\r\n      if ('el' in item) {\r\n        sortedElementData.push({ pos: currentPos, el: item.el })\r\n      }\r\n      else {\r\n        for (const el of item.els) {\r\n          const { minY } = getElementRange(el)\r\n          const offset = minY - item.min\r\n          sortedElementData.push({ pos: currentPos + offset, el })\r\n        }\r\n      }\r\n    }\r\n\r\n    for (const element of newElementList) {\r\n      if (!activeElementIdList.value.includes(element.id)) continue\r\n\r\n      for (const sortedItem of sortedElementData) {\r\n        if (sortedItem.el.id === element.id) {\r\n          if ('rotate' in element && element.rotate) {\r\n            const { offsetY } = getRectRotatedOffset({\r\n              left: element.left,\r\n              top: element.top,\r\n              width: element.width,\r\n              height: element.height,\r\n              rotate: element.rotate,\r\n            })\r\n            element.top = sortedItem.pos - offsetY\r\n          }\r\n          else element.top = sortedItem.pos\r\n        }\r\n      }\r\n    }\r\n\r\n    slidesStore.updateSlide({ elements: newElementList })\r\n    addHistorySnapshot()\r\n  }\r\n\r\n  return {\r\n    displayItemCount,\r\n    uniformHorizontalDisplay,\r\n    uniformVerticalDisplay,\r\n  }\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c88d31ba\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"multi-position-panel\" }\n\nimport { ElementAlignCommands } from '@/types/edit'\nimport useCombineElement from '@/hooks/useCombineElement'\nimport useAlignActiveElement from '@/hooks/useAlignActiveElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useUniformDisplayElement from '@/hooks/useUniformDisplayElement'\n\nimport {\n  Divider,\n  Button,\n  Tooltip,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MultiPositionPanel',\n  setup(__props) {\n\nconst ButtonGroup = Button.Group\n\nconst { canCombine, combineElements, uncombineElements } = useCombineElement()\nconst { alignActiveElement } = useAlignActiveElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\nconst { displayItemCount, uniformHorizontalDisplay, uniformVerticalDisplay } = useUniformDisplayElement()\n\n// 多选元素对齐，需要先判断当前所选中的元素状态：\n// 如果所选元素为一组组合元素，则将它对齐到画布；\n// 如果所选元素不是组合元素或不止一组元素（即当前为可组合状态），则将这多个（多组）元素相互对齐。\nconst alignElement = (command: ElementAlignCommands) => {\n  if (canCombine.value) alignActiveElement(command)\n  else alignElementToCanvas(command)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconAlignLeft = _resolveComponent(\"IconAlignLeft\")!\n  const _component_IconAlignHorizontally = _resolveComponent(\"IconAlignHorizontally\")!\n  const _component_IconAlignRight = _resolveComponent(\"IconAlignRight\")!\n  const _component_IconAlignTop = _resolveComponent(\"IconAlignTop\")!\n  const _component_IconAlignVertically = _resolveComponent(\"IconAlignVertically\")!\n  const _component_IconAlignBottom = _resolveComponent(\"IconAlignBottom\")!\n  const _component_IconGroup = _resolveComponent(\"IconGroup\")!\n  const _component_IconUngroup = _resolveComponent(\"IconUngroup\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"左对齐\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (alignElement(_unref(ElementAlignCommands).LEFT)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignLeft)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"水平居中\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[1] || (_cache[1] = ($event: any) => (alignElement(_unref(ElementAlignCommands).HORIZONTAL)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignHorizontally)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"右对齐\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[2] || (_cache[2] = ($event: any) => (alignElement(_unref(ElementAlignCommands).RIGHT)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignRight)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"上对齐\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[3] || (_cache[3] = ($event: any) => (alignElement(_unref(ElementAlignCommands).TOP)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignTop)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"垂直居中\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[4] || (_cache[4] = ($event: any) => (alignElement(_unref(ElementAlignCommands).VERTICAL)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignVertically)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.5,\n          title: \"下对齐\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[5] || (_cache[5] = ($event: any) => (alignElement(_unref(ElementAlignCommands).BOTTOM)))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_IconAlignBottom)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    (_unref(displayItemCount) > 2)\n      ? (_openBlock(), _createBlock(_unref(ButtonGroup), {\n          key: 0,\n          class: \"row\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[6] || (_cache[6] = ($event: any) => (_unref(uniformHorizontalDisplay)()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"水平均匀分布\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(Button), {\n              style: {\"flex\":\"1\"},\n              onClick: _cache[7] || (_cache[7] = ($event: any) => (_unref(uniformVerticalDisplay)()))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"垂直均匀分布\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_unref(Divider)),\n    _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(Button), {\n          disabled: !_unref(canCombine),\n          onClick: _cache[8] || (_cache[8] = ($event: any) => (_unref(combineElements)())),\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconGroup, { style: {\"margin-right\":\"3px\"} }),\n            _createTextVNode(\"组合\")\n          ]),\n          _: 1\n        }, 8, [\"disabled\"]),\n        _createVNode(_unref(Button), {\n          disabled: _unref(canCombine),\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (_unref(uncombineElements)())),\n          style: {\"flex\":\"1\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconUngroup, { style: {\"margin-right\":\"3px\"} }),\n            _createTextVNode(\"取消组合\")\n          ]),\n          _: 1\n        }, 8, [\"disabled\"])\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./MultiPositionPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MultiPositionPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MultiPositionPanel.vue?vue&type=style&index=0&id=c88d31ba&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c88d31ba\"]])\n\nexport default __exports__","export const SYMBOL_LIST = [\n  {\n    key: 'letter',\n    label: 'letter',\n    children: [\n      'α', 'β', 'γ', 'δ', 'ϵ', 'ε', 'ζ', 'η', 'θ', 'ϑ', 'ι', 'κ', 'λ ', 'μ', 'ν', 'ξ', 'π', 'ϖ', 'ρ', 'ϱ', 'σ', 'ς', 'τ', 'υ', 'ϕ', 'φ', 'χ', 'ψ', 'ω',\n      'Γ', 'Δ', 'Θ', 'Λ', 'Ξ', 'Π', 'Σ', 'Υ', 'Φ', 'Ψ', 'Ω',\n      '𝐀', '𝐁', '𝐂', '𝐃', '𝐄', '𝐅', '𝐆', '𝐇', '𝐈', '𝐉', '𝐊', '𝐋', '𝐌 ', '𝐍', '𝐎', '𝐏', '𝐐', '𝐑', '𝐒', '𝐓', '𝐔', '𝐕', '𝐖', '𝐗', '𝐘', '𝐙',\n      '𝐚', '𝐛', '𝐜', '𝐝', '𝐞', '𝐟', '𝐠', '𝐡', '𝐢', '𝐣', '𝐤', '𝐥', '𝐦 ', '𝐧', '𝐨', '𝐩', '𝐪', '𝐫', '𝐬', '𝐭', '𝐮', '𝐯', '𝐰', '𝐱', '𝐲', '𝐳',\n      '𝓐', '𝓑', '𝓒', '𝓓', '𝓔', '𝓕', '𝓖', '𝓗', '𝓘', '𝓙', '𝓚', '𝓛', '𝓜 ', '𝓝', '𝓞', '𝓟', '𝓠', '𝓡', '𝓢', '𝓣', '𝓤', '𝓥', '𝓦', '𝓧', '𝓨', '𝓩',\n      '𝓪', '𝓫', '𝓬', '𝓭', '𝓮', '𝓯', '𝓰', '𝓱', '𝓲', '𝓳', '𝓴', '𝓵', '𝓶 ', '𝓷', '𝓸', '𝓹', '𝓺', '𝓻', '𝓼', '𝓽', '𝓾', '𝓿', '𝔀', '𝔁', '𝔂', '𝔃',\n    ],\n  },\n  {\n    key: 'number',\n    label: 'serial number',\n    children: [\n      '①', '②', '③', '④', '⑤', '⑥', '⑦', '⑧', '⑨', '⑩', '⑪', '⑫', '⑬ ', '⑭', '⑮', '⑯', '⑰', '⑱', '⑲', '⑳',\n      '⑴', '⑵', '⑶', '⑷', '⑸', '⑹', '⑺', '⑻', '⑼', '⑽', '⑾', '⑿', '⒀ ', '⒁', '⒂', '⒃', '⒄', '⒅', '⒆', '⒇',\n      'º', '¹', '²', '³', '⁴', '⁵', '⁶', '⁷', '⁸', '⁹', '₀', '₁', '₂ ', '₃', '₄', '₅', '₆', '₇', '₈', '₉',\n      'Ⅰ', 'Ⅱ', 'Ⅲ', 'Ⅳ', 'Ⅴ', 'Ⅵ', 'Ⅶ', 'Ⅷ', 'Ⅸ', 'Ⅹ', 'Ⅺ', 'Ⅻ', 'Ⅼ ', 'Ⅽ', 'Ⅾ', 'Ⅿ',\n      'ⅰ', 'ⅱ', 'ⅲ', 'ⅳ', 'ⅴ', 'ⅵ', 'ⅶ', 'ⅷ', 'ⅸ', 'ⅹ', 'ⅺ', 'ⅻ', 'ⅼ ', 'ⅽ', 'ⅾ', 'ⅿ', 'ↀ', 'ↁ', 'ↂ',\n      '㊀', '㊁', '㊂', '㊃', '㊄', '㊅', '㊆', '㊇', '㊈', '㊉', 'i', 'ii', 'iii ', '㈣', '㈤', '㈥', '㈦', '㈧', '㈨', '㈩',\n      '𝟘', '𝟙', '𝟚', '𝟛', '𝟜', '𝟝', '𝟞', '𝟟', '𝟠', '𝟡',\n    ],\n  },\n  {\n    key: 'math',\n    label: 'Mathematics',\n    children: [\n      '+', '-', '×', '÷', '=', '~', '¬', '±', '%', '°', 'ǃ ', '‰', '‱', '½', '⅓', '⅔', '¼', '¾',\n      '<', '>', 'l', 'o', 'g', 'l', 'g', 'l', 'n', '⨂', '⨁', '⨄', '⨃ ', '⨅', '⨆', '√', '∛', '∜', '∝', '∞',\n      '∟', '∠', '∡', '∢', '∧', '∨', '∩', '∪', '∫', '∬', '∭', '∮', '∯ ', '∰', '∱', '∲', '∳',\n      '∴', '∵', '∼', '∽', '∾', '∿', '≃', '≄', '≅', '≆', '≇', '≈', '≊ ', '≋', '≌', '≍', '≎', '≏', '≐', '≑', '≒', '≓', '≔', '≕',\n      '≤', '≥', '≦', '≧', '≨', '≩', '≪', '≫', '≺', '≻', '≼', '≽', '≾ ', '≿', '⊀', '⊁', '⊂', '⊃', '⊄', '⊅', '⊆', '⊇', '⊈', '⊉', '⊊', '⊋', '⊏', '⊐', '⊑', '⊒',\n      '⊓', '⊔', '⊢', '⊣', '⊤', '⊥', '⊦', '⊧', '⊨', '⊩', '⊪', '⊫', '⊬ ', '⊭', '⊮', '⊯', '⊲', '⊳', '⊴', '⊵', '⋀', '⋁', '⋂', '⋃', '⋉', '⋊',\n      '⋋', '⋌', '⟨', '⟩', '⟪', '⟫', '⟮', '⟯', '⧼', '⧽', '⦰',\n    ],\n  },\n  {\n    key: 'arrow',\n    label: 'arrow',\n    children: [\n      '←', '↑', '→', '↓', '↔', '↕', '↖', '↗', '↘', '↙', '↚', '↛', '↜ ', '↝', '↞', '↟', '↠', '↡', '↢', '↣', '↤', '↥', '↦', '↧', '↨',\n      '↫', '↬', '↭', '↮', '↯', '↰', '↱', '↲', '↳', '↴', '↵', '↶', '↷ ', '↸', '↹', '↺', '↻', '↼', '↽', '↾', '↿', '⇀', '⇁', '⇂', '⇃',\n      '⇄', '⇅', '⇆', '⇇', '⇈', '⇉', '⇊', '⇋', '⇌', '⇍', '⇎', '⇏', '⇐ ', '⇑', '⇒', '⇓', '⇔', '⇕', '⇖', '⇗', '⇘', '⇙', '⇚', '⇛',\n      '⇜', '⇝', '⇞', '⇟', '⇠', '⇡', '⇢', '⇣', '⇤', '⇥', '⇦', '⇧', '⇨ ', '⇩', '⇪', '⇫', '⇬', '⇭', '⇮', '⇯', '⇰', '⇱', '⇲', '⇳', '⇴', '⇵',\n      '⇶', '⇷', '⇸', '⇹', '⇺', '⇻', '⇼', '⇽', '⇾', '⇿',\n    ],\n  },\n  {\n    key: 'graph',\n    label: 'Graphics',\n    children: [\n      '▢', '▣', '▤', '▥', '▦', '▧', '▨', '▩', '▌', '❚', '▯', '▰', '▽ ', '▲', '▷', '▼', '◁',\n      '◈', '◉', '◍', '◐', '◑', '◒', '◓', '◔', '◕', 'З', '◨', '◩', '◪ ', '◫', '◬', '◭', '◮',\n    ],\n  },\n]","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ba0c96fc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"symbol-panel\" }\nconst _hoisted_2 = { class: \"tabs\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"pool\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = { class: \"symbol\" }\n\nimport { computed, ref } from 'vue'\nimport { SYMBOL_LIST } from '@/configs/symbol'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SymbolPanel',\n  setup(__props) {\n\nconst selectedSymbolKey = ref(SYMBOL_LIST[0].key)\nconst symbolPool = computed(() => {\n  const selectedSymbol = SYMBOL_LIST.find(item => item.key === selectedSymbolKey.value)\n  return selectedSymbol?.children || []\n})\n\nconst selectSymbol = (value: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command: 'insert', value } })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(SYMBOL_LIST), (item) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: _normalizeClass([\"tab\", { 'active': selectedSymbolKey.value === item.key }]),\n          key: item.key,\n          onClick: ($event: any) => (selectedSymbolKey.value = item.key)\n        }, _toDisplayString(item.label), 11, _hoisted_3))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(symbolPool.value, (item, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"symbol-item\",\n          key: index,\n          onClick: ($event: any) => (selectSymbol(item))\n        }, [\n          _createElementVNode(\"div\", _hoisted_6, _toDisplayString(item), 1)\n        ], 8, _hoisted_5))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./SymbolPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SymbolPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SymbolPanel.vue?vue&type=style&index=0&id=ba0c96fc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ba0c96fc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-51970d02\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"toolbar\" }\nconst _hoisted_2 = { class: \"tabs\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"content\" }\n\nimport { computed, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { ToolbarStates } from '@/types/toolbar'\n\nimport ElementStylePanel from './ElementStylePanel/index.vue'\nimport ElementPositionPanel from './ElementPositionPanel.vue'\nimport ElementAnimationPanel from './ElementAnimationPanel.vue'\nimport SlideDesignPanel from './SlideDesignPanel.vue'\nimport SlideAnimationPanel from './SlideAnimationPanel.vue'\nimport MultiPositionPanel from './MultiPositionPanel.vue'\nimport SymbolPanel from './SymbolPanel.vue'\n\ninterface ElementTabs {\n  label: string\n  value: ToolbarStates\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst { activeElementIdList, handleElement, toolbarState } = storeToRefs(mainStore)\n\nconst elementTabs = computed<ElementTabs[]>(() => {\n  if (handleElement.value?.type === 'text') {\n    return [\n      { label: 'style', value: ToolbarStates.EL_STYLE },\n      { label: 'symbol', value: ToolbarStates.SYMBOL },\n      { label: 'position', value: ToolbarStates.EL_POSITION },\n      { label: 'Animation', value: ToolbarStates.EL_ANIMATION },\n    ]\n  }\n  return [\n    { label: 'style', value: ToolbarStates.EL_STYLE },\n    { label: 'position', value: ToolbarStates.EL_POSITION },\n    { label: 'Animation', value: ToolbarStates.EL_ANIMATION },\n  ]\n})\nconst slideTabs = [\n  { label: 'Design', value: ToolbarStates.SLIDE_DESIGN },\n  { label: 'Switch', value: ToolbarStates.SLIDE_ANIMATION },\n  { label: 'Animation', value: ToolbarStates.EL_ANIMATION },\n]\nconst multiSelectTabs = [\n  { label: 'style', value: ToolbarStates.EL_STYLE },\n  { label: 'position', value: ToolbarStates.MULTI_POSITION },\n]\n\nconst setToolbarState = (value: ToolbarStates) => {\n  mainStore. setToolbarState(value)\n}\n\nconst currentTabs = computed(() => {\n  if (!activeElementIdList.value.length) return slideTabs\n  else if (activeElementIdList.value.length > 1) return multiSelectTabs\n  return elementTabs.value\n})\n\nwatch(currentTabs, () => {\n  const currentTabsValue: ToolbarStates[] = currentTabs.value.map(tab => tab.value)\n  if (!currentTabsValue. includes(toolbarState. value)) {\n    mainStore.setToolbarState(currentTabsValue[0])\n  }\n})\n\nconst currentPanelComponent = computed(() => {\n  const panelMap = {\n    [ToolbarStates.EL_STYLE]: ElementStylePanel,\n    [ToolbarStates.EL_POSITION]: ElementPositionPanel,\n    [ToolbarStates.EL_ANIMATION]: ElementAnimationPanel,\n    [ToolbarStates.SLIDE_DESIGN]: SlideDesignPanel,\n    [ToolbarStates.SLIDE_ANIMATION]: SlideAnimationPanel,\n    [ToolbarStates.MULTI_POSITION]: MultiPositionPanel,\n    [ToolbarStates.SYMBOL]: SymbolPanel,\n  }\n  return panelMap[toolbarState. value] || null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(currentTabs.value, (tab) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: _normalizeClass([\"tab\", { 'active': tab. value === _unref(toolbarState) }]),\n          key: tab.value,\n          onClick: ($event: any) => (setToolbarState(tab. value))\n        }, _toDisplayString(tab.label), 11, _hoisted_3))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      (_openBlock(), _createBlock(_resolveDynamicComponent(currentPanelComponent.value)))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=51970d02&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-51970d02\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7a898eb4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"remark\" }\nconst _hoisted_2 = [\"value\"]\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  height: {\n    type: Number,\n    required: true,\n  },\n},\n  emits: [\"update:height\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst slidesStore = useSlidesStore()\nconst { currentSlide } = storeToRefs(slidesStore)\n\nconst remark = computed(() => currentSlide.value?.remark || '')\n\nconst handleInput = (e: Event) => {\n  const value = (e.target as HTMLTextAreaElement).value\n  slidesStore. updateSlide({ remark: value })\n}\n\nconst resize = (e: MouseEvent) => {\n  let isMouseDown = true\n  const startPageY = e.pageY\n  const originHeight = props. height\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const currentPageY = e.pageY\n\n    const moveY = currentPageY - startPageY\n    let newHeight = -moveY + originHeight\n\n    if (newHeight < 40) newHeight = 40\n    if (newHeight > 120) newHeight = 120\n\n    emit('update:height', newHeight)\n  }\n\n  document.onmouseup = () => {\n    isMouseDown = false\n    document.onmousemove = null\n    document.onmouseup = null\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"resize-handler\",\n      onMousedown: _cache[0] || (_cache[0] = $event => resize($event))\n    }, null, 32),\n    _createElementVNode(\"textarea\", {\n      value: remark.value,\n      placeholder: \"Click to enter speaker notes\",\n      onInput: _cache[1] || (_cache[1] = $event => handleInput($event))\n    }, null, 40, _hoisted_2)\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7a898eb4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7a898eb4\"]])\n\nexport default __exports__","export const childlessTags = ['style', 'script', 'template']\n\nexport const closingTags = ['html', 'head', 'body', 'p', 'dt', 'dd', 'li', 'option', 'thead', 'th', 'tbody', 'tr', 'td', 'tfoot', 'colgroup']\n\ninterface ClosingTagAncestorBreakers {\n  [key: string]: string[]\n}\n\nexport const closingTagAncestorBreakers: ClosingTagAncestorBreakers = {\n  li: ['ul', 'ol', 'menu'],\n  dt: ['dl'],\n  dd: ['dl'],\n  tbody: ['table'],\n  thead: ['table'],\n  tfoot: ['table'],\n  tr: ['table'],\n  td: ['table'],\n}\n\nexport const voidTags = ['!doctype', 'area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr']","import { startsWith, endsWith } from 'lodash'\nimport { Token } from './types'\nimport { childlessTags } from './tags'\n\ninterface State {\n  str: string\n  position: number\n  tokens: Token[]\n}\n\nconst jumpPosition = (state: State, end: number) => {\n  const len = end - state.position\n  movePositopn(state, len)\n}\n\nconst movePositopn = (state: State, len: number) => {\n  state.position = state.position + len\n}\n\nconst findTextEnd = (str: string, index: number) => {\n  const isEnd = false\n  while (!isEnd) {\n    const textEnd = str.indexOf('<', index)\n    if (textEnd === -1) {\n      return textEnd\n    }\n    const char = str.charAt(textEnd + 1)\n    if (char === '/' || char === '!' || /[A-Za-z0-9]/.test(char)) {\n      return textEnd\n    }\n    index = textEnd + 1\n  }\n  return -1\n}\n\nconst lexText = (state: State) => {\n  const { str } = state\n  let textEnd = findTextEnd(str, state.position)\n  if (textEnd === state.position) return\n  if (textEnd === -1) {\n    textEnd = str.length\n  }\n\n  const content = str.slice(state.position, textEnd)\n  jumpPosition(state, textEnd)\n\n  state.tokens.push({\n    type: 'text', \n    content, \n  })\n}\n\nconst lexComment = (state: State) => {\n  const { str } = state\n\n  movePositopn(state, 4)\n  let contentEnd = str.indexOf('-->', state.position)\n  let commentEnd = contentEnd + 3\n  if (contentEnd === -1) {\n    contentEnd = commentEnd = str.length\n  }\n\n  const content = str.slice(state.position, contentEnd)\n  jumpPosition(state, commentEnd)\n\n  state.tokens.push({\n    type: 'comment',\n    content,\n  })\n}\n\nconst lexTagName = (state: State) => {\n  const { str } = state\n  const len = str.length\n  let start = state.position\n\n  while (start < len) {\n    const char = str.charAt(start)\n    const isTagChar = !(/\\s/.test(char) || char === '/' || char === '>')\n    if (isTagChar) break\n    start++\n  }\n\n  let end = start + 1\n  while (end < len) {\n    const char = str.charAt(end)\n    const isTagChar = !(/\\s/.test(char) || char === '/' || char === '>')\n    if (!isTagChar) break\n    end++\n  }\n\n  jumpPosition(state, end)\n  const tagName = str.slice(start, end)\n  state.tokens.push({\n    type: 'tag',\n    content: tagName\n  })\n  return tagName\n}\n\nconst lexTagAttributes = (state: State) => {\n  const { str, tokens } = state\n  let cursor = state.position\n  let quote = null\n  let wordBegin = cursor\n  const words = []\n  const len = str.length\n  while (cursor < len) {\n    const char = str.charAt(cursor)\n    if (quote) {\n      const isQuoteEnd = char === quote\n      if (isQuoteEnd) quote = null\n      cursor++\n      continue\n    }\n\n    const isTagEnd = char === '/' || char === '>'\n    if (isTagEnd) {\n      if (cursor !== wordBegin) words.push(str.slice(wordBegin, cursor))\n      break\n    }\n\n    const isWordEnd = /\\s/.test(char)\n    if (isWordEnd) {\n      if (cursor !== wordBegin) words.push(str.slice(wordBegin, cursor))\n      wordBegin = cursor + 1\n      cursor++\n      continue\n    }\n\n    const isQuoteStart = char === '\\'' || char === '\"'\n    if (isQuoteStart) {\n      quote = char\n      cursor++\n      continue\n    }\n\n    cursor++\n  }\n  jumpPosition(state, cursor)\n\n  const type = 'attribute'\n  for (let i = 0; i < words.length; i++) {\n    const word = words[i]\n\n    const isNotPair = word.indexOf('=') === -1\n    if (isNotPair) {\n      const secondWord = words[i + 1]\n      if (secondWord && startsWith(secondWord, '=')) {\n        if (secondWord.length > 1) {\n          const newWord = word + secondWord\n          tokens.push({ type, content: newWord })\n          i += 1\n          continue\n        }\n        const thirdWord = words[i + 2]\n        i += 1\n        if (thirdWord) {\n          const newWord = word + '=' + thirdWord\n          tokens.push({ type, content: newWord })\n          i += 1\n          continue\n        }\n      }\n    }\n    if (endsWith(word, '=')) {\n      const secondWord = words[i + 1]\n      if (secondWord && secondWord.indexOf('=') === -1) {\n        const newWord = word + secondWord\n        tokens.push({ type, content: newWord })\n        i += 1\n        continue\n      }\n\n      const newWord = word.slice(0, -1)\n      tokens.push({ type, content: newWord })\n      continue\n    }\n\n    tokens.push({ type, content: word })\n  }\n}\n\nconst lexSkipTag = (tagName: string, state: State) => {\n  const { str, tokens } = state\n  const safeTagName = tagName.toLowerCase()\n  const len = str.length\n  let index = state.position\n  \n  while (index < len) {\n    const nextTag = str.indexOf('</', index)\n    if (nextTag === -1) {\n      lexText(state)\n      break\n    }\n\n    const tagState = {\n      str,\n      position: state.position,\n      tokens: [],\n    }\n    jumpPosition(tagState, nextTag)\n    const name = lexTag(tagState)\n    if (safeTagName !== name.toLowerCase()) {\n      index = tagState.position\n      continue\n    }\n\n    if (nextTag !== state.position) {\n      const textStart = state.position\n      jumpPosition(state, nextTag)\n      tokens.push({\n        type: 'text',\n        content: str.slice(textStart, nextTag),\n      })\n    }\n\n    tokens.push(...tagState.tokens)\n    jumpPosition(state, tagState.position)\n    break\n  }\n}\n\nconst lexTag = (state: State) => {\n  const { str } = state\n  const secondChar = str.charAt(state.position + 1)\n  const tagStartClose = secondChar === '/'\n  movePositopn(state, tagStartClose ? 2 : 1)\n  state.tokens.push({\n    type: 'tag-start',\n    close: tagStartClose,\n  })\n\n  const tagName = lexTagName(state)\n  lexTagAttributes(state)\n\n  const firstChar = str.charAt(state.position)\n  const tagEndClose = firstChar === '/'\n  movePositopn(state, tagEndClose ? 2 : 1)\n  state.tokens.push({\n    type: 'tag-end',\n    close: tagEndClose,\n  })\n  return tagName\n}\n\nconst lex = (state: State) => {\n  const str = state.str\n  const len = str.length\n\n  while (state.position < len) {\n    const start = state.position\n    lexText(state)\n\n    if (state.position === start) {\n      const isComment = startsWith(str, '!--', start + 1)\n      if (isComment) lexComment(state)\n      else {\n        const tagName = lexTag(state)\n        const safeTag = tagName.toLowerCase()\n        if (childlessTags.includes(safeTag)) lexSkipTag(tagName, state)\n      }\n    }\n  }\n}\n\nexport const lexer = (str: string): Token[] => {\n  const state = {\n    str,\n    position: 0,\n    tokens: [],\n  }\n  lex(state)\n  return state.tokens\n}","import { Token, HTMLNode, TagToken, NormalElement, TagEndToken, AttributeToken, TextToken } from './types'\nimport { closingTags, closingTagAncestorBreakers, voidTags } from './tags'\n\ninterface StackItem {\n  tagName: string | null\n  children: HTMLNode[]\n}\n\ninterface State {\n  stack: StackItem[]\n  cursor: number\n  tokens: Token[]\n}\n\nexport const parser = (tokens: Token[]) => {\n  const root: StackItem = { tagName: null, children: [] }\n  const state: State = { tokens, cursor: 0, stack: [root] }\n  parse(state)\n  return root.children\n}\n\nexport const hasTerminalParent = (tagName: string, stack: StackItem[]) => {\n  const tagParents = closingTagAncestorBreakers[tagName]\n  if (tagParents) {\n    let currentIndex = stack.length - 1\n    while (currentIndex >= 0) {\n      const parentTagName = stack[currentIndex].tagName\n      if (parentTagName === tagName) break\n      if (parentTagName && tagParents.includes(parentTagName)) return true\n      currentIndex--\n    }\n  }\n  return false\n}\n\nexport const rewindStack = (stack: StackItem[], newLength: number) => {\n  stack.splice(newLength)\n}\n\nexport const parse = (state: State) => {\n  const { stack, tokens } = state\n  let { cursor } = state\n  let nodes = stack[stack.length - 1].children\n  const len = tokens.length\n  \n  while (cursor < len) {\n    const token = tokens[cursor]\n    if (token.type !== 'tag-start') {\n      nodes.push(token as TextToken)\n      cursor++\n      continue\n    }\n\n    const tagToken = tokens[++cursor] as TagToken\n    cursor++\n    const tagName = tagToken.content.toLowerCase()\n    if (token.close) {\n      let index = stack.length\n      let shouldRewind = false\n      while (--index > -1) {\n        if (stack[index].tagName === tagName) {\n          shouldRewind = true\n          break\n        }\n      }\n      while (cursor < len) {\n        if (tokens[cursor].type !== 'tag-end') break\n        cursor++\n      }\n      if (shouldRewind) {\n        rewindStack(stack, index)\n        break\n      } \n      else continue\n    }\n\n    const isClosingTag = closingTags.includes(tagName)\n    let shouldRewindToAutoClose = isClosingTag\n    if (shouldRewindToAutoClose) {\n      shouldRewindToAutoClose = !hasTerminalParent(tagName, stack)\n    }\n\n    if (shouldRewindToAutoClose) {\n      let currentIndex = stack.length - 1\n      while (currentIndex > 0) {\n        if (tagName === stack[currentIndex].tagName) {\n          rewindStack(stack, currentIndex)\n          const previousIndex = currentIndex - 1\n          nodes = stack[previousIndex].children\n          break\n        }\n        currentIndex = currentIndex - 1\n      }\n    }\n\n    const attributes = []\n    let tagEndToken: TagEndToken | undefined\n    while (cursor < len) {\n      const _token = tokens[cursor]\n      if (_token.type === 'tag-end') {\n        tagEndToken = _token\n        break\n      }\n      attributes.push((_token as AttributeToken).content)\n      cursor++\n    }\n\n    if (!tagEndToken) break\n\n    cursor++\n    const children: HTMLNode[] = []\n    const elementNode: NormalElement = {\n      type: 'element',\n      tagName: tagToken.content,\n      attributes,\n      children,\n    }\n    nodes.push(elementNode)\n\n    const hasChildren = !(tagEndToken.close || voidTags.includes(tagName))\n    if (hasChildren) {\n      stack.push({tagName, children})\n      const innerState = { tokens, cursor, stack }\n      parse(innerState)\n      cursor = innerState.cursor\n    }\n  }\n  state.cursor = cursor\n}","import { HTMLNode, CommentOrTextAST, ElementAST, AST } from './types'\n\nexport const splitHead = (str: string, sep: string) => {\n  const idx = str.indexOf(sep)\n  if (idx === -1) return [str]\n  return [str.slice(0, idx), str.slice(idx + sep.length)]\n}\n\nconst unquote = (str: string) => {\n  const car = str.charAt(0)\n  const end = str.length - 1\n  const isQuoteStart = car === '\"' || car === \"'\"\n  if (isQuoteStart && car === str.charAt(end)) {\n    return str.slice(1, end)\n  }\n  return str\n}\n\nconst formatAttributes = (attributes: string[]) => {\n  return attributes.map(attribute => {\n    const parts = splitHead(attribute.trim(), '=')\n    const key = parts[0]\n    const value = typeof parts[1] === 'string' ? unquote(parts[1]) : null\n    return { key, value }\n  })\n}\n\nexport const format = (nodes: HTMLNode[]): AST[] => {\n  return nodes.map(node => {   \n    if (node.type === 'element') {\n      const children = format(node.children)\n      const item: ElementAST = {\n        type: 'element',\n        tagName: node.tagName.toLowerCase(),\n        attributes: formatAttributes(node.attributes),\n        children,\n      }\n      return item\n    }\n\n    const item: CommentOrTextAST = {\n      type: node.type,\n      content: node.content,\n    }\n    return item\n  })\n}","// 参考：https://github.com/andrejewski/himalaya 用TypeScript重写并简化部分功能\n\nimport { lexer } from './lexer'\nimport { parser } from './parser'\nimport { format } from './format'\nimport { toHTML } from './stringify'\nimport type { AST } from './types'\n\nexport const toAST = (str: string) => {\n  const tokens = lexer(str)\n  const nodes = parser(tokens)\n  return format(nodes)\n}\n\nexport { toHTML, AST }","import { SVGPathData } from 'svg-pathdata'\nimport arcToBezier from 'svg-arc-to-cubic-bezier'\n\nconst typeMap = {\n  1: 'Z',\n  2: 'M',\n  4: 'H',\n  8: 'V',\n  16: 'L',\n  32: 'C',\n  64: 'S',\n  128: 'Q',\n  256: 'T',\n  512: 'A',\n}\n\n/**\n * 简单解析SVG路径\n * @param d SVG path d属性\n */\nexport const parseSvgPath = (d: string) => {\n  const pathData = new SVGPathData(d)\n\n  const ret = pathData.commands.map(item => {\n    return { ...item, type: typeMap[item.type] }\n  })\n  return ret\n}\n\nexport type SvgPath = ReturnType<typeof parseSvgPath>\n\n/**\n * 解析SVG路径，并将圆弧（A）类型的路径转为三次贝塞尔（C）类型的路径\n * @param d SVG path d属性\n */\nexport const toPoints = (d: string) => {\n  const pathData = new SVGPathData(d)\n  \n  const points = []\n  for (const item of pathData.commands) {\n    const type = typeMap[item.type]\n\n    if (item.type === 2 || item.type === 16) {\n      points.push({\n        x: item.x,\n        y: item.y,\n        relative: item.relative,\n        type,\n      })\n    }\n    if (item.type === 32) {\n      points.push({\n        x: item.x, \n        y: item.y,\n        curve: {\n          type: 'cubic',\n          x1: item.x1,\n          y1: item.y1,\n          x2: item.x2,\n          y2: item.y2,\n        },\n        relative: item.relative,\n        type,\n      })\n    }\n    else if (item.type === 128) {\n      points.push({\n        x: item.x, \n        y: item.y,\n        curve: {\n          type: 'quadratic',\n          x1: item.x1,\n          y1: item.y1,\n        },\n        relative: item.relative,\n        type,\n      })\n    }\n    else if (item.type === 512) {\n      const lastPoint = points[points.length - 1]\n      if (!['M', 'L', 'Q', 'C'].includes(lastPoint.type)) continue\n\n      const cubicBezierPoints = arcToBezier({\n        px: lastPoint.x as number,\n        py: lastPoint.y as number,\n        cx: item.x,\n        cy: item.y,\n        rx: item.rX,\n        ry: item.rY,\n        xAxisRotation: item.xRot,\n        largeArcFlag: item.lArcFlag,\n        sweepFlag: item.sweepFlag,\n      })\n      for (const cbPoint of cubicBezierPoints) {\n        points.push({\n          x: cbPoint.x, \n          y: cbPoint.y,\n          curve: {\n            type: 'cubic',\n            x1: cbPoint.x1,\n            y1: cbPoint.y1,\n            x2: cbPoint.x2,\n            y2: cbPoint.y2,\n          },\n          relative: false,\n          type: 'C',\n        })\n      }\n    }\n    else if (item.type === 1) {\n      points.push({ close: true, type })\n    }\n    else continue\n  }\n  return points\n}\n\nexport type SvgPoints = ReturnType<typeof toPoints>","// svg转base64图片，参考：https://github.com/scriptex/svg64\n\nconst characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\nconst PREFIX = 'data:image/svg+xml;base64,'\n\nconst utf8Encode = (string: string) => {\n  string = string.replace(/\\r\\n/g, '\\n')\n  let utftext = ''\n\n  for (let n = 0; n < string.length; n++) {\n    const c = string.charCodeAt(n)\n\n    if (c < 128) {\n      utftext += String.fromCharCode(c)\n    }\n    else if (c > 127 && c < 2048) {\n      utftext += String.fromCharCode((c >> 6) | 192)\n      utftext += String.fromCharCode((c & 63) | 128)\n    }\n    else {\n      utftext += String.fromCharCode((c >> 12) | 224)\n      utftext += String.fromCharCode(((c >> 6) & 63) | 128)\n      utftext += String.fromCharCode((c & 63) | 128)\n    }\n  }\n\n  return utftext\n}\n\nconst encode = (input: string) => {\n  let output = ''\n  let chr1, chr2, chr3, enc1, enc2, enc3, enc4\n  let i = 0\n  input = utf8Encode(input)\n  while (i < input.length) {\n    chr1 = input.charCodeAt(i++)\n    chr2 = input.charCodeAt(i++)\n    chr3 = input.charCodeAt(i++)\n    enc1 = chr1 >> 2\n    enc2 = ((chr1 & 3) << 4) | (chr2 >> 4)\n    enc3 = ((chr2 & 15) << 2) | (chr3 >> 6)\n    enc4 = chr3 & 63\n    if (isNaN(chr2)) enc3 = enc4 = 64\n    else if (isNaN(chr3)) enc4 = 64\n    output = output + characters.charAt(enc1) + characters.charAt(enc2) + characters.charAt(enc3) + characters.charAt(enc4)\n  }\n  return output\n}\n\nexport const svg2Base64 = (element: Element) => {\n  const XMLS = new XMLSerializer()\n  const svg = XMLS.serializeToString(element)\n\n  return PREFIX + encode(svg)\n}","import { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { trim } from 'lodash'\nimport { saveAs } from 'file-saver'\nimport pptxgen from 'pptxgenjs'\nimport tinycolor from 'tinycolor2'\nimport { toPng, toJpeg } from 'html-to-image'\nimport { useSlidesStore } from '@/store'\nimport { PPTElementOutline, PPTElementShadow, PPTElementLink, Slide } from '@/types/slides'\nimport { getElementRange, getLineElementPath, getTableSubThemeColor } from '@/utils/element'\nimport { AST, toAST } from '@/utils/htmlParser'\nimport { SvgPoints, toPoints } from '@/utils/svgPathParser'\nimport { encrypt } from '@/utils/crypto'\nimport { svg2Base64 } from '@/utils/svg2Base64'\nimport { message } from 'ant-design-vue'\n\nconst INCH_PX_RATIO = 100\nconst PT_PX_RATIO = 0.75\n\ninterface ExportImageConfig {\n  quality: number\n  width: number\n  fontEmbedCSS?: string\n}\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { slides, theme, viewportRatio } = storeToRefs(slidesStore)\n\n  const exporting = ref(false)\n\n  // 导出图片\n  const exportImage = (domRef: HTMLElement, format: string, quality: number, ignoreWebfont = true) => {\n    exporting.value = true\n    const toImage = format === 'png' ? toPng : toJpeg\n\n    const foreignObjectSpans = domRef.querySelectorAll('foreignObject [xmlns]')\n    foreignObjectSpans.forEach(spanRef => spanRef.removeAttribute('xmlns'))\n\n    setTimeout(() => {\n      const config: ExportImageConfig = {\n        quality,\n        width: 1600,\n      }\n\n      if (ignoreWebfont) config.fontEmbedCSS = ''\n\n      toImage(domRef, config).then(dataUrl => {\n        exporting.value = false\n        saveAs(dataUrl, `pptist_slides.${format}`)\n      }).catch(() => {\n        exporting.value = false\n        message.error('导出图片失败')\n      })\n    }, 200)\n  }\n  \n  // 导出pptist文件（特有 .super-ppt 后缀文件）\n  const exportSpecificFile = (_slides: Slide[]) => {\n    const blob = new Blob([encrypt(JSON.stringify(_slides))], { type: '' })\n    saveAs(blob, 'pptist_slides.super-ppt')\n  }\n  \n  // 导出JSON文件\n  const exportJSON = () => {\n    const blob = new Blob([JSON.stringify(slides.value)], { type: '' })\n    saveAs(blob, 'pptist_slides.json')\n  }\n\n  // 格式化颜色值为 透明度 + HexString，供pptxgenjs使用\n  const formatColor = (_color: string) => {\n    const c = tinycolor(_color)\n    const alpha = c.getAlpha()\n    const color = alpha === 0 ? '#ffffff' : c.setAlpha(1).toHexString()\n    return {\n      alpha,\n      color,\n    }\n  }\n\n  type FormatColor = ReturnType<typeof formatColor>\n\n  // 将HTML字符串格式化为pptxgenjs所需的格式\n  // 核心思路：将HTML字符串按样式分片平铺，每个片段需要继承祖先元素的样式信息，遇到块级元素需要换行\n  const formatHTML = (html: string) => {\n    const ast = toAST(html)\n    let bulletFlag = false\n    let indent = 0\n\n    const slices: pptxgen.TextProps[] = []\n    const parse = (obj: AST[], baseStyleObj: { [key: string]: string } = {}) => {\n\n      for (const item of obj) {\n        const isBlockTag = 'tagName' in item && ['div', 'li', 'p'].includes(item.tagName)\n\n        if (isBlockTag && slices.length) {\n          const lastSlice = slices[slices.length - 1]\n          if (!lastSlice.options) lastSlice.options = {}\n          lastSlice.options.breakLine = true\n        }\n\n        const styleObj = { ...baseStyleObj }\n        const styleAttr = 'attributes' in item ? item.attributes.find(attr => attr.key === 'style') : null\n        if (styleAttr && styleAttr.value) {\n          const styleArr = styleAttr.value.split(';')\n          for (const styleItem of styleArr) {\n            const [_key, _value] = styleItem.split(': ')\n            const [key, value] = [trim(_key), trim(_value)]\n            if (key && value) styleObj[key] = value\n          }\n        }\n\n        if ('tagName' in item) {\n          if (item.tagName === 'em') {\n            styleObj['font-style'] = 'italic'\n          }\n          if (item.tagName === 'strong') {\n            styleObj['font-weight'] = 'bold'\n          }\n          if (item.tagName === 'sup') {\n            styleObj['vertical-align'] = 'super'\n          }\n          if (item.tagName === 'sub') {\n            styleObj['vertical-align'] = 'sub'\n          }\n          if (item.tagName === 'a') {\n            const attr = item.attributes.find(attr => attr.key === 'href')\n            styleObj['href'] = attr?.value || ''\n          }\n          if (item.tagName === 'ul') {\n            styleObj['list-type'] = 'ul'\n          }\n          if (item.tagName === 'ol') {\n            styleObj['list-type'] = 'ol'\n          }\n          if (item.tagName === 'li') {\n            bulletFlag = true\n          }\n          if (item.tagName === 'p') {\n            if ('attributes' in item) {\n              const dataIndentAttr = item.attributes.find(attr => attr.key === 'data-indent')\n              if (dataIndentAttr && dataIndentAttr.value) indent = +dataIndentAttr.value\n            }\n          }\n        }\n\n        if ('tagName' in item && item.tagName === 'br') {\n          slices.push({ text: '', options: { breakLine: true } })\n        }\n        else if ('content' in item) {\n          const text = item.content.replace(/&nbsp;/g, ' ').replace(/&gt;/g, '>').replace(/&lt;/g, '<').replace(/&amp;/g, '&').replace(/\\n/g, '')\n          const options: pptxgen.TextPropsOptions = {}\n\n          if (styleObj['font-size']) {\n            options.fontSize = parseInt(styleObj['font-size']) * PT_PX_RATIO\n          }\n          if (styleObj['color']) {\n            options.color = formatColor(styleObj['color']).color\n          }\n          if (styleObj['background-color']) {\n            options.highlight = formatColor(styleObj['background-color']).color\n          }\n          if (styleObj['text-decoration-line']) {\n            if (styleObj['text-decoration-line'].indexOf('underline') !== -1) {\n              options.underline = {\n                color: options.color || '#000000',\n                style: 'sng',\n              }\n            }\n            if (styleObj['text-decoration-line'].indexOf('line-through') !== -1) {\n              options.strike = 'sngStrike'\n            }\n          }\n          if (styleObj['text-decoration']) {\n            if (styleObj['text-decoration'].indexOf('underline') !== -1) {\n              options.underline = {\n                color: options.color || '#000000',\n                style: 'sng',\n              }\n            }\n            if (styleObj['text-decoration'].indexOf('line-through') !== -1) {\n              options.strike = 'sngStrike'\n            }\n          }\n          if (styleObj['vertical-align']) {\n            if (styleObj['vertical-align'] === 'super') options.superscript = true\n            if (styleObj['vertical-align'] === 'sub') options.subscript = true\n          }\n          if (styleObj['text-align']) options.align = styleObj['text-align'] as pptxgen.HAlign\n          if (styleObj['font-weight']) options.bold = styleObj['font-weight'] === 'bold'\n          if (styleObj['font-style']) options.italic = styleObj['font-style'] === 'italic'\n          if (styleObj['font-family']) options.fontFace = styleObj['font-family']\n          if (styleObj['href']) options.hyperlink = { url: styleObj['href'] }\n\n          if (bulletFlag && styleObj['list-type'] === 'ol') {\n            options.bullet = { type: 'number', indent: 20 * PT_PX_RATIO }\n            options.paraSpaceBefore = 0.1\n            bulletFlag = false\n          }\n          if (bulletFlag && styleObj['list-type'] === 'ul') {\n            options.bullet = { indent: 20 * PT_PX_RATIO }\n            options.paraSpaceBefore = 0.1\n            bulletFlag = false\n          }\n          if (indent) {\n            options.indentLevel = indent\n            indent = 0\n          }\n\n          slices.push({ text, options })\n        }\n        else if ('children' in item) parse(item.children, styleObj)\n      }\n    }\n    parse(ast)\n    return slices\n  }\n\n  type Points = Array<\n    | { x: number; y: number; moveTo?: boolean }\n    | { x: number; y: number; curve: { type: 'arc'; hR: number; wR: number; stAng: number; swAng: number } }\n    | { x: number; y: number; curve: { type: 'quadratic'; x1: number; y1: number } }\n    | { x: number; y: number; curve: { type: 'cubic'; x1: number; y1: number; x2: number; y2: number } }\n    | { close: true }\n  >\n\n  // 将SVG路径信息格式化为pptxgenjs所需要的格式\n  const formatPoints = (points: SvgPoints, scale = { x: 1, y: 1 }): Points => {\n    return points.map(point => {\n      if (point.close !== undefined) {\n        return { close: true }\n      }\n      else if (point.type === 'M') {\n        return {\n          x: point.x / INCH_PX_RATIO * scale.x,\n          y: point.y / INCH_PX_RATIO * scale.y,\n          moveTo: true,\n        }\n      }\n      else if (point.curve) {\n        if (point.curve.type === 'cubic') {\n          return {\n            x: point.x / INCH_PX_RATIO * scale.x,\n            y: point.y / INCH_PX_RATIO * scale.y,\n            curve: {\n              type: 'cubic',\n              x1: (point.curve.x1 as number) / INCH_PX_RATIO * scale.x,\n              y1: (point.curve.y1 as number) / INCH_PX_RATIO * scale.y,\n              x2: (point.curve.x2 as number) / INCH_PX_RATIO * scale.x,\n              y2: (point.curve.y2 as number) / INCH_PX_RATIO * scale.y,\n            },\n          }\n        }\n        else if (point.curve.type === 'quadratic') {\n          return {\n            x: point.x / INCH_PX_RATIO * scale.x,\n            y: point.y / INCH_PX_RATIO * scale.y,\n            curve: {\n              type: 'quadratic',\n              x1: (point.curve.x1 as number) / INCH_PX_RATIO * scale.x,\n              y1: (point.curve.y1 as number) / INCH_PX_RATIO * scale.y,\n            },\n          }\n        }\n      }\n      return {\n        x: point.x / INCH_PX_RATIO * scale.x,\n        y: point.y / INCH_PX_RATIO * scale.y,\n      }\n    })\n  }\n\n  // 获取阴影配置\n  const getShadowOption = (shadow: PPTElementShadow): pptxgen.ShadowProps => {\n    const c = formatColor(shadow.color)\n    const { h, v } = shadow\n\n    let offset = 4\n    let angle = 45\n\n    if (h === 0 && v === 0) {\n      offset = 4\n      angle = 45\n    }\n    else if (h === 0) {\n      if (v > 0) {\n        offset = v\n        angle = 90\n      }\n      else {\n        offset = -v\n        angle = 270\n      }\n    }\n    else if (v === 0) {\n      if (h > 0) {\n        offset = h\n        angle = 1\n      }\n      else {\n        offset = -h\n        angle = 180\n      }\n    }\n    else if (h > 0 && v > 0) {\n      offset = Math.max(h, v)\n      angle = 45\n    }\n    else if (h > 0 && v < 0) {\n      offset = Math.max(h, -v)\n      angle = 315\n    }\n    else if (h < 0 && v > 0) {\n      offset = Math.max(-h, v)\n      angle = 135\n    }\n    else if (h < 0 && v < 0) {\n      offset = Math.max(-h, -v)\n      angle = 225\n    }\n\n    return {\n      type: 'outer',\n      color: c.color.replace('#', ''),\n      opacity: c.alpha,\n      blur: shadow.blur * PT_PX_RATIO,\n      offset,\n      angle,\n    }\n  }\n\n  // 获取边框配置\n  const getOutlineOption = (outline: PPTElementOutline): pptxgen.ShapeLineProps => {\n    const c = formatColor(outline?.color || '#000000')\n    return {\n      color: c.color, \n      transparency: (1 - c.alpha) * 100,\n      width: (outline.width || 1) * PT_PX_RATIO, \n      dashType: outline.style === 'solid' ? 'solid' : 'dash',\n    }\n  }\n\n  // 获取超链接配置\n  const getLinkOption = (link: PPTElementLink): pptxgen.HyperlinkProps | null => {\n    const { type, target } = link\n    if (type === 'web') return { url: target }\n    if (type === 'slide') {\n      const index = slides.value.findIndex(slide => slide.id === target)\n      if (index !== -1) return { slide: index + 1 }\n    }\n\n    return null\n  }\n\n  // 导出PPTX文件\n  const exportPPTX = (_slides: Slide[], masterOverwrite: boolean) => {\n    exporting.value = true\n    const pptx = new pptxgen()\n\n    if (viewportRatio.value === 0.625) pptx.layout = 'LAYOUT_16x10'\n    else if (viewportRatio.value === 0.75) pptx.layout = 'LAYOUT_4x3'\n    else if (viewportRatio.value === 0.70710678) {\n      pptx.defineLayout({ name: 'A3', width: 10, height: 7.0710678 })\n      pptx.layout = 'A3'\n    }\n    else pptx.layout = 'LAYOUT_16x9'\n\n    if (masterOverwrite) {\n      const { color: bgColor, alpha: bgAlpha } = formatColor(theme.value.backgroundColor)\n      pptx.defineSlideMaster({\n        title: 'PPTIST_MASTER',\n        background: { color: bgColor, transparency: (1 - bgAlpha) * 100 },\n      })\n    }\n\n    for (const slide of _slides) {\n      const pptxSlide = pptx.addSlide()\n\n      if (slide.background) {\n        const background = slide.background\n        if (background.type === 'image' && background.image) {\n          pptxSlide.background = { data: background.image }\n        }\n        else if (background.type === 'solid' && background.color) {\n          const c = formatColor(background.color)\n          pptxSlide.background = { color: c.color, transparency: (1 - c.alpha) * 100 }\n        }\n        else if (background.type === 'gradient' && background.gradientColor) {\n          const [color1, color2] = background.gradientColor\n          const color = tinycolor.mix(color1, color2).toHexString()\n          const c = formatColor(color)\n          pptxSlide.background = { color: c.color, transparency: (1 - c.alpha) * 100 }\n        }\n      }\n      if (slide.remark) pptxSlide.addNotes(slide.remark)\n\n      if (!slide.elements) continue\n\n      for (const el of slide.elements) {\n        if (el.type === 'text') {\n          const textProps = formatHTML(el.content)\n\n          const options: pptxgen.TextPropsOptions = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n            fontSize: 20 * PT_PX_RATIO,\n            fontFace: 'Microsoft Yahei',\n            color: '#000000',\n            valign: 'top',\n            margin: 10 * PT_PX_RATIO,\n            paraSpaceBefore: 5 * PT_PX_RATIO,\n            lineSpacingMultiple: 1.5 / 1.25,\n            autoFit: true,\n          }\n          if (el.rotate) options.rotate = el.rotate\n          if (el.wordSpace) options.charSpacing = el.wordSpace * PT_PX_RATIO\n          if (el.lineHeight) options.lineSpacingMultiple = el.lineHeight / 1.25\n          if (el.fill) {\n            const c = formatColor(el.fill)\n            const opacity = el.opacity === undefined ? 1 : el.opacity\n            options.fill = { color: c.color, transparency: (1 - c.alpha * opacity) * 100 }\n          }\n          if (el.defaultColor) options.color = formatColor(el.defaultColor).color\n          if (el.defaultFontName) options.fontFace = el.defaultFontName\n          if (el.shadow) options.shadow = getShadowOption(el.shadow)\n          if (el.outline?.width) options.line = getOutlineOption(el.outline)\n          if (el.opacity !== undefined) options.transparency = (1 - el.opacity) * 100\n          if (el.paragraphSpace !== undefined) options.paraSpaceBefore = el.paragraphSpace * PT_PX_RATIO\n          if (el.vertical) options.vert = 'eaVert'\n\n          pptxSlide.addText(textProps, options)\n        }\n\n        else if (el.type === 'image') {\n          const options: pptxgen.ImageProps = {\n            path: el.src,\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n          }\n          if (el.flipH) options.flipH = el.flipH\n          if (el.flipV) options.flipV = el.flipV\n          if (el.rotate) options.rotate = el.rotate\n          if (el.link) {\n            const linkOption = getLinkOption(el.link)\n            if (linkOption) options.hyperlink = linkOption\n          }\n          if (el.filters?.opacity) options.transparency = 100 - parseInt(el.filters?.opacity)\n          if (el.clip) {\n            if (el.clip.shape === 'ellipse') options.rounding = true\n\n            const [start, end] = el.clip.range\n            const [startX, startY] = start\n            const [endX, endY] = end\n\n            const originW = el.width / ((endX - startX) / INCH_PX_RATIO)\n            const originH = el.height / ((endY - startY) / INCH_PX_RATIO)\n\n            options.w = originW / INCH_PX_RATIO\n            options.h = originH / INCH_PX_RATIO\n\n            options.sizing = {\n              type: 'crop',\n              x: startX / INCH_PX_RATIO * originW / INCH_PX_RATIO,\n              y: startY / INCH_PX_RATIO * originH / INCH_PX_RATIO,\n              w: (endX - startX) / INCH_PX_RATIO * originW / INCH_PX_RATIO,\n              h: (endY - startY) / INCH_PX_RATIO * originH / INCH_PX_RATIO,\n            }\n          }\n\n          pptxSlide.addImage(options)\n        }\n\n        else if (el.type === 'shape') {\n          if (el.special) {\n            const svgRef = document.querySelector(`.thumbnail-list .base-element-${el.id} svg`) as HTMLElement\n            const base64SVG = svg2Base64(svgRef)\n\n            const options: pptxgen.ImageProps = {\n              data: base64SVG,\n              x: el.left / INCH_PX_RATIO,\n              y: el.top / INCH_PX_RATIO,\n              w: el.width / INCH_PX_RATIO,\n              h: el.height / INCH_PX_RATIO,\n            }\n            if (el.rotate) options.rotate = el.rotate\n            if (el.link) {\n              const linkOption = getLinkOption(el.link)\n              if (linkOption) options.hyperlink = linkOption\n            }\n\n            pptxSlide.addImage(options)\n          }\n          else {\n            const scale = {\n              x: el.width / el.viewBox[0],\n              y: el.height / el.viewBox[1],\n            }\n            const points = formatPoints(toPoints(el.path), scale)\n  \n            const fillColor = formatColor(el.fill)\n            const opacity = el.opacity === undefined ? 1 : el.opacity\n  \n            const options: pptxgen.ShapeProps = {\n              x: el.left / INCH_PX_RATIO,\n              y: el.top / INCH_PX_RATIO,\n              w: el.width / INCH_PX_RATIO,\n              h: el.height / INCH_PX_RATIO,\n              fill: { color: fillColor.color, transparency: (1 - fillColor.alpha * opacity) * 100 },\n              points,\n            }\n            if (el.flipH) options.flipH = el.flipH\n            if (el.flipV) options.flipV = el.flipV\n            if (el.shadow) options.shadow = getShadowOption(el.shadow)\n            if (el.outline?.width) options.line = getOutlineOption(el.outline)\n            if (el.rotate) options.rotate = el.rotate\n            if (el.link) {\n              const linkOption = getLinkOption(el.link)\n              if (linkOption) options.hyperlink = linkOption\n            }\n\n            pptxSlide.addShape('custGeom' as pptxgen.ShapeType, options)\n          }\n          if (el.text) {\n            const textProps = formatHTML(el.text.content)\n\n            const options: pptxgen.TextPropsOptions = {\n              x: el.left / INCH_PX_RATIO,\n              y: el.top / INCH_PX_RATIO,\n              w: el.width / INCH_PX_RATIO,\n              h: el.height / INCH_PX_RATIO,\n              fontSize: 20 * PT_PX_RATIO,\n              fontFace: 'Microsoft Yahei',\n              color: '#000000',\n              paraSpaceBefore: 5 * PT_PX_RATIO,\n              valign: el.text.align,\n            }\n            if (el.rotate) options.rotate = el.rotate\n            if (el.text.defaultColor) options.color = formatColor(el.text.defaultColor).color\n            if (el.text.defaultFontName) options.fontFace = el.text.defaultFontName\n\n            pptxSlide.addText(textProps, options)\n          }\n        }\n\n        else if (el.type === 'line') {\n          const path = getLineElementPath(el)\n          const points = formatPoints(toPoints(path))\n          const { minX, maxX, minY, maxY } = getElementRange(el)\n          const c = formatColor(el.color)\n\n          const options: pptxgen.ShapeProps = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: (maxX - minX) / INCH_PX_RATIO,\n            h: (maxY - minY) / INCH_PX_RATIO,\n            line: {\n              color: c.color, \n              transparency: (1 - c.alpha) * 100,\n              width: el.width * PT_PX_RATIO, \n              dashType: el.style === 'solid' ? 'solid' : 'dash',\n              beginArrowType: el.points[0] ? 'arrow' : 'none',\n              endArrowType: el.points[1] ? 'arrow' : 'none',\n            },\n            points,\n          }\n          if (el.shadow) options.shadow = getShadowOption(el.shadow)\n\n          pptxSlide.addShape('custGeom' as pptxgen.ShapeType, options)\n        }\n\n        else if (el.type === 'chart') {\n          const chartData = []\n          for (let i = 0; i < el.data.series.length; i++) {\n            const item = el.data.series[i]\n            chartData.push({\n              name: `series${i + 1}`,\n              labels: el.data.labels,\n              values: item,\n            })\n          }\n\n          let chartColors: string[] = []\n          if (el.themeColor.length === 10) chartColors = el.themeColor.map(color => formatColor(color).color)\n          else if (el.themeColor.length === 1) chartColors = tinycolor(el.themeColor[0]).analogous(10).map(color => formatColor(color.toHexString()).color)\n          else {\n            const len = el.themeColor.length\n            const supplement = tinycolor(el.themeColor[len - 1]).analogous(10 + 1 - len).map(color => color.toHexString())\n            chartColors = [...el.themeColor.slice(0, len - 1), ...supplement].map(color => formatColor(color).color)\n          }\n          \n          const options: pptxgen.IChartOpts = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n            chartColors: el.chartType === 'pie' ? chartColors : chartColors.slice(0, el.data.series.length),\n          }\n\n          if (el.fill) options.plotArea = { fill: { color: formatColor(el.fill).color } }\n          if (el.legend) {\n            options.showLegend = true\n            options.legendPos = el.legend === 'top' ? 't' : 'b'\n            options.legendColor = formatColor(el.gridColor || '#000000').color\n            options.legendFontSize = 14 * PT_PX_RATIO\n          }\n\n          let type = pptx.ChartType.bar\n          if (el.chartType === 'bar') {\n            type = pptx.ChartType.bar\n            options.barDir = el.options?.horizontalBars ? 'bar' : 'col'\n          }\n          else if (el.chartType === 'line') {\n            if (el.options?.showArea) type = pptx.ChartType.area\n            else if (el.options?.showLine === false) {\n              type = pptx.ChartType.scatter\n\n              chartData.unshift({ name: 'X-Axis', values: Array(el.data.series[0].length).fill(0).map((v, i) => i) })\n              options.lineSize = 0\n            }\n            else type = pptx.ChartType.line\n\n            if (el.options?.lineSmooth) options.lineSmooth = true\n          }\n          else if (el.chartType === 'pie') {\n            if (el.options?.donut) {\n              type = pptx.ChartType.doughnut\n              options.holeSize = 75\n            }\n            else type = pptx.ChartType.pie\n          }\n          \n          pptxSlide.addChart(type, chartData, options)\n        }\n\n        else if (el.type === 'table') {\n          const hiddenCells = []\n          for (let i = 0; i < el.data.length; i++) {\n            const rowData = el.data[i]\n\n            for (let j = 0; j < rowData.length; j++) {\n              const cell = rowData[j]\n              if (cell.colspan > 1 || cell.rowspan > 1) {\n                for (let row = i; row < i + cell.rowspan; row++) {\n                  for (let col = row === i ? j + 1 : j; col < j + cell.colspan; col++) hiddenCells.push(`${row}_${col}`)\n                }\n              }\n            }\n          }\n\n          const tableData = []\n\n          const theme = el.theme\n          let themeColor: FormatColor | null = null\n          let subThemeColors: FormatColor[] = []\n          if (theme) {\n            themeColor = formatColor(theme.color)\n            subThemeColors = getTableSubThemeColor(theme.color).map(item => formatColor(item))\n          }\n\n          for (let i = 0; i < el.data.length; i++) {\n            const row = el.data[i]\n            const _row = []\n\n            for (let j = 0; j < row.length; j++) {\n              const cell = row[j]\n              const cellOptions: pptxgen.TableCellProps = {\n                colspan: cell.colspan,\n                rowspan: cell.rowspan,\n                bold: cell.style?.bold || false,\n                italic: cell.style?.em || false,\n                underline: { style: cell.style?.underline ? 'sng' : 'none' },\n                align: cell.style?.align || 'left',\n                valign: 'middle',\n                fontFace: cell.style?.fontname || 'Microsoft Yahei',\n                fontSize: (cell.style?.fontsize ? parseInt(cell.style?.fontsize) : 14) * PT_PX_RATIO,\n              }\n              if (theme && themeColor) {\n                let c: FormatColor\n                if (i % 2 === 0) c = subThemeColors[1]\n                else c = subThemeColors[0]\n\n                if (theme.rowHeader && i === 0) c = themeColor\n                else if (theme.rowFooter && i === el.data.length - 1) c = themeColor\n                else if (theme.colHeader && j === 0) c = themeColor\n                else if (theme.colFooter && j === row.length - 1) c = themeColor\n\n                cellOptions.fill = { color: c.color, transparency: (1 - c.alpha) * 100 }\n              }\n              if (cell.style?.backcolor) {\n                const c = formatColor(cell.style.backcolor)\n                cellOptions.fill = { color: c.color, transparency: (1 - c.alpha) * 100 }\n              }\n              if (cell.style?.color) cellOptions.color = formatColor(cell.style.color).color\n\n              if (!hiddenCells.includes(`${i}_${j}`)) {\n                _row.push({\n                  text: cell.text,\n                  options: cellOptions,\n                })\n              }\n            }\n            if (_row.length) tableData.push(_row)\n          }\n\n          const options: pptxgen.TableProps = {\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n            colW: el.colWidths.map(item => el.width * item / INCH_PX_RATIO),\n          }\n          if (el.theme) options.fill = { color: '#ffffff' }\n          if (el.outline.width && el.outline.color) {\n            options.border = {\n              type: el.outline.style === 'solid' ? 'solid' : 'dash',\n              pt: el.outline.width * PT_PX_RATIO,\n              color: formatColor(el.outline.color).color,\n            }\n          }\n\n          pptxSlide.addTable(tableData, options)\n        }\n        \n        else if (el.type === 'latex') {\n          const svgRef = document.querySelector(`.thumbnail-list .base-element-${el.id} svg`) as HTMLElement\n          const base64SVG = svg2Base64(svgRef)\n\n          const options: pptxgen.ImageProps = {\n            data: base64SVG,\n            x: el.left / INCH_PX_RATIO,\n            y: el.top / INCH_PX_RATIO,\n            w: el.width / INCH_PX_RATIO,\n            h: el.height / INCH_PX_RATIO,\n          }\n          if (el.link) {\n            const linkOption = getLinkOption(el.link)\n            if (linkOption) options.hyperlink = linkOption\n          }\n\n          pptxSlide.addImage(options)\n        }\n      }\n    }\n\n    setTimeout(() => {\n      pptx.writeFile({ fileName: `super-ppt.pptx` }).then(() => exporting.value = false).catch(() => {\n        exporting.value = false\n        message.error('export failed')\n      })\n    }, 200)\n  }\n\n  return {\n    exporting,\n    exportImage,\n    exportJSON,\n    exportSpecificFile,\n    exportPPTX,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-92a8f63e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-img-dialog\" }\nconst _hoisted_2 = { class: \"thumbnails-view\" }\nconst _hoisted_3 = { class: \"configs\" }\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"导出格式：\", -1))\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"导出范围：\", -1))\nconst _hoisted_8 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_9 = [\"data-range\"]\nconst _hoisted_10 = { class: \"row\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"图片质量：\", -1))\nconst _hoisted_12 = { class: \"row\" }\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"忽略在线字体：\", -1))\nconst _hoisted_14 = { class: \"config-item\" }\nconst _hoisted_15 = { class: \"btns\" }\n\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport FullscreenSpin from '@/components/FullscreenSpin.vue'\nimport {\n  Button,\n  Tooltip,\n  Slider,\n  Switch,\n  Radio,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExportImage',\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\nconst { Group: RadioGroup, Button: RadioButton } = Radio\n\n\n\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst imageThumbnailsRef = ref<HTMLElement>()\nconst rangeType = ref<'all' | 'current' | 'custom'>('all')\nconst range = ref<[number, number]>([1, slides.value.length])\nconst format = ref<'jpeg' | 'png'>('jpeg')\nconst quality = ref(1)\nconst ignoreWebfont = ref(true)\n\nconst renderSlides = computed(() => {\n  if (rangeType.value === 'all') return slides.value\n  if (rangeType.value === 'current') return [currentSlide.value]\n  return slides.value.filter((item, index) => {\n    const [min, max] = range.value\n    return index >= min - 1 && index <= max - 1\n  })\n})\n\nconst { exportImage, exporting } = useExport()\n\nconst expImage = () => {\n  if (!imageThumbnailsRef.value) return\n  exportImage(imageThumbnailsRef.value, format.value, quality.value, ignoreWebfont.value)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"thumbnails\",\n        ref_key: \"imageThumbnailsRef\",\n        ref: imageThumbnailsRef\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(renderSlides.value, (slide) => {\n          return (_openBlock(), _createBlock(ThumbnailSlide, {\n            class: \"thumbnail\",\n            key: slide.id,\n            slide: slide,\n            size: 1600\n          }, null, 8, [\"slide\"]))\n        }), 128))\n      ], 512)\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _createVNode(_unref(RadioGroup), {\n          class: \"config-item\",\n          value: format.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((format).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"50%\"},\n              value: \"jpeg\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"JPEG\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"50%\"},\n              value: \"png\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"PNG\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _hoisted_7,\n        _createVNode(_unref(RadioGroup), {\n          class: \"config-item\",\n          value: rangeType.value,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((rangeType).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"33.33%\"},\n              value: \"all\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"全部\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"33.33%\"},\n              value: \"current\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"当前页\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"33.33%\"},\n              value: \"custom\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"自定义\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      (rangeType.value === 'custom')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n            _createElementVNode(\"div\", {\n              class: \"title\",\n              \"data-range\": `（${range.value[0]} ~ ${range.value[1]}）`\n            }, \"自定义范围：\", 8, _hoisted_9),\n            _createVNode(_unref(Slider), {\n              class: \"config-item\",\n              range: \"\",\n              min: 1,\n              max: _unref(slides).length,\n              step: 1,\n              value: range.value,\n              \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((range).value = $event))\n            }, null, 8, [\"max\", \"value\"])\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_10, [\n        _hoisted_11,\n        _createVNode(_unref(Slider), {\n          class: \"config-item\",\n          min: 0,\n          max: 1,\n          step: 0.1,\n          value: quality.value,\n          \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((quality).value = $event))\n        }, null, 8, [\"value\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_12, [\n        _hoisted_13,\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createVNode(_unref(Tooltip), {\n            mouseLeaveDelay: 0,\n            mouseEnterDelay: 0.5,\n            title: \"导出时默认忽略在线字体，若您在幻灯片中使用了在线字体，且希望导出后保留相关样式，可选择关闭【忽略在线字体】选项，但要注意这将会增加导出用时。\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Switch), {\n                checked: ignoreWebfont.value,\n                \"onUpdate:checked\": _cache[4] || (_cache[4] = ($event: any) => ((ignoreWebfont).value = $event))\n              }, null, 8, [\"checked\"])\n            ]),\n            _: 1\n          })\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_15, [\n      _createVNode(_unref(Button), {\n        class: \"btn export\",\n        type: \"primary\",\n        onClick: _cache[5] || (_cache[5] = ($event: any) => (expImage()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"导出图片\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Button), {\n        class: \"btn close\",\n        onClick: _cache[6] || (_cache[6] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"关闭\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(FullscreenSpin, {\n      loading: _unref(exporting),\n      tip: \"正在导出...\"\n    }, null, 8, [\"loading\"])\n  ]))\n}\n}\n\n})","import script from \"./ExportImage.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ExportImage.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ExportImage.vue?vue&type=style&index=0&id=92a8f63e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-92a8f63e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0cc0995e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-json-dialog\" }\nconst _hoisted_2 = { class: \"preview\" }\nconst _hoisted_3 = { class: \"btns\" }\n\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\n\nimport { Button } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExportJSON',\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\n\n\nconst { slides } = storeToRefs(useSlidesStore())\nconst { exportJSON } = useExport()\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"pre\", null, _toDisplayString(_unref(slides)), 1)\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_unref(Button), {\n        class: \"btn export\",\n        type: \"primary\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(exportJSON)()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"导出 JSON\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Button), {\n        class: \"btn close\",\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"关闭\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","import script from \"./ExportJSON.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ExportJSON.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ExportJSON.vue?vue&type=style&index=0&id=0cc0995e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0cc0995e\"]])\n\nexport default __exports__","interface PageSize {\n  width: number\n  height: number\n  margin: number\n}\n\nconst createIframe = () => {\n  const iframe = document.createElement('iframe')\n  iframe.style.width = '0'\n  iframe.style.height = '0'\n  iframe.style.position = 'absolute'\n  iframe.style.right = '0'\n  iframe.style.top = '0'\n  iframe.style.border = '0'\n\n  document.body.appendChild(iframe)\n\n  return iframe\n}\n\nconst writeContent = (doc: Document, printNode: HTMLElement, size: PageSize) => {\n  const docType = '<!DOCTYPE html>'\n\n  let style = ''\n  const styleSheets = document.styleSheets\n  if (styleSheets) {\n    for (const styleSheet of styleSheets) {\n      if (!styleSheet.cssRules) continue\n\n      for (const rule of styleSheet.cssRules) {\n        style += rule.cssText\n      }\n    }\n  }\n\n  const { width, height, margin } = size\n  const head = `\n    <head>\n      <style type=\"text/css\">\n        ${style} \n        html, body {\n          height: auto;\n          overflow: auto;\n        }\n        @media print {\n          @page {\n            size: ${width + 2 * margin}px ${height + 2 * margin}px;\n            margin: ${margin}px;\n          }\n        }\n      </style>\n    </head>\n  `\n  const body = '<body>' + printNode.innerHTML + '</body>'\n\n  doc.open()\n  doc.write(`\n    ${docType}\n    <html>\n      ${head}\n      ${body}\n    </html>\n  `)\n  doc.close()\n}\n\nexport const print = (printNode: HTMLElement, size: PageSize) => {\n  const iframe = createIframe()\n  const iframeContentWindow = iframe.contentWindow\n\n  if (!iframe.contentDocument || !iframeContentWindow) return\n  writeContent(iframe.contentDocument, printNode, size)\n\n  const handleLoadIframe = () => {\n    iframeContentWindow.focus()\n    iframeContentWindow.print()\n  }\n\n  const handleAfterprint = () => {\n    iframe.removeEventListener('load', handleLoadIframe)\n    iframeContentWindow.removeEventListener('afterprint', handleAfterprint)\n    document.body.removeChild(iframe)\n  }\n\n  iframe.addEventListener('load', handleLoadIframe)\n  iframeContentWindow.addEventListener('afterprint', handleAfterprint)\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-527855fb\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-pdf-dialog\" }\nconst _hoisted_2 = { class: \"thumbnails-view\" }\nconst _hoisted_3 = { class: \"configs\" }\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"导出范围：\", -1))\nconst _hoisted_6 = { class: \"row\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"每页数量：\", -1))\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"边缘留白：\", -1))\nconst _hoisted_10 = { class: \"config-item\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"tip\" }, \" 注意：若打印预览与实际样式不一致，请在弹出的打印窗口中勾选【背景图形】选项。 \", -1))\nconst _hoisted_12 = { class: \"btns\" }\n\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { print } from '@/utils/print'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport {\n  Button,\n  Select,\n  Switch,\n  Radio,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExportPDF',\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\nconst { Group: RadioGroup, Button: RadioButton } = Radio\nconst SelectOption = Select.Option\n\n\n\nconst { slides, currentSlide, viewportRatio } = storeToRefs(useSlidesStore())\n\nconst pdfThumbnailsRef = ref<HTMLElement>()\nconst rangeType = ref<'all' | 'current'>('all')\nconst count = ref(1)\nconst padding = ref(true)\n\nconst expPDF = () => {\n  if (!pdfThumbnailsRef.value) return\n  const pageSize = {\n    width: 1600,\n    height: rangeType.value === 'all' ? 1600 * viewportRatio.value * count.value : 1600 * viewportRatio.value,\n    margin: padding.value ? 50 : 0,\n  }\n  print(pdfThumbnailsRef.value, pageSize)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"thumbnails\",\n        ref_key: \"pdfThumbnailsRef\",\n        ref: pdfThumbnailsRef\n      }, [\n        (rangeType.value === 'current')\n          ? (_openBlock(), _createBlock(ThumbnailSlide, {\n              key: 0,\n              class: \"thumbnail\",\n              slide: _unref(currentSlide),\n              size: 1600\n            }, null, 8, [\"slide\"]))\n          : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_unref(slides), (slide, index) => {\n              return (_openBlock(), _createBlock(ThumbnailSlide, {\n                class: _normalizeClass([\"thumbnail\", { 'break-page': (index + 1) % count.value === 0 }]),\n                key: slide.id,\n                slide: slide,\n                size: 1600\n              }, null, 8, [\"class\", \"slide\"]))\n            }), 128))\n      ], 512)\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _createVNode(_unref(RadioGroup), {\n          class: \"config-item\",\n          value: rangeType.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((rangeType).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"50%\"},\n              value: \"all\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"全部幻灯片\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"50%\"},\n              value: \"current\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"当前幻灯片\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _hoisted_7,\n        _createVNode(_unref(Select), {\n          class: \"config-item\",\n          value: count.value,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((count).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(SelectOption), { value: 1 }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"1\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(SelectOption), { value: 2 }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"2\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(SelectOption), { value: 3 }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"3\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        _hoisted_9,\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createVNode(_unref(Switch), {\n            checked: padding.value,\n            \"onUpdate:checked\": _cache[2] || (_cache[2] = ($event: any) => ((padding).value = $event))\n          }, null, 8, [\"checked\"])\n        ])\n      ]),\n      _hoisted_11\n    ]),\n    _createElementVNode(\"div\", _hoisted_12, [\n      _createVNode(_unref(Button), {\n        class: \"btn export\",\n        type: \"primary\",\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (expPDF()))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"打印 / 导出 PDF\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Button), {\n        class: \"btn close\",\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"关闭\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","import script from \"./ExportPDF.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ExportPDF.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ExportPDF.vue?vue&type=style&index=0&id=527855fb&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-527855fb\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-018847a8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-pptx-dialog\" }\nconst _hoisted_2 = { class: \"configs\" }\nconst _hoisted_3 = { class: \"row\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"导出范围：\", -1))\nconst _hoisted_5 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_6 = [\"data-range\"]\nconst _hoisted_7 = { class: \"row\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"覆盖默认母版：\", -1))\nconst _hoisted_9 = { class: \"config-item\" }\nconst _hoisted_10 = { class: \"btns\" }\n\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\n\nimport FullscreenSpin from '@/components/FullscreenSpin.vue'\nimport {\n  Button,\n  Slider,\n  Switch,\n  Radio,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExportPPTX',\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\nconst { Group: RadioGroup, Button: RadioButton } = Radio\n\n\n\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst { exportPPTX, exporting } = useExport()\n\nconst rangeType = ref<'all' | 'current' | 'custom'>('all')\nconst range = ref<[number, number]>([1, slides.value.length])\nconst masterOverwrite = ref(true)\n\nconst selectedSlides = computed(() => {\n  if (rangeType.value === 'all') return slides.value\n  if (rangeType.value === 'current') return [currentSlide.value]\n  return slides.value.filter((item, index) => {\n    const [min, max] = range.value\n    return index >= min - 1 && index <= max - 1\n  })\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _hoisted_4,\n        _createVNode(_unref(RadioGroup), {\n          class: \"config-item\",\n          value: rangeType.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((rangeType).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"33.33%\"},\n              value: \"all\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"全部\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"33.33%\"},\n              value: \"current\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"当前页\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"33.33%\"},\n              value: \"custom\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"自定义\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      (rangeType.value === 'custom')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", {\n              class: \"title\",\n              \"data-range\": `（${range.value[0]} ~ ${range.value[1]}）`\n            }, \"自定义范围：\", 8, _hoisted_6),\n            _createVNode(_unref(Slider), {\n              class: \"config-item\",\n              range: \"\",\n              min: 1,\n              max: _unref(slides).length,\n              step: 1,\n              value: range.value,\n              \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((range).value = $event))\n            }, null, 8, [\"max\", \"value\"])\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _hoisted_8,\n        _createElementVNode(\"div\", _hoisted_9, [\n          _createVNode(_unref(Switch), {\n            checked: masterOverwrite.value,\n            \"onUpdate:checked\": _cache[2] || (_cache[2] = ($event: any) => ((masterOverwrite).value = $event))\n          }, null, 8, [\"checked\"])\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _createVNode(_unref(Button), {\n        class: \"btn export\",\n        type: \"primary\",\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (_unref(exportPPTX)(selectedSlides.value, masterOverwrite.value)))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"导出 PPTX\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Button), {\n        class: \"btn close\",\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"关闭\")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(FullscreenSpin, {\n      loading: _unref(exporting),\n      tip: \"正在导出...\"\n    }, null, 8, [\"loading\"])\n  ]))\n}\n}\n\n})","import script from \"./ExportPPTX.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ExportPPTX.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ExportPPTX.vue?vue&type=style&index=0&id=018847a8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-018847a8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-9f9062a0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-super-ppt-dialog\" }\nconst _hoisted_2 = { class: \"configs\" }\nconst _hoisted_3 = { class: \"row\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"导出范围：\", -1))\nconst _hoisted_5 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_6 = [\"data-range\"]\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"tip\" }, \" 提示：.super-ppt 是本应用的特有文件后缀，支持将该类型的文件导入回应用中。 \", -1))\nconst _hoisted_8 = { class: \"btns\" }\n\nimport { computed, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useExport from '@/hooks/useExport'\n\nimport {\n  Button,\n  Slider,\n  Radio,\n} from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExportSpecificFile',\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\nconst { Group: RadioGroup, Button: RadioButton } = Radio\n\n\n\nconst { slides, currentSlide } = storeToRefs(useSlidesStore())\n\nconst { exportSpecificFile } = useExport()\n\nconst rangeType = ref<'all' | 'current' | 'custom'>('all')\nconst range = ref<[number, number]>([1, slides.value.length])\n\nconst selectedSlides = computed(() => {\n  if (rangeType.value === 'all') return slides.value\n  if (rangeType.value === 'current') return [currentSlide.value]\n  return slides.value.filter((item, index) => {\n    const [min, max] = range.value\n    return index >= min - 1 && index <= max - 1\n  })\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _hoisted_4,\n        _createVNode(_unref(RadioGroup), {\n          class: \"config-item\",\n          value: rangeType.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((rangeType).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"33.33%\"},\n              value: \"all\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"全部\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"33.33%\"},\n              value: \"current\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"当前页\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(RadioButton), {\n              style: {\"width\":\"33.33%\"},\n              value: \"custom\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"自定义\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\"])\n      ]),\n      (rangeType.value === 'custom')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", {\n              class: \"title\",\n              \"data-range\": `（${range.value[0]} ~ ${range.value[1]}）`\n            }, \"自定义范围：\", 8, _hoisted_6),\n            _createVNode(_unref(Slider), {\n              class: \"config-item\",\n              range: \"\",\n              min: 1,\n              max: _unref(slides).length,\n              step: 1,\n              value: range.value,\n              \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((range).value = $event))\n            }, null, 8, [\"max\", \"value\"])\n          ]))\n        : _createCommentVNode(\"\", true),\n      _hoisted_7\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createVNode(_unref(Button), {\n        class: \"btn export\",\n        type: \"primary\",\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(exportSpecificFile)(selectedSlides.value)))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"导出 .super-ppt 文件\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(Button), {\n        class: \"btn close\",\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (emit('close')))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"关闭\")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","import script from \"./ExportSpecificFile.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ExportSpecificFile.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ExportSpecificFile.vue?vue&type=style&index=0&id=9f9062a0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9f9062a0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-69b86eec\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"export-dialog\" }\nconst _hoisted_2 = { class: \"tabs\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"content\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport { DialogForExportTypes } from '@/types/export'\n\nimport ExportImage from './ExportImage.vue'\nimport ExportJSON from './ExportJSON.vue'\nimport ExportPDF from './ExportPDF.vue'\nimport ExportPPTX from './ExportPPTX.vue'\nimport ExportSpecificFile from './ExportSpecificFile.vue'\n\ninterface TabItem {\n  key: DialogForExportTypes\n  label: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst { dialogForExport } = storeToRefs(mainStore)\n\nconst setDialogForExport = mainStore.setDialogForExport\n\nconst tabs: TabItem[] = [\n  { key: 'super-ppt', label: '导出 super-ppt 文件' },\n  { key: 'pptx', label: '导出 PPTX' },\n  { key: 'image', label: '导出图片' },\n  { key: 'json', label: '导出 JSON' },\n  { key: 'pdf', label: '打印 / 导出 PDF' },\n]\n\nconst currentDialogComponent = computed(() => {\n  const dialogMap = {\n    'image': ExportImage,\n    'json': ExportJSON,\n    'pdf': ExportPDF,\n    'pptx': ExportPPTX,\n    'super-ppt': ExportSpecificFile,\n  }\n  if (dialogForExport.value) return dialogMap[dialogForExport.value] || null\n  return null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(tabs, (tab) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass([\"tab\", { 'active': tab.key === _unref(dialogForExport) }]),\n          key: tab.key,\n          onClick: ($event: any) => (_unref(setDialogForExport)(tab.key))\n        }, _toDisplayString(tab.label), 11, _hoisted_3)\n      }), 64))\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      (_openBlock(), _createBlock(_resolveDynamicComponent(currentDialogComponent.value), {\n        onClose: _cache[0] || (_cache[0] = ($event: any) => (_unref(setDialogForExport)('')))\n      }, null, 32))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=69b86eec&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-69b86eec\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderSlot as _renderSlot, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-68252e2c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"title\" }\nconst _hoisted_2 = { class: \"content\" }\n\nimport { onMounted, ref } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MoveablePanel',\n  props: {\n  width: {\n    type: Number,\n    required: true,\n  },\n  height: {\n    type: Number,\n    required: true,\n  },\n  left: {\n    type: Number,\n    default: 10,\n  },\n  top: {\n    type: Number,\n    default: 10,\n  },\n  title: {\n    type: String,\n    default: '',\n  },\n  moveable: {\n    type: Boolean,\n    default: true,\n  },\n},\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst x = ref(0)\nconst y = ref(0)\n\nonMounted(() => {\n  if (props.left >= 0) x.value = props.left\n  else x.value = document.body.clientWidth + props.left - props.width\n\n  if (props.top >= 0) y.value = props.top\n  else y.value = document.body.clientHeight + props.top - props.height\n})\n\nconst startMove = (e: MouseEvent) => {\n  if (!props.moveable) return\n\n  let isMouseDown = true\n\n  const windowWidth = document.body.clientWidth\n  const clientHeight = document.body.clientHeight\n\n  const startPageX = e.pageX\n  const startPageY = e.pageY\n\n  const originLeft = x.value\n  const originTop = y.value\n\n  document.onmousemove = e => {\n    if (!isMouseDown) return\n\n    const moveX = e.pageX - startPageX\n    const moveY = e.pageY - startPageY\n\n    let left = originLeft + moveX\n    let top = originTop + moveY\n\n    if (left < 0) left = 0\n    if (top < 0) top = 0\n    if (left + props.width > windowWidth) left = windowWidth - props.width\n    if (top + props.height > clientHeight) top = clientHeight - props.height\n\n    x.value = left\n    y.value = top\n  }\n  document.onmouseup = () => {\n    isMouseDown = false\n\n    document.onmousemove = null\n    document.onmouseup = null\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconClose = _resolveComponent(\"IconClose\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"moveable-panel\",\n    style: _normalizeStyle({\n      width: __props.width + 'px',\n      height: __props.height + 'px',\n      left: x.value + 'px',\n      top: y.value + 'px',\n    })\n  }, [\n    (__props.title)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", {\n            class: \"header\",\n            onMousedown: _cache[1] || (_cache[1] = $event => startMove($event))\n          }, [\n            _createElementVNode(\"div\", _hoisted_1, _toDisplayString(__props.title), 1),\n            _createElementVNode(\"div\", {\n              class: \"close-btn\",\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (emit('close')))\n            }, [\n              _createVNode(_component_IconClose)\n            ])\n          ], 32),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _renderSlot(_ctx.$slots, \"default\")\n          ])\n        ], 64))\n      : (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: \"content\",\n          onMousedown: _cache[2] || (_cache[2] = $event => startMove($event))\n        }, [\n          _renderSlot(_ctx.$slots, \"default\")\n        ], 32))\n  ], 4))\n}\n}\n\n})","import script from \"./MoveablePanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MoveablePanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MoveablePanel.vue?vue&type=style&index=0&id=68252e2c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-68252e2c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, withKeys as _withKeys, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createBlock as _createBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-64f9ccca\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"handler\"\n}\nconst _hoisted_2 = { class: \"btns\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"icon-btns\"\n}\nconst _hoisted_4 = { class: \"element-list\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"group-els\"\n}\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"group-title\" }, \"组合\", -1))\nconst _hoisted_7 = [\"onClick\", \"onDblclick\"]\nconst _hoisted_8 = [\"id\", \"value\", \"onBlur\", \"onKeydown\"]\nconst _hoisted_9 = {\n  key: 1,\n  class: \"name\"\n}\nconst _hoisted_10 = { class: \"icons\" }\nconst _hoisted_11 = [\"onClick\", \"onDblclick\"]\nconst _hoisted_12 = [\"id\", \"value\", \"onBlur\", \"onKeydown\"]\nconst _hoisted_13 = {\n  key: 1,\n  class: \"name\"\n}\nconst _hoisted_14 = { class: \"icons\" }\n\nimport { computed, nextTick, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore, useMainStore } from '@/store'\nimport { PPTElement } from '@/types/slides'\nimport { ELEMENT_TYPE_ZH } from '@/configs/element'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport { ElementOrderCommands } from '@/types/edit'\n\nimport MoveablePanel from '@/components/MoveablePanel.vue'\nimport { Button, Input } from 'ant-design-vue'\n\ninterface GroupElements {\n  type: 'group'\n  id: string\n  elements: PPTElement[]\n}\ntype ElementItem = PPTElement | GroupElements\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SelectPanel',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst mainStore = useMainStore()\nconst { currentSlide } = storeToRefs(slidesStore)\nconst { handleElement, handleElementId, activeElementIdList, activeGroupElementId, hiddenElementIdList } = storeToRefs(mainStore)\n\nconst { orderElement } = useOrderElement()\n\nconst elements = computed<ElementItem[]>(() => {\n  const _elements: ElementItem[] = []\n\n  for (const el of currentSlide.value.elements) {\n    if (el.groupId) {\n      const lastItem = _elements[_elements.length - 1]\n\n      if (lastItem && lastItem.type === 'group' && lastItem.id && lastItem.id === el.groupId) {\n        lastItem.elements.push(el)\n      }\n      else _elements.push({ type: 'group', id: el.groupId, elements: [el] })\n    }\n    else _elements.push(el)\n  }\n\n  return _elements\n})\n\nconst selectGroupEl = (item: GroupElements, id: string) => {\n  if (handleElementId.value === id) return\n  if (hiddenElementIdList.value.includes(id)) return\n\n  const idList = item.elements.map(el => el.id)\n  mainStore.setActiveElementIdList(idList)\n  mainStore.setHandleElementId(id)\n  nextTick(() => mainStore.setActiveGroupElementId(id))\n}\n\nconst selectEl = (id: string) => {\n  if (handleElementId.value === id) return\n  if (hiddenElementIdList.value.includes(id)) return\n\n  mainStore.setActiveElementIdList([id])\n}\n\nconst hideElement = (id: string) => {\n  if (hiddenElementIdList.value.includes(id)) {\n    mainStore.setHiddenElementIdList(hiddenElementIdList.value.filter(item => item !== id))\n  }\n  else mainStore.setHiddenElementIdList([...hiddenElementIdList.value, id])\n\n  if (activeElementIdList.value.includes(id)) mainStore.setActiveElementIdList([])\n}\n\nconst showAll = () => {\n  const currentSlideElIdList = currentSlide.value.elements.map(item => item.id)\n  const needHiddenElementIdList = hiddenElementIdList.value.filter(item => !currentSlideElIdList.includes(item))\n  mainStore.setHiddenElementIdList(needHiddenElementIdList)\n}\nconst hideAll = () => {\n  const currentSlideElIdList = currentSlide.value.elements.map(item => item.id)\n  mainStore.setHiddenElementIdList([...hiddenElementIdList.value, ...currentSlideElIdList])\n  if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n}\n\nconst editingElId = ref('')\n\nconst saveElementName = (e: FocusEvent | KeyboardEvent, id: string) => {\n  const name = (e.target as HTMLInputElement).value\n  slidesStore.updateElement({ id, props: { name } })\n  editingElId.value = ''\n}\n\nconst enterEdit = (id: string) => {\n  editingElId.value = id\n  nextTick(() => {\n    const inputRef = document.querySelector(`#input-${id}`) as HTMLInputElement\n    inputRef.focus()\n  })\n}\n\nconst close = () => {\n  mainStore.setSelectPanelState(false)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconDown = _resolveComponent(\"IconDown\")!\n  const _component_IconUp = _resolveComponent(\"IconUp\")!\n  const _component_IconPreviewClose = _resolveComponent(\"IconPreviewClose\")!\n  const _component_IconPreviewOpen = _resolveComponent(\"IconPreviewOpen\")!\n\n  return (_openBlock(), _createBlock(MoveablePanel, {\n    class: \"select-panel\",\n    width: 200,\n    height: 360,\n    title: `选择（${_unref(activeElementIdList).length}/${_unref(currentSlide).elements.length}）`,\n    left: -270,\n    top: 90,\n    onClose: _cache[4] || (_cache[4] = ($event: any) => (close()))\n  }, {\n    default: _withCtx(() => [\n      (elements.value.length)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"div\", _hoisted_2, [\n              _createVNode(_unref(Button), {\n                size: \"small\",\n                style: {\"margin-right\":\"5px\"},\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (showAll()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"全部显示\")\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(Button), {\n                size: \"small\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (hideAll()))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"全部隐藏\")\n                ]),\n                _: 1\n              })\n            ]),\n            (_unref(handleElement))\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                  _createVNode(_component_IconDown, {\n                    class: \"icon-btn\",\n                    onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).UP)))\n                  }),\n                  _createVNode(_component_IconUp, {\n                    class: \"icon-btn\",\n                    onClick: _cache[3] || (_cache[3] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).DOWN)))\n                  })\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elements.value, (item) => {\n          return (_openBlock(), _createElementBlock(_Fragment, {\n            key: item.id\n          }, [\n            (item.type === 'group')\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                  _hoisted_6,\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.elements, (groupItem) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      class: _normalizeClass([\"item\", {\n              'active': _unref(activeElementIdList).includes(groupItem.id),\n              'group-active': _unref(activeGroupElementId).includes(groupItem.id),\n            }]),\n                      key: groupItem.id,\n                      onClick: ($event: any) => (selectGroupEl(item, groupItem.id)),\n                      onDblclick: ($event: any) => (enterEdit(groupItem.id))\n                    }, [\n                      (editingElId.value === groupItem.id)\n                        ? (_openBlock(), _createElementBlock(\"input\", {\n                            key: 0,\n                            id: `input-${groupItem.id}`,\n                            value: groupItem.name || _unref(ELEMENT_TYPE_ZH)[groupItem.type],\n                            class: \"input\",\n                            type: \"text\",\n                            onBlur: $event => saveElementName($event, groupItem.id),\n                            onKeydown: _withKeys($event => saveElementName($event, groupItem.id), [\"enter\"])\n                          }, null, 40, _hoisted_8))\n                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString(groupItem.name || _unref(ELEMENT_TYPE_ZH)[groupItem.type]), 1)),\n                      _createElementVNode(\"div\", _hoisted_10, [\n                        (_unref(hiddenElementIdList).includes(groupItem.id))\n                          ? (_openBlock(), _createBlock(_component_IconPreviewClose, {\n                              key: 0,\n                              style: {\"font-size\":\"17px\"},\n                              onClick: _withModifiers(($event: any) => (hideElement(groupItem.id)), [\"stop\"])\n                            }, null, 8, [\"onClick\"]))\n                          : (_openBlock(), _createBlock(_component_IconPreviewOpen, {\n                              key: 1,\n                              style: {\"font-size\":\"17px\"},\n                              onClick: _withModifiers(($event: any) => (hideElement(groupItem.id)), [\"stop\"])\n                            }, null, 8, [\"onClick\"]))\n                      ])\n                    ], 42, _hoisted_7))\n                  }), 128))\n                ]))\n              : (_openBlock(), _createElementBlock(\"div\", {\n                  key: 1,\n                  class: _normalizeClass([\"item\", { 'active': _unref(activeElementIdList).includes(item.id) }]),\n                  onClick: ($event: any) => (selectEl(item.id)),\n                  onDblclick: ($event: any) => (enterEdit(item.id))\n                }, [\n                  (editingElId.value === item.id)\n                    ? (_openBlock(), _createElementBlock(\"input\", {\n                        key: 0,\n                        id: `input-${item.id}`,\n                        value: item.name || _unref(ELEMENT_TYPE_ZH)[item.type],\n                        class: \"input\",\n                        type: \"text\",\n                        onBlur: $event => saveElementName($event, item.id),\n                        onKeydown: _withKeys($event => saveElementName($event, item.id), [\"enter\"])\n                      }, null, 40, _hoisted_12))\n                    : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, _toDisplayString(item.name || _unref(ELEMENT_TYPE_ZH)[item.type]), 1)),\n                  _createElementVNode(\"div\", _hoisted_14, [\n                    (_unref(hiddenElementIdList).includes(item.id))\n                      ? (_openBlock(), _createBlock(_component_IconPreviewClose, {\n                          key: 0,\n                          style: {\"font-size\":\"17px\"},\n                          onClick: _withModifiers(($event: any) => (hideElement(item.id)), [\"stop\"])\n                        }, null, 8, [\"onClick\"]))\n                      : (_openBlock(), _createBlock(_component_IconPreviewOpen, {\n                          key: 1,\n                          style: {\"font-size\":\"17px\"},\n                          onClick: _withModifiers(($event: any) => (hideElement(item.id)), [\"stop\"])\n                        }, null, 8, [\"onClick\"]))\n                  ])\n                ], 42, _hoisted_11))\n          ], 64))\n        }), 128))\n      ])\n    ]),\n    _: 1\n  }, 8, [\"title\"]))\n}\n}\n\n})","import script from \"./SelectPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SelectPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SelectPanel.vue?vue&type=style&index=0&id=64f9ccca&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-64f9ccca\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, Fragment as _Fragment, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0dd8afa0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"super-ppt-editor\" }\nconst _hoisted_2 = { class: \"layout-content\" }\nconst _hoisted_3 = { class: \"layout-content-center\" }\n\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore } from '@/store'\nimport useGlobalHotkey from '@/hooks/useGlobalHotkey'\nimport usePasteEvent from '@/hooks/usePasteEvent'\n\nimport EditorHeader from './EditorHeader/index.vue'\nimport Canvas from './Canvas/index.vue'\nimport CanvasTool from './CanvasTool/index.vue'\nimport Thumbnails from './Thumbnails/index.vue'\nimport Toolbar from './Toolbar/index.vue'\nimport Remark from './Remark/index.vue'\nimport ExportDialog from './ExportDialog/index.vue'\nimport SelectPanel from './SelectPanel.vue'\nimport { Modal } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mainStore = useMainStore()\nconst { dialogForExport, showSelectPanel } = storeToRefs(mainStore)\nconst closeExportDialog = () => mainStore.setDialogForExport('')\n\nconst remarkHeight = ref(40)\n\nuseGlobalHotkey()\nusePasteEvent()\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(EditorHeader, { class: \"layout-header\" }),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(Thumbnails, { class: \"layout-content-left\" }),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(CanvasTool, { class: \"center-top\" }),\n          _createVNode(Canvas, {\n            class: \"center-body\",\n            style: _normalizeStyle({ height: `calc(100% - ${remarkHeight.value + 40}px)` })\n          }, null, 8, [\"style\"]),\n          _createVNode(Remark, {\n            class: \"center-bottom\",\n            height: remarkHeight.value,\n            \"onUpdate:height\": _cache[0] || (_cache[0] = ($event: any) => ((remarkHeight).value = $event)),\n            style: _normalizeStyle({ height: `${remarkHeight.value}px` })\n          }, null, 8, [\"height\", \"style\"])\n        ]),\n        _createVNode(Toolbar, { class: \"layout-content-right\" })\n      ])\n    ]),\n    (_unref(showSelectPanel))\n      ? (_openBlock(), _createBlock(SelectPanel, { key: 0 }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_unref(Modal), {\n      visible: !!_unref(dialogForExport),\n      footer: null,\n      centered: \"\",\n      closable: false,\n      width: 680,\n      destroyOnClose: \"\",\n      onCancel: _cache[1] || (_cache[1] = ($event: any) => (closeExportDialog()))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(ExportDialog)\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ], 64))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0dd8afa0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0dd8afa0\"]])\n\nexport default __exports__","import { onMounted, onUnmounted, ref } from 'vue'\nimport { throttle } from 'lodash'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { KEYS } from '@/configs/hotkey'\nimport { ANIMATION_CLASS_PREFIX } from '@/configs/animation'\n\nimport { message } from 'ant-design-vue'\n\nexport default () => {\n  const slidesStore = useSlidesStore()\n  const { slides, slideIndex, formatedAnimations } = storeToRefs(slidesStore)\n\n  // 当前页的元素动画执行到的位置\n  const animationIndex = ref(0)\n\n  // 动画执行状态\n  const inAnimation = ref(false)\n\n  // 最小已播放页面索引\n  const playedSlidesMinIndex = ref(slideIndex.value)\n\n  // 执行元素动画\n  const runAnimation = () => {\n    // 正在执行动画时，禁止其他新的动画开始\n    if (inAnimation.value) return\n\n    const { animations, autoNext } = formatedAnimations.value[animationIndex.value]\n    animationIndex.value += 1\n\n    // 标记开始执行动画\n    inAnimation.value = true\n\n    let endAnimationCount = 0\n\n    // 依次执行该位置中的全部动画\n    for (const animation of animations) {\n      const elRef: HTMLElement | null = document.querySelector(`#screen-element-${animation.elId} [class^=base-element-]`)\n      if (!elRef) {\n        endAnimationCount += 1\n        continue\n      }\n\n      const animationName = `${ANIMATION_CLASS_PREFIX}${animation.effect}`\n      \n      // 执行动画前先清除原有的动画状态（如果有）\n      elRef.style.removeProperty('--animate-duration')\n      for (const classname of elRef.classList) {\n        if (classname.indexOf(ANIMATION_CLASS_PREFIX) !== -1) elRef.classList.remove(classname, `${ANIMATION_CLASS_PREFIX}animated`)\n      }\n      \n      // 执行动画\n      elRef.style.setProperty('--animate-duration', `${animation.duration}ms`)\n      elRef.classList.add(animationName, `${ANIMATION_CLASS_PREFIX}animated`)\n\n      // 执行动画结束，将“退场”以外的动画状态清除\n      const handleAnimationEnd = () => {\n        if (animation.type !== 'out') {\n          elRef.style.removeProperty('--animate-duration')\n          elRef.classList.remove(animationName, `${ANIMATION_CLASS_PREFIX}animated`)\n        }\n\n        // 判断该位置上的全部动画都已经结束后，标记动画执行完成，并尝试继续向下执行（如果有需要）\n        endAnimationCount += 1\n        if (endAnimationCount === animations.length) {\n          inAnimation.value = false\n          if (autoNext) runAnimation()\n        }\n      }\n      elRef.addEventListener('animationend', handleAnimationEnd, { once: true })\n    }\n  }\n\n  // 撤销元素动画，除了将索引前移外，还需要清除动画状态\n  const revokeAnimation = () => {\n    animationIndex.value -= 1\n    const { animations } = formatedAnimations.value[animationIndex.value]\n\n    for (const animation of animations) {\n      const elRef: HTMLElement | null = document.querySelector(`#screen-element-${animation.elId} [class^=base-element-]`)\n      if (!elRef) continue\n      \n      elRef.style.removeProperty('--animate-duration')\n      for (const classname of elRef.classList) {\n        if (classname.indexOf(ANIMATION_CLASS_PREFIX) !== -1) elRef.classList.remove(classname, `${ANIMATION_CLASS_PREFIX}animated`)\n      }\n    }\n\n    // 如果撤销时该位置有且仅有强调动画，则继续执行一次撤销\n    if (animations.every(item => item.type === 'attention')) execPrev()\n  }\n\n  // 关闭自动播放\n  const autoPlayTimer = ref(0)\n  const closeAutoPlay = () => {\n    if (autoPlayTimer.value) {\n      clearInterval(autoPlayTimer.value)\n      autoPlayTimer.value = 0\n    }\n  }\n  onUnmounted(closeAutoPlay)\n\n  const throttleMassage = throttle(function(msg) {\n    message.success(msg)\n  }, 1000, { leading: true, trailing: false })\n\n  // 向上/向下播放\n  // 遇到元素动画时，优先执行动画播放，无动画则执行翻页\n  // 向上播放遇到动画时，仅撤销到动画执行前的状态，不需要反向播放动画\n  // 撤回到上一页时，若该页从未播放过（意味着不存在动画状态），需要将动画索引置为最小值（初始状态），否则置为最大值（最终状态）\n  const execPrev = () => {\n    if (formatedAnimations.value.length && animationIndex.value > 0) {\n      revokeAnimation()\n    }\n    else if (slideIndex.value > 0) {\n      slidesStore.updateSlideIndex(slideIndex.value - 1)\n      if (slideIndex.value < playedSlidesMinIndex.value) {\n        animationIndex.value = 0\n        playedSlidesMinIndex.value = slideIndex.value\n      }\n      else animationIndex.value = formatedAnimations.value.length\n    }\n    else {\n      throttleMassage('已经是第一页了')\n    }\n    inAnimation.value = false\n  }\n  const execNext = () => {\n    if (formatedAnimations.value.length && animationIndex.value < formatedAnimations.value.length) {\n      runAnimation()\n    }\n    else if (slideIndex.value < slides.value.length - 1) {\n      slidesStore.updateSlideIndex(slideIndex.value + 1)\n      animationIndex.value = 0\n      inAnimation.value = false\n    }\n    else {\n      throttleMassage('已经是最后一页了')\n      closeAutoPlay()\n      inAnimation.value = false\n    }\n  }\n\n  // 自动播放\n  const autoPlay = () => {\n    closeAutoPlay()\n    message.success('开始自动放映')\n    autoPlayTimer.value = setInterval(execNext, 2500)\n  }\n\n  // 鼠标滚动翻页\n  const mousewheelListener = throttle(function(e: WheelEvent) {\n    if (e.deltaY < 0) execPrev()\n    else if (e.deltaY > 0) execNext()\n  }, 500, { leading: true, trailing: false })\n\n  // 触摸屏上下滑动翻页\n  const touchInfo = ref<{ x: number; y: number; } | null>(null)\n\n  const touchStartListener = (e: TouchEvent) => {\n    touchInfo.value = {\n      x: e.changedTouches[0].pageX,\n      y: e.changedTouches[0].pageY,\n    }\n  }\n  const touchEndListener = (e: TouchEvent) => {\n    if (!touchInfo.value) return\n\n    const offsetX = Math.abs(touchInfo.value.x - e.changedTouches[0].pageX)\n    const offsetY = e.changedTouches[0].pageY - touchInfo.value.y\n\n    if ( Math.abs(offsetY) > offsetX && Math.abs(offsetY) > 50 ) {\n      touchInfo.value = null\n\n      if (offsetY > 0) execPrev()\n      else execNext()\n    }\n  }\n\n  // 快捷键翻页\n  const keydownListener = (e: KeyboardEvent) => {\n    const key = e.key.toUpperCase()\n\n    if (key === KEYS.UP || key === KEYS.LEFT || key === KEYS.PAGEUP) execPrev()\n    else if (\n      key === KEYS.DOWN || \n      key === KEYS.RIGHT ||\n      key === KEYS.SPACE || \n      key === KEYS.ENTER ||\n      key === KEYS.PAGEDOWN\n    ) execNext()\n  }\n\n  onMounted(() => document.addEventListener('keydown', keydownListener))\n  onUnmounted(() => document.removeEventListener('keydown', keydownListener))\n\n  // 切换到上一张/上一张幻灯片（无视元素的入场动画）\n  const turnPrevSlide = () => {\n    slidesStore.updateSlideIndex(slideIndex.value - 1)\n    animationIndex.value = 0\n  }\n  const turnNextSlide = () => {\n    slidesStore.updateSlideIndex(slideIndex.value + 1)\n    animationIndex.value = 0\n  }\n\n  // 切换幻灯片到指定的页面\n  const turnSlideToIndex = (index: number) => {\n    slidesStore.updateSlideIndex(index)\n    animationIndex.value = 0\n  }\n  const turnSlideToId = (id: string) => {\n    const index = slides.value.findIndex(slide => slide.id === id)\n    if (index !== -1) {\n      slidesStore.updateSlideIndex(index)\n      animationIndex.value = 0\n    }\n  }\n\n  return {\n    autoPlayTimer,\n    autoPlay,\n    closeAutoPlay,\n    mousewheelListener,\n    touchStartListener,\n    touchEndListener,\n    turnPrevSlide,\n    turnNextSlide,\n    turnSlideToIndex,\n    turnSlideToId,\n    execPrev,\n    execNext,\n    animationIndex,\n  }\n}\n","import { onMounted, onUnmounted, Ref, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\n\nexport default (wrapRef?: Ref<HTMLElement | undefined>) => {\n  const slidesStore = useSlidesStore()\n  const { viewportRatio } = storeToRefs(slidesStore)\n\n  const slideWidth = ref(0)\n  const slideHeight = ref(0)\n\n  // 计算和更新幻灯片内容的尺寸（按比例自适应屏幕）\n  const setSlideContentSize = () => {\n    const slideWrapRef = wrapRef?.value || document.body\n    const winWidth = slideWrapRef.clientWidth\n    const winHeight = slideWrapRef.clientHeight\n    let width, height\n\n    if (winHeight / winWidth === viewportRatio.value) {\n      width = winWidth\n      height = winHeight\n    }\n    else if (winHeight / winWidth > viewportRatio.value) {\n      width = winWidth\n      height = winWidth * viewportRatio.value\n    }\n    else {\n      width = winHeight / viewportRatio.value\n      height = winHeight\n    }\n    slideWidth.value = width\n    slideHeight.value = height\n  }\n\n  onMounted(() => {\n    setSlideContentSize()\n    window.addEventListener('resize', setSlideContentSize)\n  })\n  onUnmounted(() => {\n    window.removeEventListener('resize', setSlideContentSize)\n  })\n\n  return {\n    slideWidth,\n    slideHeight,\n  }\n}","import { onMounted, onUnmounted, ref } from 'vue'\nimport { isFullscreen, exitFullscreen } from '@/utils/fullscreen'\nimport useScreening from '@/hooks/useScreening'\n\nexport default () => {\n  const fullscreenState = ref(true)\n  const escExit = ref(true)\n\n  const { exitScreening } = useScreening()\n\n  const handleFullscreenChange = () => {\n    fullscreenState.value = isFullscreen()\n    if (!fullscreenState.value && escExit.value) exitScreening()\n\n    escExit.value = true\n  }\n\n  onMounted(() => {\n    fullscreenState.value = isFullscreen()\n    document.addEventListener('fullscreenchange', handleFullscreenChange)\n    document.addEventListener('webkitfullscreenchange', handleFullscreenChange) // Safari 兼容\n  })\n  onUnmounted(() => {\n    document.removeEventListener('fullscreenchange', handleFullscreenChange)\n    document.removeEventListener('webkitfullscreenchange', handleFullscreenChange)\n  })\n\n  const manualExitFullscreen = () => {\n    if (!fullscreenState.value) return\n    escExit.value = false\n    exitFullscreen()\n  }\n\n  return {\n    fullscreenState,\n    manualExitFullscreen,\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { PropType } from 'vue'\nimport { PPTChartElement } from '@/types/slides'\n\nimport BaseChartElement from './BaseChartElement.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScreenChartElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTChartElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseChartElement, {\n    class: \"screen-element-chart\",\n    elementInfo: __props.elementInfo\n  }, null, 8, [\"elementInfo\"]))\n}\n}\n\n})","import script from \"./ScreenChartElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScreenChartElement.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-76457308\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\n\nimport { computed, inject, PropType, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { PPTVideoElement } from '@/types/slides'\nimport { injectKeySlideId, injectKeySlideScale } from '@/types/injectKey'\n\nimport VideoPlayer from './VideoPlayer/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScreenVideoElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTVideoElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { currentSlide } = storeToRefs(useSlidesStore())\n\nconst scale = inject(injectKeySlideScale) || ref(1)\nconst slideId = inject(injectKeySlideId) || ref('')\n\nconst inCurrentSlide = computed(() => currentSlide.value.id === slideId.value)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"screen-element-video\",\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (inCurrentSlide.value)\n          ? (_openBlock(), _createBlock(VideoPlayer, {\n              key: 0,\n              width: __props.elementInfo.width,\n              height: __props.elementInfo.height,\n              src: __props.elementInfo.src,\n              poster: __props.elementInfo.poster,\n              scale: _unref(scale)\n            }, null, 8, [\"width\", \"height\", \"src\", \"poster\", \"scale\"]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./ScreenVideoElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScreenVideoElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ScreenVideoElement.vue?vue&type=style&index=0&id=76457308&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-76457308\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, normalizeStyle as _normalizeStyle, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1172b8ee\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-content\" }\n\nimport { computed, inject, PropType, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { PPTAudioElement } from '@/types/slides'\nimport { injectKeySlideId, injectKeySlideScale } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nimport AudioPlayer from './AudioPlayer.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScreenAudioElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTAudioElement>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { viewportRatio, currentSlide } = storeToRefs(useSlidesStore())\n\nconst scale = inject(injectKeySlideScale) || ref(1)\nconst slideId = inject(injectKeySlideId) || ref('')\n\nconst inCurrentSlide = computed(() => currentSlide.value.id === slideId.value)\n\nconst audioIconSize = computed(() => {\n  return Math.min(props.elementInfo.width, props.elementInfo.height) + 'px'\n})\nconst audioPlayerPosition = computed(() => {\n  const canvasWidth = VIEWPORT_SIZE\n  const canvasHeight = VIEWPORT_SIZE * viewportRatio.value\n\n  const audioWidth = 280 / scale.value\n  const audioHeight = 50 / scale.value\n\n  const elWidth = props.elementInfo.width\n  const elHeight = props.elementInfo.height\n  const elLeft = props.elementInfo.left\n  const elTop = props.elementInfo.top\n\n  let left = 0\n  let top = elHeight\n  \n  if (elLeft + audioWidth >= canvasWidth) left = elWidth - audioWidth\n  if (elTop + elHeight + audioHeight >= canvasHeight) top = -audioHeight\n\n  return {\n    left: left + 'px',\n    top: top + 'px',\n  }\n})\n\nconst audioPlayerRef = ref<typeof AudioPlayer>()\nconst toggle = () => {\n  if (!audioPlayerRef.value) return\n  audioPlayerRef.value.toggle()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconVolumeNotice = _resolveComponent(\"IconVolumeNotice\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"screen-element-audio\",\n    style: _normalizeStyle({\n      top: __props.elementInfo.top + 'px',\n      left: __props.elementInfo.left + 'px',\n      width: __props.elementInfo.width + 'px',\n      height: __props.elementInfo.height + 'px',\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"rotate-wrapper\",\n      style: _normalizeStyle({ transform: `rotate(${__props.elementInfo.rotate}deg)` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_IconVolumeNotice, {\n          class: \"audio-icon\",\n          style: _normalizeStyle({\n            fontSize: audioIconSize.value,\n            color: __props.elementInfo.color,\n          }),\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (toggle()))\n        }, null, 8, [\"style\"]),\n        (inCurrentSlide.value)\n          ? (_openBlock(), _createBlock(AudioPlayer, {\n              key: 0,\n              class: \"audio-player\",\n              ref_key: \"audioPlayerRef\",\n              ref: audioPlayerRef,\n              style: _normalizeStyle({ ...audioPlayerPosition.value }),\n              src: __props.elementInfo.src,\n              loop: __props.elementInfo.loop,\n              autoplay: __props.elementInfo.autoplay,\n              scale: _unref(scale)\n            }, null, 8, [\"style\", \"src\", \"loop\", \"autoplay\", \"scale\"]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ], 4)\n  ], 4))\n}\n}\n\n})","import script from \"./ScreenAudioElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScreenAudioElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ScreenAudioElement.vue?vue&type=style&index=0&id=1172b8ee&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1172b8ee\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a15cc1d8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"id\", \"title\"]\n\nimport { computed, PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { ElementTypes, PPTElement } from '@/types/slides'\n\nimport BaseImageElement from '@/views/components/element/ImageElement/BaseImageElement.vue'\nimport BaseTextElement from '@/views/components/element/TextElement/BaseTextElement.vue'\nimport BaseShapeElement from '@/views/components/element/ShapeElement/BaseShapeElement.vue'\nimport BaseLineElement from '@/views/components/element/LineElement/BaseLineElement.vue'\nimport ScreenChartElement from '@/views/components/element/ChartElement/ScreenChartElement.vue'\nimport BaseTableElement from '@/views/components/element/TableElement/BaseTableElement.vue'\nimport BaseLatexElement from '@/views/components/element/LatexElement/BaseLatexElement.vue'\nimport ScreenVideoElement from '@/views/components/element/VideoElement/ScreenVideoElement.vue'\nimport ScreenAudioElement from '@/views/components/element/AudioElement/ScreenAudioElement.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScreenElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTElement>,\n    required: true,\n  },\n  elementIndex: {\n    type: Number,\n    required: true,\n  },\n  animationIndex: {\n    type: Number,\n    required: true,\n  },\n  turnSlideToId: {\n    type: Function as PropType<(id: string) => void>,\n    required: true,\n  },\n  manualExitFullscreen: {\n    type: Function as PropType<() => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst currentElementComponent = computed(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: BaseImageElement,\n    [ElementTypes.TEXT]: BaseTextElement,\n    [ElementTypes.SHAPE]: BaseShapeElement,\n    [ElementTypes.LINE]: BaseLineElement,\n    [ElementTypes.CHART]: ScreenChartElement,\n    [ElementTypes.TABLE]: BaseTableElement,\n    [ElementTypes.LATEX]: BaseLatexElement,\n    [ElementTypes.VIDEO]: ScreenVideoElement,\n    [ElementTypes.AUDIO]: ScreenAudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n\nconst { formatedAnimations, theme } = storeToRefs(useSlidesStore())\n\n// 判断元素是否需要等待执行入场动画：等待执行入场的元素需要先隐藏\nconst needWaitAnimation = computed(() => {\n  // 该元素在本页动画序列中的位置\n  const elementIndexInAnimation = formatedAnimations.value.findIndex(item => {\n    const elIds = item.animations.map(item => item.elId)\n    return elIds.includes(props.elementInfo.id)\n  })\n\n  // 该元素未设置过动画\n  if (elementIndexInAnimation === -1) return false\n\n  // 若该元素已执行过动画，都无须隐藏\n  // 具体来说：若已执行的最后一个动画为入场，显然无须隐藏；若已执行的最后一个动画为退场，由于保留了退场动画结束状态，也无需额外隐藏\n  if (elementIndexInAnimation < props.animationIndex) return false\n\n  // 若该元素未执行过动画，获取其将要执行的第一个动画\n  // 若将要执行的第一个动画为入场，则需要隐藏，否则无须隐藏\n  const firstAnimation = formatedAnimations.value[elementIndexInAnimation].animations.find(item => item.elId === props.elementInfo.id)\n  if (firstAnimation?.type === 'in') return true\n  return false\n})\n\n// 打开元素绑定的超链接\nconst openLink = () => {\n  const link = props.elementInfo.link\n  if (!link) return\n\n  if (link.type === 'web') {\n    props.manualExitFullscreen()\n    window.open(link.target)\n  }\n  else if (link.type === 'slide') {\n    props.turnSlideToId(link.target)\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"screen-element\", { 'link': __props.elementInfo.link }]),\n    id: `screen-element-${__props.elementInfo.id}`,\n    style: _normalizeStyle({\n      zIndex: __props.elementIndex,\n      color: _unref(theme).fontColor,\n      fontFamily: _unref(theme).fontName,\n      visibility: needWaitAnimation.value ? 'hidden' : 'visible',\n    }),\n    title: __props.elementInfo.link?.target || '',\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (openLink()))\n  }, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentElementComponent.value), { elementInfo: __props.elementInfo }, null, 8, [\"elementInfo\"]))\n  ], 14, _hoisted_1))\n}\n}\n\n})","import script from \"./ScreenElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScreenElement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ScreenElement.vue?vue&type=style&index=0&id=a15cc1d8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a15cc1d8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock } from \"vue\"\n\nimport { computed, PropType, provide } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { Slide } from '@/types/slides'\nimport { injectKeySlideId } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\n\nimport ScreenElement from './ScreenElement.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScreenSlide',\n  props: {\n  slide: {\n    type: Object as PropType<Slide>,\n    required: true,\n  },\n  scale: {\n    type: Number,\n    required: true,\n  },\n  animationIndex: {\n    type: Number,\n    required: true,\n  },\n  turnSlideToId: {\n    type: Function as PropType<(id: string) => void>,\n    required: true,\n  },\n  manualExitFullscreen: {\n    type: Function as PropType<() => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { viewportRatio } = storeToRefs(useSlidesStore())\n\nconst background = computed(() => props.slide.background)\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n\nconst slideId = computed(() => props.slide.id)\nprovide(injectKeySlideId, slideId)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"screen-slide\",\n    style: _normalizeStyle({\n      width: _unref(VIEWPORT_SIZE) + 'px',\n      height: _unref(VIEWPORT_SIZE) * _unref(viewportRatio) + 'px',\n      transform: `scale(${__props.scale})`,\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"background\",\n      style: _normalizeStyle({ ..._unref(backgroundStyle) })\n    }, null, 4),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.slide.elements, (element, index) => {\n      return (_openBlock(), _createBlock(ScreenElement, {\n        key: element.id,\n        elementInfo: element,\n        elementIndex: index + 1,\n        animationIndex: __props.animationIndex,\n        turnSlideToId: __props.turnSlideToId,\n        manualExitFullscreen: __props.manualExitFullscreen\n      }, null, 8, [\"elementInfo\", \"elementIndex\", \"animationIndex\", \"turnSlideToId\", \"manualExitFullscreen\"]))\n    }), 128))\n  ], 4))\n}\n}\n\n})","import script from \"./ScreenSlide.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScreenSlide.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ScreenSlide.vue?vue&type=style&index=0&id=7cf7f9e7&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7cf7f9e7\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-77a3e620\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"screen-slide-list\" }\n\nimport { computed, PropType, provide } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { injectKeySlideScale } from '@/types/injectKey'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nimport ScreenSlide from './ScreenSlide.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScreenSlideList',\n  props: {\n  slideWidth: {\n    type: Number,\n    required: true,\n  },\n  slideHeight: {\n    type: Number,\n    required: true,\n  },\n  animationIndex: {\n    type: Number,\n    required: true,\n  },\n  turnSlideToId: {\n    type: Function as PropType<(id: string) => void>,\n    required: true,\n  },\n  manualExitFullscreen: {\n    type: Function as PropType<() => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { slides, slideIndex, currentSlide } = storeToRefs(useSlidesStore())\n\nconst scale = computed(() => props.slideWidth / VIEWPORT_SIZE)\nprovide(injectKeySlideScale, scale)\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slides), (slide, index) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: _normalizeClass([\n        'slide-item', \n        `turning-mode-${slide.turningMode || 'slideY'}`,\n        {\n          'current': index === _unref(slideIndex),\n          'before': index < _unref(slideIndex),\n          'after': index > _unref(slideIndex),\n          'hide': (index === _unref(slideIndex) - 1 || index === _unref(slideIndex) + 1) && slide.turningMode !== _unref(currentSlide).turningMode,\n        }\n      ]),\n        key: slide.id\n      }, [\n        (Math.abs(_unref(slideIndex) - index) < 2 || slide.animations?.length)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: \"slide-content\",\n              style: _normalizeStyle({\n          width: __props.slideWidth + 'px',\n          height: __props.slideHeight + 'px',\n        })\n            }, [\n              _createVNode(ScreenSlide, {\n                slide: slide,\n                scale: scale.value,\n                animationIndex: __props.animationIndex,\n                turnSlideToId: __props.turnSlideToId,\n                manualExitFullscreen: __props.manualExitFullscreen\n              }, null, 8, [\"slide\", \"scale\", \"animationIndex\", \"turnSlideToId\", \"manualExitFullscreen\"])\n            ], 4))\n          : _createCommentVNode(\"\", true)\n      ], 2))\n    }), 128))\n  ]))\n}\n}\n\n})","import script from \"./ScreenSlideList.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScreenSlideList.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ScreenSlideList.vue?vue&type=style&index=0&id=77a3e620&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-77a3e620\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b7c6c0cc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"slide-thumbnails\" }\nconst _hoisted_2 = { class: \"return-button\" }\nconst _hoisted_3 = { class: \"slide-thumbnails-content\" }\nconst _hoisted_4 = [\"onClick\"]\n\nimport { PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useLoadSlides from '@/hooks/useLoadSlides'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SlideThumbnails',\n  props: {\n  turnSlideToIndex: {\n    type: Function as PropType<(index: number) => void>,\n    required: true,\n  },\n},\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\n\n\n\n\nconst { slides, slideIndex } = storeToRefs(useSlidesStore())\n\nconst { slidesLoadLimit } = useLoadSlides()\n\nconst turnSlide = (index: number) => {\n  props.turnSlideToIndex(index)\n  emit('close')\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconArrowCircleLeft = _resolveComponent(\"IconArrowCircleLeft\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_IconArrowCircleLeft, {\n        class: \"icon\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (emit('close')))\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slides), (slide, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: _normalizeClass([\"thumbnail\", { 'active': index === _unref(slideIndex) }]),\n          key: slide.id,\n          onClick: ($event: any) => (turnSlide(index))\n        }, [\n          _createVNode(ThumbnailSlide, {\n            slide: slide,\n            size: 150,\n            visible: index < _unref(slidesLoadLimit)\n          }, null, 8, [\"slide\", \"visible\"])\n        ], 10, _hoisted_4))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./SlideThumbnails.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SlideThumbnails.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SlideThumbnails.vue?vue&type=style&index=0&id=b7c6c0cc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b7c6c0cc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3e9669a9\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"blackboard\"\n}\n\nimport { computed, onMounted, onUnmounted, PropType, ref, watch } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'WritingBoard',\n  props: {\n  color: {\n    type: String,\n    default: '#ffcc00',\n  },\n  model: {\n    type: String as PropType<'pen' | 'eraser' | 'mark'>,\n    default: 'pen',\n  },\n  blackboard: {\n    type: Boolean,\n    default: false,\n  },\n  penSize: {\n    type: Number,\n    default: 6,\n  },\n  markSize: {\n    type: Number,\n    default: 24,\n  },\n  rubberSize: {\n    type: Number,\n    default: 80,\n  },\n},\n  emits: [\"end\"],\n  setup(__props, { expose: __expose, emit }) {\n\nconst props = __props;\n\n\n\n\n\nlet ctx: CanvasRenderingContext2D | null = null\nconst writingBoardRef = ref<HTMLElement>()\nconst canvasRef = ref<HTMLCanvasElement>()\n\nlet lastPos = {\n  x: 0,\n  y: 0,\n}\nlet isMouseDown = false\nlet lastTime = 0\nlet lastLineWidth = -1\n\n// 鼠标位置坐标：用于画笔或橡皮位置跟随\nconst mouse = ref({\n  x: 0,\n  y: 0,\n})\n\n// 鼠标是否处在画布范围内：处在范围内才会显示画笔或橡皮\nconst mouseInCanvas = ref(false)\n\n// 监听更新canvas尺寸\nconst canvasWidth = ref(0)\nconst canvasHeight = ref(0)\n\nconst widthScale = computed(() => canvasRef.value ? canvasWidth.value / canvasRef.value.width : 1)\nconst heightScale = computed(() => canvasRef.value ? canvasHeight.value / canvasRef.value.height : 1)\n\nconst updateCanvasSize = () => {\n  if (!writingBoardRef.value) return\n  canvasWidth.value = writingBoardRef.value.clientWidth\n  canvasHeight.value = writingBoardRef.value.clientHeight\n}\nconst resizeObserver = new ResizeObserver(updateCanvasSize)\nonMounted(() => {\n  if (writingBoardRef.value) resizeObserver.observe(writingBoardRef.value)\n})\nonUnmounted(() => {\n  if (writingBoardRef.value) resizeObserver.unobserve(writingBoardRef.value)\n})\n\n// 初始化画布\nconst initCanvas = () => {\n  if (!canvasRef.value || !writingBoardRef.value) return\n\n  ctx = canvasRef.value.getContext('2d')\n  if (!ctx) return\n\n  canvasRef.value.width = writingBoardRef.value.clientWidth\n  canvasRef.value.height = writingBoardRef.value.clientHeight\n\n  ctx.lineCap = 'round'\n  ctx.lineJoin = 'round'\n}\nonMounted(initCanvas)\n\n// 切换画笔模式时，更新 canvas ctx 配置\nconst updateCtx = () => {\n  if (!ctx) return\n  if (props.model === 'mark') {\n    ctx.globalCompositeOperation = 'xor'\n    ctx.globalAlpha = 0.5\n  }\n  else if (props.model === 'pen') {\n    ctx.globalCompositeOperation = 'source-over'\n    ctx.globalAlpha = 1\n  }\n}\nwatch(() => props.model, updateCtx)\n\n// 绘制画笔墨迹方法\nconst draw = (posX: number, posY: number, lineWidth: number) => {\n  if (!ctx) return\n\n  const lastPosX = lastPos.x\n  const lastPosY = lastPos.y\n\n  ctx.lineWidth = lineWidth\n  ctx.strokeStyle = props.color\n  ctx.beginPath()\n  ctx.moveTo(lastPosX, lastPosY)\n  ctx.lineTo(posX, posY)\n  ctx.stroke()\n  ctx.closePath()\n}\n\n// 擦除墨迹方法\nconst erase = (posX: number, posY: number) => {\n  if (!ctx || !canvasRef.value) return\n  const lastPosX = lastPos.x\n  const lastPosY = lastPos.y\n\n  const radius = props.rubberSize / 2\n\n  const sinRadius = radius * Math.sin(Math.atan((posY - lastPosY) / (posX - lastPosX)))\n  const cosRadius = radius * Math.cos(Math.atan((posY - lastPosY) / (posX - lastPosX)))\n  const rectPoint1: [number, number] = [lastPosX + sinRadius, lastPosY - cosRadius]\n  const rectPoint2: [number, number] = [lastPosX - sinRadius, lastPosY + cosRadius]\n  const rectPoint3: [number, number] = [posX + sinRadius, posY - cosRadius]\n  const rectPoint4: [number, number] = [posX - sinRadius, posY + cosRadius]\n\n  ctx.save()\n  ctx.beginPath()\n  ctx.arc(posX, posY, radius, 0, Math.PI * 2)\n  ctx.clip()\n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n  ctx.restore()\n\n  ctx.save()\n  ctx.beginPath()\n  ctx.moveTo(...rectPoint1)\n  ctx.lineTo(...rectPoint3)\n  ctx.lineTo(...rectPoint4)\n  ctx.lineTo(...rectPoint2)\n  ctx.closePath()\n  ctx.clip()\n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n  ctx.restore()\n}\n\n// 计算鼠标两次移动之间的距离\nconst getDistance = (posX: number, posY: number) => {\n  const lastPosX = lastPos.x\n  const lastPosY = lastPos.y\n  return Math.sqrt((posX - lastPosX) * (posX - lastPosX) + (posY - lastPosY) * (posY - lastPosY))\n}\n\n// 根据鼠标两次移动之间的距离s和时间t计算绘制速度，速度越快，墨迹越细\nconst getLineWidth = (s: number, t: number) => {\n  const maxV = 10\n  const minV = 0.1\n  const maxWidth = props.penSize\n  const minWidth = 3\n  const v = s / t\n  let lineWidth\n\n  if (v <= minV) lineWidth = maxWidth\n  else if (v >= maxV) lineWidth = minWidth\n  else lineWidth = maxWidth - v / maxV * maxWidth\n\n  if (lastLineWidth === -1) return lineWidth\n  return lineWidth * 1 / 3 + lastLineWidth * 2 / 3\n}\n\n// 路径操作\nconst handleMove = (x: number, y: number) => {\n  const time = new Date().getTime()\n\n  if (props.model === 'pen') {\n    const s = getDistance(x, y)\n    const t = time - lastTime\n    const lineWidth = getLineWidth(s, t)\n\n    draw(x, y, lineWidth)\n    lastLineWidth = lineWidth\n  }\n  else if (props.model === 'mark') draw(x, y, props.markSize)\n  else erase(x, y)\n\n  lastPos = { x, y }\n  lastTime = new Date().getTime()\n}\n\n// 获取鼠标在canvas中的相对位置\nconst getMouseOffsetPosition = (e: MouseEvent | TouchEvent) => {\n  if (!canvasRef.value) return [0, 0]\n  const event = e instanceof MouseEvent ? e : e.changedTouches[0]\n  const canvasRect = canvasRef.value.getBoundingClientRect()\n  const x = event.pageX - canvasRect.x\n  const y = event.pageY - canvasRect.y\n  return [x, y]\n}\n\n// 处理鼠标（触摸）事件\n// 准备开始绘制/擦除墨迹（落笔）\nconst handleMousedown = (e: MouseEvent | TouchEvent) => {\n  const [mouseX, mouseY] = getMouseOffsetPosition(e)\n  const x = mouseX / widthScale.value\n  const y = mouseY / heightScale.value\n\n  isMouseDown = true\n  lastPos = { x, y }\n  lastTime = new Date().getTime()\n\n  if (!(e instanceof MouseEvent)) {\n    mouse.value = { x: mouseX, y: mouseY }\n    mouseInCanvas.value = true\n  }\n}\n\n// 开始绘制/擦除墨迹（移动）\nconst handleMousemove = (e: MouseEvent | TouchEvent) => {\n  const [mouseX, mouseY] = getMouseOffsetPosition(e)\n  const x = mouseX / widthScale.value\n  const y = mouseY / heightScale.value\n\n  mouse.value = { x: mouseX, y: mouseY }\n\n  if (isMouseDown) handleMove(x, y)\n}\n\n// 结束绘制/擦除墨迹（停笔）\nconst handleMouseup = () => {\n  if (!isMouseDown) return\n  isMouseDown = false\n  emit('end')\n}\n\n// 清空画布\nconst clearCanvas = () => {\n  if (!ctx || !canvasRef.value) return\n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n  emit('end')\n}\n\n// 获取 DataURL\nconst getImageDataURL = () => {\n  return canvasRef.value?.toDataURL()\n}\n\n// 设置 DataURL（绘制图片到 canvas）\nconst setImageDataURL = (imageDataURL: string) => {\n  if (!ctx || !canvasRef.value) return\n  \n  ctx.clearRect(0, 0, canvasRef.value.width, canvasRef.value.height)\n\n  if (imageDataURL) {\n    ctx.globalCompositeOperation = 'source-over'\n    ctx.globalAlpha = 1\n\n    const img = new Image()\n    img.src = imageDataURL\n    img.onload = () => {\n      ctx!.drawImage(img, 0, 0)\n      updateCtx()\n    }\n  }\n}\n\n__expose({\n  clearCanvas,\n  getImageDataURL,\n  setImageDataURL,\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconWrite = _resolveComponent(\"IconWrite\")!\n  const _component_IconHighLight = _resolveComponent(\"IconHighLight\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"writing-board\",\n    ref_key: \"writingBoardRef\",\n    ref: writingBoardRef\n  }, [\n    (__props.blackboard)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"canvas\", {\n      class: \"canvas\",\n      ref_key: \"canvasRef\",\n      ref: canvasRef,\n      style: _normalizeStyle({\n        width: canvasWidth.value + 'px',\n        height: canvasHeight.value + 'px',\n      }),\n      onMousedown: _cache[0] || (_cache[0] = $event => handleMousedown($event)),\n      onMousemove: _cache[1] || (_cache[1] = $event => handleMousemove($event)),\n      onMouseup: _cache[2] || (_cache[2] = ($event: any) => (handleMouseup())),\n      onTouchstart: _cache[3] || (_cache[3] = $event => handleMousedown($event)),\n      onTouchmove: _cache[4] || (_cache[4] = $event => handleMousemove($event)),\n      onTouchend: _cache[5] || (_cache[5] = ($event: any) => {handleMouseup(); mouseInCanvas.value = false}),\n      onMouseleave: _cache[6] || (_cache[6] = ($event: any) => {handleMouseup(); mouseInCanvas.value = false}),\n      onMouseenter: _cache[7] || (_cache[7] = ($event: any) => (mouseInCanvas.value = true))\n    }, null, 36),\n    (mouseInCanvas.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          (__props.model === 'eraser')\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"eraser\",\n                style: _normalizeStyle({\n          left: mouse.value.x - __props.rubberSize / 2 + 'px',\n          top: mouse.value.y - __props.rubberSize / 2 + 'px',\n          width: __props.rubberSize + 'px',\n          height: __props.rubberSize + 'px',\n        })\n              }, null, 4))\n            : _createCommentVNode(\"\", true),\n          (__props.model === 'pen')\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 1,\n                class: \"pen\",\n                style: _normalizeStyle({\n          left: mouse.value.x - __props.penSize / 2 + 'px',\n          top: mouse.value.y - __props.penSize * 6 + __props.penSize / 2 + 'px',\n          color: __props.color,\n        })\n              }, [\n                (__props.model === 'pen')\n                  ? (_openBlock(), _createBlock(_component_IconWrite, {\n                      key: 0,\n                      class: \"icon\",\n                      size: __props.penSize * 6\n                    }, null, 8, [\"size\"]))\n                  : _createCommentVNode(\"\", true)\n              ], 4))\n            : _createCommentVNode(\"\", true),\n          (__props.model === 'mark')\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 2,\n                class: \"pen\",\n                style: _normalizeStyle({\n          left: mouse.value.x - __props.markSize / 2 + 'px',\n          top: mouse.value.y + 'px',\n          color: __props.color,\n        })\n              }, [\n                (__props.model === 'mark')\n                  ? (_openBlock(), _createBlock(_component_IconHighLight, {\n                      key: 0,\n                      class: \"icon\",\n                      size: __props.markSize * 1.5\n                    }, null, 8, [\"size\"]))\n                  : _createCommentVNode(\"\", true)\n              ], 4))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ], 512))\n}\n}\n\n})","import script from \"./WritingBoard.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./WritingBoard.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./WritingBoard.vue?vue&type=style&index=0&id=3e9669a9&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3e9669a9\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, unref as _unref, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-52a2a3a6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"writing-board-tool\" }\nconst _hoisted_2 = { class: \"tool-content\" }\nconst _hoisted_3 = { class: \"size\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"墨迹粗细：\", -1))\nconst _hoisted_5 = { class: \"size\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"墨迹粗细：\", -1))\nconst _hoisted_7 = { class: \"size\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"橡皮大小：\", -1))\nconst _hoisted_9 = { class: \"colors\" }\nconst _hoisted_10 = [\"onClick\"]\n\nimport { ref, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { db } from '@/utils/database'\n\nimport WritingBoard from '@/components/WritingBoard.vue'\nimport MoveablePanel from '@/components/MoveablePanel.vue'\nimport {\n  Tooltip,\n  Popover,\n  Slider,\n} from 'ant-design-vue'\n\ntype WritingBoardModel = 'pen' | 'mark' | 'eraser'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'WritingBoardTool',\n  props: {\n  slideWidth: {\n    type: Number,\n    required: true,\n  },\n  slideHeight: {\n    type: Number,\n    required: true,\n  },\n  left: {\n    type: Number,\n    default: -5,\n  },\n  top: {\n    type: Number,\n    default: -5,\n  },\n},\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\nconst writingBoardColors = ['#000000', '#ffffff', '#1e497b', '#4e81bb', '#e2534d', '#9aba60', '#8165a0', '#47acc5', '#f9974c', '#ffff3a']\n\n\n\n\n\nconst { currentSlide } = storeToRefs(useSlidesStore())\n\nconst writingBoardRef = ref<typeof WritingBoard>()\nconst writingBoardColor = ref('#e2534d')\nconst writingBoardModel = ref<WritingBoardModel>('pen')\nconst blackboard = ref(false)\nconst sizePopoverType = ref<'' | WritingBoardModel>('')\n\nconst penSize = ref(6)\nconst markSize = ref(24)\nconst rubberSize = ref(80)\n\nconst changeModel = (model: WritingBoardModel) => {\n  if (writingBoardModel.value === model) {\n    sizePopoverType.value = sizePopoverType.value === model ? '' : model\n  }\n  else {\n    if (sizePopoverType.value) sizePopoverType.value = ''\n    writingBoardModel.value = model\n  }\n}\n\n// 清除画布上的墨迹\nconst clearCanvas = () => {\n  writingBoardRef.value!.clearCanvas()\n}\n\n// 修改画笔颜色，如果当前处于橡皮状态则先切换到画笔状态\nconst changeColor = (color: string) => {\n  if (writingBoardModel.value === 'eraser') writingBoardModel.value = 'pen'\n  writingBoardColor.value = color\n}\n\n// 关闭写字板\nconst closeWritingBoard = () => {\n  emit('close')\n}\n\n// 打开画笔工具或切换页面时，将数据库中存储的墨迹绘制到画布上\nwatch(currentSlide, () => {\n  db.writingBoardImgs.where('id').equals(currentSlide.value.id).toArray().then(ret => {\n    const currentImg = ret[0]\n    writingBoardRef.value!.setImageDataURL(currentImg?.dataURL || '')\n  })\n}, { immediate: true })\n\n// 每次绘制完成后将绘制完的图片更新到数据库\nconst hanldeWritingEnd = () => {\n  const dataURL = writingBoardRef.value!.getImageDataURL()\n  db.writingBoardImgs.where('id').equals(currentSlide.value.id).toArray().then(ret => {\n    const currentImg = ret[0]\n    if (currentImg) db.writingBoardImgs.update(currentImg, { dataURL })\n    else db.writingBoardImgs.add({ id: currentSlide.value.id, dataURL })\n  })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconWrite = _resolveComponent(\"IconWrite\")!\n  const _component_IconHighLight = _resolveComponent(\"IconHighLight\")!\n  const _component_IconErase = _resolveComponent(\"IconErase\")!\n  const _component_IconClear = _resolveComponent(\"IconClear\")!\n  const _component_IconFill = _resolveComponent(\"IconFill\")!\n  const _component_IconClose = _resolveComponent(\"IconClose\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"writing-board-wrap\",\n      style: _normalizeStyle({\n        width: __props.slideWidth + 'px',\n        height: __props.slideHeight + 'px',\n      })\n    }, [\n      _createVNode(WritingBoard, {\n        ref_key: \"writingBoardRef\",\n        ref: writingBoardRef,\n        color: writingBoardColor.value,\n        blackboard: blackboard.value,\n        model: writingBoardModel.value,\n        penSize: penSize.value,\n        markSize: markSize.value,\n        rubberSize: rubberSize.value,\n        onEnd: _cache[0] || (_cache[0] = ($event: any) => (hanldeWritingEnd()))\n      }, null, 8, [\"color\", \"blackboard\", \"model\", \"penSize\", \"markSize\", \"rubberSize\"])\n    ], 4),\n    _createVNode(MoveablePanel, {\n      class: \"tools-panel\",\n      width: 520,\n      height: 50,\n      left: __props.left,\n      top: __props.top,\n      moveable: sizePopoverType.value === ''\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", {\n          class: \"tools\",\n          onMousedown: _cache[10] || (_cache[10] = _withModifiers(() => {}, [\"stop\"]))\n        }, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createVNode(_unref(Popover), {\n              trigger: \"click\",\n              visible: sizePopoverType.value === 'pen'\n            }, {\n              content: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _hoisted_4,\n                  _createVNode(_unref(Slider), {\n                    class: \"size-slider\",\n                    min: 4,\n                    max: 10,\n                    step: 2,\n                    value: penSize.value,\n                    \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((penSize).value = $event))\n                  }, null, 8, [\"value\"])\n                ])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(_unref(Tooltip), {\n                  mouseLeaveDelay: 0,\n                  mouseEnterDelay: 0.3,\n                  title: \"画笔\"\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", {\n                      class: _normalizeClass([\"btn\", { 'active': writingBoardModel.value === 'pen' }]),\n                      onClick: _cache[2] || (_cache[2] = ($event: any) => (changeModel('pen')))\n                    }, [\n                      _createVNode(_component_IconWrite, { class: \"icon\" })\n                    ], 2)\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"visible\"]),\n            _createVNode(_unref(Popover), {\n              trigger: \"click\",\n              visible: sizePopoverType.value === 'mark'\n            }, {\n              content: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _hoisted_6,\n                  _createVNode(_unref(Slider), {\n                    class: \"size-slider\",\n                    min: 16,\n                    max: 40,\n                    step: 4,\n                    value: markSize.value,\n                    \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((markSize).value = $event))\n                  }, null, 8, [\"value\"])\n                ])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(_unref(Tooltip), {\n                  mouseLeaveDelay: 0,\n                  mouseEnterDelay: 0.3,\n                  title: \"荧光笔\"\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", {\n                      class: _normalizeClass([\"btn\", { 'active': writingBoardModel.value === 'mark' }]),\n                      onClick: _cache[4] || (_cache[4] = ($event: any) => (changeModel('mark')))\n                    }, [\n                      _createVNode(_component_IconHighLight, { class: \"icon\" })\n                    ], 2)\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"visible\"]),\n            _createVNode(_unref(Popover), {\n              trigger: \"click\",\n              visible: sizePopoverType.value === 'eraser'\n            }, {\n              content: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_7, [\n                  _hoisted_8,\n                  _createVNode(_unref(Slider), {\n                    class: \"size-slider\",\n                    min: 20,\n                    max: 200,\n                    step: 20,\n                    value: rubberSize.value,\n                    \"onUpdate:value\": _cache[5] || (_cache[5] = ($event: any) => ((rubberSize).value = $event))\n                  }, null, 8, [\"value\"])\n                ])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(_unref(Tooltip), {\n                  mouseLeaveDelay: 0,\n                  mouseEnterDelay: 0.3,\n                  title: \"橡皮擦\"\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", {\n                      class: _normalizeClass([\"btn\", { 'active': writingBoardModel.value === 'eraser' }]),\n                      onClick: _cache[6] || (_cache[6] = ($event: any) => (changeModel('eraser')))\n                    }, [\n                      _createVNode(_component_IconErase, { class: \"icon\" })\n                    ], 2)\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"visible\"]),\n            _createVNode(_unref(Tooltip), {\n              mouseLeaveDelay: 0,\n              mouseEnterDelay: 0.3,\n              title: \"清除墨迹\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", {\n                  class: \"btn\",\n                  onClick: _cache[7] || (_cache[7] = ($event: any) => (clearCanvas()))\n                }, [\n                  _createVNode(_component_IconClear, { class: \"icon\" })\n                ])\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(Tooltip), {\n              mouseLeaveDelay: 0,\n              mouseEnterDelay: 0.3,\n              title: \"黑板\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", {\n                  class: _normalizeClass([\"btn\", { 'active': blackboard.value }]),\n                  onClick: _cache[8] || (_cache[8] = ($event: any) => (blackboard.value = !blackboard.value))\n                }, [\n                  _createVNode(_component_IconFill, { class: \"icon\" })\n                ], 2)\n              ]),\n              _: 1\n            }),\n            _createElementVNode(\"div\", _hoisted_9, [\n              (_openBlock(), _createElementBlock(_Fragment, null, _renderList(writingBoardColors, (color) => {\n                return _createElementVNode(\"div\", {\n                  class: _normalizeClass([\"color\", { 'active': color === writingBoardColor.value }]),\n                  key: color,\n                  style: _normalizeStyle({ backgroundColor: color }),\n                  onClick: ($event: any) => (changeColor(color))\n                }, null, 14, _hoisted_10)\n              }), 64))\n            ])\n          ]),\n          _createVNode(_unref(Tooltip), {\n            mouseLeaveDelay: 0,\n            mouseEnterDelay: 0.3,\n            title: \"关闭画笔\"\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", {\n                class: \"btn\",\n                onClick: _cache[9] || (_cache[9] = ($event: any) => (closeWritingBoard()))\n              }, [\n                _createVNode(_component_IconClose, { class: \"icon\" })\n              ])\n            ]),\n            _: 1\n          })\n        ], 32)\n      ]),\n      _: 1\n    }, 8, [\"left\", \"top\", \"moveable\"])\n  ]))\n}\n}\n\n})","import script from \"./WritingBoardTool.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./WritingBoardTool.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./WritingBoardTool.vue?vue&type=style&index=0&id=52a2a3a6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-52a2a3a6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, unref as _unref, withModifiers as _withModifiers, withKeys as _withKeys, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5a82de11\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"header\" }\nconst _hoisted_2 = { class: \"content\" }\nconst _hoisted_3 = { class: \"timer\" }\nconst _hoisted_4 = [\"value\", \"disabled\"]\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"colon\" }, \":\", -1))\nconst _hoisted_6 = { class: \"timer\" }\nconst _hoisted_7 = [\"value\", \"disabled\"]\n\nimport { computed, onUnmounted, ref } from 'vue'\nimport { fillDigit } from '@/utils/common'\n\nimport MoveablePanel from '@/components/MoveablePanel.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CountdownTimer',\n  props: {\n  left: {\n    type: Number,\n    default: 5,\n  },\n  top: {\n    type: Number,\n    default: 5,\n  },\n},\n  emits: [\"close\"],\n  setup(__props, { emit }) {\n\n\n\n\n\nconst timer = ref<number | null>(null)\nconst inTiming = ref(false)\nconst isCountdown = ref(false)\nconst time = ref(0)\nconst minute = computed(() => Math.floor(time.value / 60))\nconst second = computed(() => time.value % 60)\n\nconst inputEditable = computed(() => {\n  return !isCountdown.value || inTiming.value\n})\n\nconst clearTimer = () => {\n  if (timer.value) clearInterval(timer.value)\n}\n\nonUnmounted(clearTimer)\n\nconst pause = () => {\n  clearTimer()\n  inTiming.value = false\n}\n\nconst reset = () => {\n  clearTimer()\n  inTiming.value = false\n  \n  if (isCountdown.value) time.value = 600\n  else time.value = 0\n}\n\nconst start = () => {\n  clearTimer()\n\n  if (isCountdown.value) {\n    timer.value = setInterval(() => {\n      time.value = time.value - 1\n\n      if (time.value <= 0) reset()\n    }, 1000)\n  }\n  else {\n    timer.value = setInterval(() => {\n      time.value = time.value + 1\n\n      if (time.value > 36000) pause()\n    }, 1000)\n  }\n\n  inTiming.value = true\n}\n\nconst toggle = () => {\n  if (inTiming.value) pause()\n  else start()\n}\n\nconst toggleCountdown = () => {\n  isCountdown.value = !isCountdown.value\n  reset()\n}\n\nconst changeTime = (e: FocusEvent | KeyboardEvent, type: 'minute' | 'second') => {\n  const inputRef = e.target as HTMLInputElement\n  let value = inputRef.value\n  const isNumber = /^(\\d)+$/.test(value)\n  if (isNumber) {\n    if (type === 'second' && +value >= 60) value = '59'\n    time.value = type === 'minute' ? (+value * 60 + second.value) : (+value + minute.value * 60)\n  }\n  else inputRef.value = type === 'minute' ? fillDigit(minute.value, 2) : fillDigit(second.value, 2)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconClose = _resolveComponent(\"IconClose\")!\n\n  return (_openBlock(), _createBlock(MoveablePanel, {\n    class: \"countdown-timer\",\n    width: 180,\n    height: 110,\n    left: __props.left,\n    top: __props.top\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"span\", {\n          class: \"text-btn\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (toggle()))\n        }, _toDisplayString(inTiming.value ? '暂停' : '开始'), 1),\n        _createElementVNode(\"span\", {\n          class: \"text-btn\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (reset()))\n        }, \"重置\"),\n        _createElementVNode(\"span\", {\n          class: _normalizeClass([\"text-btn\", { 'active': isCountdown.value }]),\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (toggleCountdown()))\n        }, \"倒计时\", 2)\n      ]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"input\", {\n            type: \"text\",\n            value: _unref(fillDigit)(minute.value, 2),\n            maxlength: 3,\n            disabled: inputEditable.value,\n            onMousedown: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"stop\"])),\n            onBlur: _cache[4] || (_cache[4] = $event => changeTime($event, 'minute')),\n            onKeydown: [\n              _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"stop\"])),\n              _cache[6] || (_cache[6] = _withKeys(_withModifiers($event => changeTime($event, 'minute'), [\"stop\"]), [\"enter\"]))\n            ]\n          }, null, 40, _hoisted_4)\n        ]),\n        _hoisted_5,\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"input\", {\n            type: \"text\",\n            value: _unref(fillDigit)(second.value, 2),\n            maxlength: 3,\n            disabled: inputEditable.value,\n            onMousedown: _cache[7] || (_cache[7] = _withModifiers(() => {}, [\"stop\"])),\n            onBlur: _cache[8] || (_cache[8] = $event => changeTime($event, 'second')),\n            onKeydown: [\n              _cache[9] || (_cache[9] = _withModifiers(() => {}, [\"stop\"])),\n              _cache[10] || (_cache[10] = _withKeys(_withModifiers($event => changeTime($event, 'second'), [\"stop\"]), [\"enter\"]))\n            ]\n          }, null, 40, _hoisted_7)\n        ])\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"close-btn\",\n        onClick: _cache[11] || (_cache[11] = ($event: any) => (emit('close')))\n      }, [\n        _createVNode(_component_IconClose, { class: \"icon\" })\n      ])\n    ]),\n    _: 1\n  }, 8, [\"left\", \"top\"]))\n}\n}\n\n})","import script from \"./CountdownTimer.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CountdownTimer.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./CountdownTimer.vue?vue&type=style&index=0&id=5a82de11&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5a82de11\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDirective as _resolveDirective, createVNode as _createVNode, withDirectives as _withDirectives, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-90ac59d8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tools-left\" }\nconst _hoisted_2 = { class: \"content\" }\n\nimport { PropType, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { enterFullscreen } from '@/utils/fullscreen'\nimport useScreening from '@/hooks/useScreening'\nimport useExecPlay from './hooks/useExecPlay'\nimport useSlideSize from './hooks/useSlideSize'\nimport useFullscreen from './hooks/useFullscreen'\n\nimport ScreenSlideList from './ScreenSlideList.vue'\nimport SlideThumbnails from './SlideThumbnails.vue'\nimport WritingBoardTool from './WritingBoardTool.vue'\nimport CountdownTimer from './CountdownTimer.vue'\nimport { Tooltip } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseView',\n  props: {\n  changeViewMode: {\n    type: Function as PropType<(mode: 'base' | 'presenter') => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { slides, slideIndex } = storeToRefs(useSlidesStore())\n\nconst {\n  autoPlayTimer,\n  autoPlay,\n  closeAutoPlay,\n  mousewheelListener,\n  touchStartListener,\n  touchEndListener,\n  turnPrevSlide,\n  turnNextSlide,\n  turnSlideToIndex,\n  turnSlideToId,\n  execPrev,\n  execNext,\n  animationIndex,\n} = useExecPlay()\n\nconst { slideWidth, slideHeight } = useSlideSize()\nconst { exitScreening } = useScreening()\nconst { fullscreenState, manualExitFullscreen } = useFullscreen()\n\nconst rightToolsVisible = ref(false)\nconst writingBoardToolVisible = ref(false)\nconst timerlVisible = ref(false)\nconst slideThumbnailModelVisible = ref(false)\nconst laserPen = ref(false)\n\nconst contextmenus = (): ContextmenuItem[] => {\n  return [\n    {\n      text: '上一页',\n      subText: '↑ ←',\n      disable: slideIndex.value <= 0,\n      handler: () => turnPrevSlide(),\n    },\n    {\n      text: '下一页',\n      subText: '↓ →',\n      disable: slideIndex.value >= slides.value.length - 1,\n      handler: () => turnNextSlide(),\n    },\n    {\n      text: '第一页',\n      disable: slideIndex.value === 0,\n      handler: () => turnSlideToIndex(0),\n    },\n    {\n      text: '最后一页',\n      disable: slideIndex.value === slides.value.length - 1,\n      handler: () => turnSlideToIndex(slides.value.length - 1),\n    },\n    { divider: true },\n    {\n      text: '显示工具栏',\n      handler: () => rightToolsVisible.value = true,\n    },\n    {\n      text: '查看所有幻灯片',\n      handler: () => slideThumbnailModelVisible.value = true,\n    },\n    {\n      text: '画笔工具',\n      handler: () => writingBoardToolVisible.value = true,\n    },\n    {\n      text: '演讲者视图',\n      handler: () => props.changeViewMode('presenter'),\n    },\n    { divider: true },\n    {\n      text: autoPlayTimer.value ? '取消自动放映' : '自动放映',\n      handler: autoPlayTimer.value ? closeAutoPlay : autoPlay,\n    },\n    {\n      text: '结束放映',\n      subText: 'ESC',\n      handler: exitScreening,\n    },\n  ]\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconLeftTwo = _resolveComponent(\"IconLeftTwo\")!\n  const _component_IconRightTwo = _resolveComponent(\"IconRightTwo\")!\n  const _component_IconWrite = _resolveComponent(\"IconWrite\")!\n  const _component_IconMagic = _resolveComponent(\"IconMagic\")!\n  const _component_IconStopwatchStart = _resolveComponent(\"IconStopwatchStart\")!\n  const _component_IconListView = _resolveComponent(\"IconListView\")!\n  const _component_IconOffScreenOne = _resolveComponent(\"IconOffScreenOne\")!\n  const _component_IconFullScreenOne = _resolveComponent(\"IconFullScreenOne\")!\n  const _component_IconPower = _resolveComponent(\"IconPower\")!\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"base-view\", { 'laser-pen': laserPen.value }])\n  }, [\n    _withDirectives(_createVNode(ScreenSlideList, {\n      slideWidth: _unref(slideWidth),\n      slideHeight: _unref(slideHeight),\n      animationIndex: _unref(animationIndex),\n      turnSlideToId: _unref(turnSlideToId),\n      manualExitFullscreen: _unref(manualExitFullscreen),\n      onWheel: _cache[0] || (_cache[0] = $event => _unref(mousewheelListener)($event)),\n      onTouchstart: _cache[1] || (_cache[1] = $event => _unref(touchStartListener)($event)),\n      onTouchend: _cache[2] || (_cache[2] = $event => _unref(touchEndListener)($event))\n    }, null, 8, [\"slideWidth\", \"slideHeight\", \"animationIndex\", \"turnSlideToId\", \"manualExitFullscreen\"]), [\n      [_directive_contextmenu, contextmenus]\n    ]),\n    (slideThumbnailModelVisible.value)\n      ? (_openBlock(), _createBlock(SlideThumbnails, {\n          key: 0,\n          turnSlideToIndex: _unref(turnSlideToIndex),\n          onClose: _cache[3] || (_cache[3] = ($event: any) => (slideThumbnailModelVisible.value = false))\n        }, null, 8, [\"turnSlideToIndex\"]))\n      : _createCommentVNode(\"\", true),\n    (writingBoardToolVisible.value)\n      ? (_openBlock(), _createBlock(WritingBoardTool, {\n          key: 1,\n          slideWidth: _unref(slideWidth),\n          slideHeight: _unref(slideHeight),\n          onClose: _cache[4] || (_cache[4] = ($event: any) => (writingBoardToolVisible.value = false))\n        }, null, 8, [\"slideWidth\", \"slideHeight\"]))\n      : _createCommentVNode(\"\", true),\n    (timerlVisible.value)\n      ? (_openBlock(), _createBlock(CountdownTimer, {\n          key: 2,\n          onClose: _cache[5] || (_cache[5] = ($event: any) => (timerlVisible.value = false))\n        }))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(_component_IconLeftTwo, {\n        class: \"tool-btn\",\n        theme: \"two-tone\",\n        fill: ['#111', '#fff'],\n        onClick: _cache[6] || (_cache[6] = ($event: any) => (_unref(execPrev)()))\n      }),\n      _createVNode(_component_IconRightTwo, {\n        class: \"tool-btn\",\n        theme: \"two-tone\",\n        fill: ['#111', '#fff'],\n        onClick: _cache[7] || (_cache[7] = ($event: any) => (_unref(execNext)()))\n      })\n    ]),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"tools-right\", { 'visible': rightToolsVisible.value }]),\n      onMouseleave: _cache[16] || (_cache[16] = ($event: any) => (rightToolsVisible.value = false)),\n      onMouseenter: _cache[17] || (_cache[17] = ($event: any) => (rightToolsVisible.value = true))\n    }, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", {\n          class: \"tool-btn page-number\",\n          onClick: _cache[8] || (_cache[8] = ($event: any) => (slideThumbnailModelVisible.value = true))\n        }, \"幻灯片 \" + _toDisplayString(_unref(slideIndex) + 1) + \" / \" + _toDisplayString(_unref(slides).length), 1),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.3,\n          title: \"画笔工具\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconWrite, {\n              class: \"tool-btn\",\n              onClick: _cache[9] || (_cache[9] = ($event: any) => (writingBoardToolVisible.value = true))\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.3,\n          title: \"激光笔\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconMagic, {\n              class: _normalizeClass([\"tool-btn\", { 'active': laserPen.value }]),\n              onClick: _cache[10] || (_cache[10] = ($event: any) => (laserPen.value = !laserPen.value))\n            }, null, 8, [\"class\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.3,\n          title: \"计时器\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconStopwatchStart, {\n              class: _normalizeClass([\"tool-btn\", { 'active': timerlVisible.value }]),\n              onClick: _cache[11] || (_cache[11] = ($event: any) => (timerlVisible.value = !timerlVisible.value))\n            }, null, 8, [\"class\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.3,\n          title: \"演讲者视图\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconListView, {\n              class: \"tool-btn\",\n              onClick: _cache[12] || (_cache[12] = ($event: any) => (__props.changeViewMode('presenter')))\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.3,\n          title: _unref(fullscreenState) ? '退出全屏' : '进入全屏'\n        }, {\n          default: _withCtx(() => [\n            (_unref(fullscreenState))\n              ? (_openBlock(), _createBlock(_component_IconOffScreenOne, {\n                  key: 0,\n                  class: \"tool-btn\",\n                  onClick: _cache[13] || (_cache[13] = ($event: any) => (_unref(manualExitFullscreen)()))\n                }))\n              : (_openBlock(), _createBlock(_component_IconFullScreenOne, {\n                  key: 1,\n                  class: \"tool-btn\",\n                  onClick: _cache[14] || (_cache[14] = ($event: any) => (_unref(enterFullscreen)()))\n                }))\n          ]),\n          _: 1\n        }, 8, [\"title\"]),\n        _createVNode(_unref(Tooltip), {\n          mouseLeaveDelay: 0,\n          mouseEnterDelay: 0.3,\n          title: \"结束放映\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_IconPower, {\n              class: \"tool-btn\",\n              onClick: _cache[15] || (_cache[15] = ($event: any) => (_unref(exitScreening)()))\n            })\n          ]),\n          _: 1\n        })\n      ])\n    ], 34)\n  ], 2))\n}\n}\n\n})","import script from \"./BaseView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseView.vue?vue&type=style&index=0&id=90ac59d8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-90ac59d8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d1578b84\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"presenter-view\" }\nconst _hoisted_2 = { class: \"toolbar\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Normal View\", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Brush\", -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Laser Pen\", -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"timer\", -1))\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"End Screening\", -1))\nconst _hoisted_8 = { class: \"content\" }\nconst _hoisted_9 = [\"onClick\"]\nconst _hoisted_10 = { class: \"remark\" }\nconst _hoisted_11 = { class: \"header\" }\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Speaker Notes\", -1))\nconst _hoisted_13 = [\"innerHTML\"]\nconst _hoisted_14 = { class: \"remark-scale\" }\n\nimport { computed, nextTick, ref, watch, PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { ContextmenuItem } from '@/components/Contextmenu/types'\nimport { enterFullscreen } from '@/utils/fullscreen'\nimport { parseText2Paragraphs } from '@/utils/textParser'\nimport useScreening from '@/hooks/useScreening'\nimport useLoadSlides from '@/hooks/useLoadSlides'\nimport useExecPlay from './hooks/useExecPlay'\nimport useSlideSize from './hooks/useSlideSize'\nimport useFullscreen from './hooks/useFullscreen'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport ScreenSlideList from './ScreenSlideList.vue'\nimport WritingBoardTool from './WritingBoardTool.vue'\nimport CountdownTimer from './CountdownTimer.vue'\nimport { Divider } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PresenterView',\n  props: {\n  changeViewMode: {\n    type: Function as PropType<(mode: 'base' | 'presenter') => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst { slides, slideIndex, viewportRatio, currentSlide } = storeToRefs(useSlidesStore())\n\nconst slideListWrapRef = ref<HTMLElement>()\nconst thumbnailsRef = ref<HTMLElement>()\nconst writingBoardToolVisible = ref(false)\nconst timerVisible = ref(false)\nconst laserPen = ref(false)\n\nconst {\n  mousewheelListener,\n  touchStartListener,\n  touchEndListener,\n  turnPrevSlide,\n  turnNextSlide,\n  turnSlideToIndex,\n  turnSlideToId,\n  animationIndex,\n} = useExecPlay()\n\nconst { slideWidth, slideHeight } = useSlideSize(slideListWrapRef)\nconst { exitScreening } = useScreening()\nconst { slidesLoadLimit } = useLoadSlides()\nconst { fullscreenState, manualExitFullscreen } = useFullscreen()\n\nconst remarkFontSize = ref(16)\nconst currentSlideRemark = computed(() => {\n  return parseText2Paragraphs(currentSlide.value.remark || 'No Remark')\n})\n\nconst handleMousewheelThumbnails = (e: WheelEvent) => {\n  if (!thumbnailsRef.value) return\n  thumbnailsRef.value.scrollBy(e.deltaY, 0)\n}\n\nconst setRemarkFontSize = (fontSize: number) => {\n  if (fontSize < 12 || fontSize > 40) return\n  remarkFontSize.value = fontSize\n}\n\nwatch(slideIndex, () => {\n  nextTick(() => {\n    if (!thumbnailsRef.value) return\n\n    const activeThumbnailRef: HTMLElement | null = thumbnailsRef.value.querySelector('.thumbnail.active')\n    if (!activeThumbnailRef) return\n\n    const width = thumbnailsRef.value.offsetWidth\n    const offsetLeft = activeThumbnailRef.offsetLeft\n    thumbnailsRef.value.scrollTo({ left: offsetLeft - width / 2, behavior: 'smooth' })\n  })\n})\n\nconst contextmenus = (): ContextmenuItem[] => {\n  return [\n    {\n      text: 'Previous page',\n      subText: '↑ ←',\n      disable: slideIndex.value <= 0,\n      handler: () => turnPrevSlide(),\n    },\n    {\n      text: 'Next page',\n      subText: '↓ →',\n      disable: slideIndex.value >= slides.value.length - 1,\n      handler: () => turnNextSlide(),\n    },\n    {\n      text: 'First page',\n      disable: slideIndex.value === 0,\n      handler: () => turnSlideToIndex(0),\n    },\n    {\n      text: 'Last page',\n      disable: slideIndex.value === slides.value.length - 1,\n      handler: () => turnSlideToIndex(slides.value.length - 1),\n    },\n    { divider: true },\n    {\n      text: 'Brush Tool',\n      handler: () => writingBoardToolVisible.value = true,\n    },\n    {\n      text: 'Normal view',\n      handler: () => props.changeViewMode('base'),\n    },\n    { divider: true },\n    {\n      text: 'End the show',\n      subText: 'ESC',\n      handler: exitScreening,\n    },\n  ]\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconListView = _resolveComponent(\"IconListView\")!\n  const _component_IconWrite = _resolveComponent(\"IconWrite\")!\n  const _component_IconMagic = _resolveComponent(\"IconMagic\")!\n  const _component_IconStopwatchStart = _resolveComponent(\"IconStopwatchStart\")!\n  const _component_IconOffScreenOne = _resolveComponent(\"IconOffScreenOne\")!\n  const _component_IconPower = _resolveComponent(\"IconPower\")!\n  const _component_IconMinus = _resolveComponent(\"IconMinus\")!\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n  const _directive_contextmenu = _resolveDirective(\"contextmenu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"tool-btn\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (__props.changeViewMode('base')))\n      }, [\n        _createVNode(_component_IconListView, { class: \"tool-icon\" }),\n        _hoisted_3\n      ]),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"tool-btn\", { 'active': writingBoardToolVisible.value }]),\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (writingBoardToolVisible.value = !writingBoardToolVisible.value))\n      }, [\n        _createVNode(_component_IconWrite, { class: \"tool-icon\" }),\n        _hoisted_4\n      ], 2),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"tool-btn\", { 'active': laserPen.value }]),\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (laserPen.value = !laserPen.value))\n      }, [\n        _createVNode(_component_IconMagic, { class: \"tool-icon\" }),\n        _hoisted_5\n      ], 2),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"tool-btn\", { 'active': _ctx.timerlVisible }]),\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.timerlVisible = !_ctx.timerlVisible))\n      }, [\n        _createVNode(_component_IconStopwatchStart, { class: \"tool-icon\" }),\n        _hoisted_6\n      ], 2),\n      _createElementVNode(\"div\", {\n        class: \"tool-btn\",\n        onClick: _cache[4] || (_cache[4] = () => _unref(fullscreenState) ? _unref(manualExitFullscreen)() : _unref(enterFullscreen)())\n      }, [\n        (_unref(fullscreenState))\n          ? (_openBlock(), _createBlock(_component_IconOffScreenOne, {\n              key: 0,\n              class: \"tool-icon\"\n            }))\n          : (_openBlock(), _createBlock(_component_IconOffScreenOne, {\n              key: 1,\n              class: \"tool-icon\"\n            })),\n        _createElementVNode(\"span\", null, _toDisplayString(_unref(fullscreenState) ? 'Exit fullscreen' : 'fullscreen'), 1)\n      ]),\n      _createVNode(_unref(Divider), { class: \"divider\" }),\n      _createElementVNode(\"div\", {\n        class: \"tool-btn\",\n        onClick: _cache[5] || (_cache[5] = ($event: any) => (_unref(exitScreening)()))\n      }, [\n        _createVNode(_component_IconPower, { class: \"tool-icon\" }),\n        _hoisted_7\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"slide-list-wrap\", { 'laser-pen': laserPen.value }]),\n        ref_key: \"slideListWrapRef\",\n        ref: slideListWrapRef\n      }, [\n        _withDirectives(_createVNode(ScreenSlideList, {\n          slideWidth: _unref(slideWidth),\n          slideHeight: _unref(slideHeight),\n          animationIndex: _unref(animationIndex),\n          turnSlideToId: _unref(turnSlideToId),\n          manualExitFullscreen: _unref(manualExitFullscreen),\n          onWheel: _cache[6] || (_cache[6] = $event => _unref(mousewheelListener)($event)),\n          onTouchstart: _cache[7] || (_cache[7] = $event => _unref(touchStartListener)($event)),\n          onTouchend: _cache[8] || (_cache[8] = $event => _unref(touchEndListener)($event))\n        }, null, 8, [\"slideWidth\", \"slideHeight\", \"animationIndex\", \"turnSlideToId\", \"manualExitFullscreen\"]), [\n          [_directive_contextmenu, contextmenus]\n        ]),\n        (writingBoardToolVisible.value)\n          ? (_openBlock(), _createBlock(WritingBoardTool, {\n              key: 0,\n              slideWidth: _unref(slideWidth),\n              slideHeight: _unref(slideHeight),\n              left: -365,\n              top: -155,\n              onClose: _cache[9] || (_cache[9] = ($event: any) => (writingBoardToolVisible.value = false))\n            }, null, 8, [\"slideWidth\", \"slideHeight\"]))\n          : _createCommentVNode(\"\", true),\n        (_ctx.timerlVisible)\n          ? (_openBlock(), _createBlock(CountdownTimer, {\n              key: 1,\n              left: 75,\n              onClose: _cache[10] || (_cache[10] = ($event: any) => (_ctx.timerlVisible = false))\n            }))\n          : _createCommentVNode(\"\", true)\n      ], 2),\n      _createElementVNode(\"div\", {\n        class: \"thumbnails\",\n        ref_key: \"thumbnailsRef\",\n        ref: thumbnailsRef,\n        onWheel: _cache[11] || (_cache[11] = _withModifiers($event => handleMousewheelThumbnails($event), [\"prevent\"]))\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slides), (slide, index) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: _normalizeClass([\"thumbnail\", { 'active': index === _unref(slideIndex) }]),\n            key: slide.id,\n            onClick: ($event: any) => (_unref(turnSlideToIndex)(index))\n          }, [\n            _createVNode(ThumbnailSlide, {\n              slide: slide,\n              size: 120 / _unref(viewportRatio),\n              visible: index < _unref(slidesLoadLimit)\n            }, null, 8, [\"slide\", \"size\", \"visible\"])\n          ], 10, _hoisted_9))\n        }), 128))\n      ], 544)\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _createElementVNode(\"div\", _hoisted_11, [\n        _hoisted_12,\n        _createElementVNode(\"span\", null, \"P \" + _toDisplayString(_unref(slideIndex) + 1) + \" / \" + _toDisplayString(_unref(slides).length), 1)\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"remark-content\",\n        style: _normalizeStyle({ fontSize: remarkFontSize.value + 'px' }),\n        innerHTML: currentSlideRemark.value\n      }, null, 12, _hoisted_13),\n      _createElementVNode(\"div\", _hoisted_14, [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass(['scale-btn', { 'disable': remarkFontSize.value === 12 }]),\n          onClick: _cache[12] || (_cache[12] = ($event: any) => (setRemarkFontSize(remarkFontSize.value - 2)))\n        }, [\n          _createVNode(_component_IconMinus)\n        ], 2),\n        _createElementVNode(\"div\", {\n          class: _normalizeClass(['scale-btn', { 'disable': remarkFontSize.value === 40 }]),\n          onClick: _cache[13] || (_cache[13] = ($event: any) => (setRemarkFontSize(remarkFontSize.value + 2)))\n        }, [\n          _createVNode(_component_IconPlus)\n        ], 2)\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./PresenterView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./PresenterView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./PresenterView.vue?vue&type=style&index=0&id=d1578b84&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d1578b84\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-07eab3ac\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"super-ppt-screen\" }\n\nimport { onMounted, onUnmounted, ref } from 'vue'\nimport { KEYS } from '@/configs/hotkey'\nimport useScreening from '@/hooks/useScreening'\n\nimport BaseView from './BaseView.vue'\nimport PresenterView from './PresenterView.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst viewMode = ref<'base' | 'presenter'>('base')\n\nconst changeViewMode = (mode: 'base' | 'presenter') => {\n  viewMode.value = mode\n}\n\nconst { exitScreening } = useScreening()\n\n// 快捷键退出放映\nconst keydownListener = (e: KeyboardEvent) => {\n  const key = e.key.toUpperCase()\n  if (key === KEYS.ESC) exitScreening()\n}\n\nonMounted(() => document.addEventListener('keydown', keydownListener))\nonUnmounted(() => document.removeEventListener('keydown', keydownListener))\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (viewMode.value === 'base')\n      ? (_openBlock(), _createBlock(BaseView, {\n          key: 0,\n          changeViewMode: changeViewMode\n        }))\n      : (viewMode.value === 'presenter')\n        ? (_openBlock(), _createBlock(PresenterView, {\n            key: 1,\n            changeViewMode: changeViewMode\n          }))\n        : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=07eab3ac&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-07eab3ac\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, PropType } from 'vue'\nimport { ElementTypes, PPTElement } from '@/types/slides'\n\nimport ImageElement from '@/views/components/element/ImageElement/index.vue'\nimport TextElement from '@/views/components/element/TextElement/index.vue'\nimport ShapeElement from '@/views/components/element/ShapeElement/index.vue'\nimport LineElement from '@/views/components/element/LineElement/index.vue'\nimport ChartElement from '@/views/components/element/ChartElement/index.vue'\nimport TableElement from '@/views/components/element/TableElement/index.vue'\nimport LatexElement from '@/views/components/element/LatexElement/index.vue'\nimport VideoElement from '@/views/components/element/VideoElement/index.vue'\nimport AudioElement from '@/views/components/element/AudioElement/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MobileEditableElement',\n  props: {\n  elementInfo: {\n    type: Object as PropType<PPTElement>,\n    required: true,\n  },\n  elementIndex: {\n    type: Number,\n    required: true,\n  },\n  selectElement: {\n    type: Function as PropType<(e: TouchEvent, element: PPTElement, canMove?: boolean) => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst currentElementComponent = computed(() => {\n  const elementTypeMap = {\n    [ElementTypes.IMAGE]: ImageElement,\n    [ElementTypes.TEXT]: TextElement,\n    [ElementTypes.SHAPE]: ShapeElement,\n    [ElementTypes.LINE]: LineElement,\n    [ElementTypes.CHART]: ChartElement,\n    [ElementTypes.TABLE]: TableElement,\n    [ElementTypes.LATEX]: LatexElement,\n    [ElementTypes.VIDEO]: VideoElement,\n    [ElementTypes.AUDIO]: AudioElement,\n  }\n  return elementTypeMap[props.elementInfo.type] || null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"mobile-editable-element\",\n    style: _normalizeStyle({\n      zIndex: __props.elementIndex,\n    })\n  }, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentElementComponent.value), {\n      elementInfo: __props.elementInfo,\n      selectElement: __props.selectElement,\n      contextmenus: () => null\n    }, null, 8, [\"elementInfo\", \"selectElement\"]))\n  ], 4))\n}\n}\n\n})","import script from \"./MobileEditableElement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MobileEditableElement.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport { PropType, computed } from 'vue'\nimport { PPTElement, PPTLineElement } from '@/types/slides'\nimport useCommonOperate from '@/views/Editor/Canvas/hooks/useCommonOperate'\nimport { OperateResizeHandlers } from '@/types/edit'\n\nimport BorderLine from '@/views/Editor/Canvas/Operate/BorderLine.vue'\nimport ResizeHandler from '@/views/Editor/Canvas/Operate/ResizeHandler.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MobileOperate',\n  props: {\n  elementInfo: {\n    type: Object as PropType<Exclude<PPTElement, PPTLineElement>>,\n    required: true,\n  },\n  isSelected: {\n    type: Boolean,\n    required: true,\n  },\n  canvasScale: {\n    type: Number,\n    required: true,\n  },\n  scaleElement: {\n    type: Function as PropType<(e: MouseEvent, element: Exclude<PPTElement, PPTLineElement>, command: OperateResizeHandlers) => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst rotate = computed(() => 'rotate' in props.elementInfo ? props.elementInfo.rotate : 0)\n\nconst scaleWidth = computed(() => props.elementInfo.width * props.canvasScale)\nconst scaleHeight = computed(() => props.elementInfo.height * props.canvasScale)\nconst {\n  borderLines,\n  resizeHandlers: _resizeHandlers,\n  textElementResizeHandlers,\n} = useCommonOperate(scaleWidth, scaleHeight)\n\nconst resizeHandlers = props.elementInfo.type === 'text' || props.elementInfo.type === 'table' ? textElementResizeHandlers : _resizeHandlers\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"mobile-operate\",\n    style: _normalizeStyle({\n      top: __props.elementInfo.top * __props.canvasScale + 'px',\n      left: __props.elementInfo.left * __props.canvasScale + 'px',\n      transform: `rotate(${rotate.value}deg)`,\n      transformOrigin: `${__props.elementInfo.width * __props.canvasScale / 2}px ${__props.elementInfo.height * __props.canvasScale / 2}px`,\n    })\n  }, [\n    (__props.isSelected)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(borderLines), (line) => {\n            return (_openBlock(), _createBlock(BorderLine, {\n              class: \"operate-border-line\",\n              key: line.type,\n              type: line.type,\n              style: _normalizeStyle(line.style)\n            }, null, 8, [\"type\", \"style\"]))\n          }), 128)),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(resizeHandlers), (point) => {\n            return (_openBlock(), _createBlock(ResizeHandler, {\n              class: \"operate-resize-handler\",\n              key: point.direction,\n              type: point.direction,\n              rotate: __props.elementInfo.rotate,\n              style: _normalizeStyle(point.style),\n              onTouchstart: _withModifiers($event => __props.scaleElement($event, __props.elementInfo, point.direction), [\"stop\"])\n            }, null, 8, [\"type\", \"rotate\", \"style\", \"onTouchstart\"]))\n          }), 128))\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}\n}\n\n})","import script from \"./MobileOperate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MobileOperate.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MobileOperate.vue?vue&type=style&index=0&id=7fdc6c04&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7fdc6c04\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-fe4b1cf8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"slide-toolbar\" }\nconst _hoisted_2 = { class: \"remark\" }\nconst _hoisted_3 = [\"value\"]\nconst _hoisted_4 = { class: \"toolbar\" }\n\nimport { computed } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useSlideHandler from '@/hooks/useSlideHandler'\nimport useCreateElement from '@/hooks/useCreateElement'\nimport { getImageDataURL } from '@/utils/image'\nimport { ShapePoolItem } from '@/configs/shapes'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\n\nimport MobileThumbnails from '../MobileThumbnails.vue'\nimport FileInput from '@/components/FileInput.vue'\nimport { Button } from 'ant-design-vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SlideToolbar',\n  setup(__props) {\n\nconst ButtonGroup = Button.Group\n\nconst slidesStore = useSlidesStore()\nconst { viewportRatio, currentSlide } = storeToRefs(slidesStore)\n\nconst { createSlide, copyAndPasteSlide, deleteSlide, } = useSlideHandler()\nconst { createTextElement, createImageElement, createShapeElement } = useCreateElement()\n\nconst insertTextElement = () => {\n  const width = 400\n  const height = 56\n\n  createTextElement({\n    left: (VIEWPORT_SIZE - width) / 2,\n    top: (VIEWPORT_SIZE * viewportRatio. value - height) / 2,\n    width,\n    height,\n  }, { content: '<p>Add new text</p>' })\n}\n\nconst insertImageElement = (files: FileList) => {\n  if (!files || !files[0]) return\n  getImageDataURL(files[0]).then(dataURL => createImageElement(dataURL))\n}\n\nconst insertShapeElement = (type: 'square' | 'round') => {\n  const square: ShapePoolItem = {\n    viewBox: [200, 200],\n    path: 'M 0 0 L 200 0 L 200 200 L 0 200 Z',\n  }\n  const round: ShapePoolItem = {\n    viewBox: [200, 200],\n    path: 'M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z',\n  }\n  const shape = { square, round }\n\n  const size = 200\n\n  createShapeElement({\n    left: (VIEWPORT_SIZE - size) / 2,\n    top: (VIEWPORT_SIZE * viewportRatio. value - size) / 2,\n    width: size,\n    height: size,\n  }, shape[type])\n}\n\nconst remark = computed(() => currentSlide.value?.remark || '')\n\nconst handleInputMark = (e: Event) => {\n  const value = (e.target as HTMLTextAreaElement).value\n  slidesStore. updateSlide({ remark: value })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconPlus = _resolveComponent(\"IconPlus\")!\n  const _component_IconCopy = _resolveComponent(\"IconCopy\")!\n  const _component_IconDelete = _resolveComponent(\"IconDelete\")!\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconPicture = _resolveComponent(\"IconPicture\")!\n  const _component_IconSquare = _resolveComponent(\"IconSquare\")!\n  const _component_IconRound = _resolveComponent(\"IconRound\")!\n  const _component_Mobile = _resolveComponent(\"Mobile\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"textarea\", {\n        value: remark.value,\n        placeholder: \"Click to enter speaker notes\",\n        onInput: _cache[0] || (_cache[0] = $event => handleInputMark($event))\n      }, null, 40, _hoisted_3)\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(Button), {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_unref(createSlide)()))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconPlus, { class: \"icon\" }),\n              _createTextVNode(\" new slideshow\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(Button), {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (_unref(copyAndPasteSlide)()))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconCopy, { class: \"icon\" }),\n              _createTextVNode(\" Copy\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(Button), {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_unref(deleteSlide)()))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconDelete, { class: \"icon\" }),\n              _createTextVNode(\" delete\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(Button), {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[4] || (_cache[4] = ($event: any) => (insertTextElement()))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconFontSize, { class: \"icon\" }),\n              _createTextVNode(\"text\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(Button), { style: {\"flex\":\"1\"} }, {\n            default: _withCtx(() => [\n              _createVNode(FileInput, {\n                onChange: _cache[5] || (_cache[5] = files => insertImageElement(files))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_IconPicture, { class: \"icon\" }),\n                  _createTextVNode(\" picture \")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(Button), {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[6] || (_cache[6] = ($event: any) => (insertShapeElement('square')))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconSquare, { class: \"icon\" }),\n              _createTextVNode(\" rectangle\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(Button), {\n            style: {\"flex\":\"1\"},\n            onClick: _cache[7] || (_cache[7] = ($event: any) => (insertShapeElement('round')))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_IconRound, { class: \"icon\" }),\n              _createTextVNode(\" round\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_component_Mobile, { Thumbnails: \"\" })\n  ]))\n}\n}\n\n})","import script from \"./SlideToolbar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SlideToolbar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SlideToolbar.vue?vue&type=style&index=0&id=fe4b1cf8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fe4b1cf8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-08adb0b5\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"element-toolbar\" }\nconst _hoisted_2 = { class: \"tabs\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"content\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"style\"\n}\nconst _hoisted_6 = { class: \"row-block\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"Text color:\", -1))\nconst _hoisted_8 = { class: \"colors\" }\nconst _hoisted_9 = [\"onClick\"]\nconst _hoisted_10 = { class: \"row-block\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, \"Fill color:\", -1))\nconst _hoisted_12 = { class: \"colors\" }\nconst _hoisted_13 = [\"onClick\"]\nconst _hoisted_14 = {\n  key: 1,\n  class: \"common\"\n}\n\nimport { ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElement, TableCell } from '@/types/slides'\nimport { ElementAlignCommands, ElementOrderCommands } from '@/types/edit'\nimport emitter, { EmitterEvents } from '@/utils/emitter'\nimport useOrderElement from '@/hooks/useOrderElement'\nimport useAlignElementToCanvas from '@/hooks/useAlignElementToCanvas'\nimport useDeleteElement from '@/hooks/useDeleteElement'\nimport useAddSlidesOrElements from '@/hooks/useAddSlidesOrElements'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\nimport CheckboxButton from '@/components/CheckboxButton.vue'\nimport CheckboxButtonGroup from '@/components/CheckboxButtonGroup.vue'\nimport {\n  Divider,\n  Button,\n  Radio,\n} from 'ant-design-vue'\ninterface TabItem {\n  key: 'style' | 'common'\n  label: string\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ElementToolbar',\n  setup(__props) {\n\nconst { Group: RadioGroup, Button: RadioButton } = Radio\nconst ButtonGroup = Button.Group\n\nconst colors = ['#000000', '#ffffff', '#eeece1', '#1e497b', '#4e81bb', '#e2534d', '#9aba60', '#8165a0', '#47acc5', '#f9974c', '#c21401', '#ff1e02', '#ffc12a', '#ffff3a', '#90cf5b', '#00af57']\n\nconst mainStore = useMainStore()\nconst slidesStore = useSlidesStore()\nconst { handleElement, handleElementId, richTextAttrs } = storeToRefs(mainStore)\n\nconst { addHistorySnapshot } = useHistorySnapshot()\n\nconst updateElement = (id: string, props: Partial<PPTElement>) => {\n  slidesStore.updateElement({ id, props })\n  addHistorySnapshot()\n}\n\nconst tabs: TabItem[] = [\n  { key: 'style', label: 'style' },\n  { key: 'common', label: 'layout' },\n]\nconst activeTab = ref('common')\n\nconst { orderElement } = useOrderElement()\nconst { alignElementToCanvas } = useAlignElementToCanvas()\nconst { addElementsFromData } = useAddSlidesOrElements()\nconst { deleteElement } = useDeleteElement()\n\nconst copyElement = () => {\n  const element: PPTElement = JSON.parse(JSON.stringify(handleElement.value))\n  addElementsFromData([element])\n}\n\nconst emitRichTextCommand = (command: string, value?: string) => {\n  emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command, value } })\n}\n\nconst updateFontColor = (color: string) => {\n  if (!handleElement.value) return\n  if (handleElement.value.type === 'text' || (handleElement.value.type === 'shape' && handleElement.value.text?.content)) {\n    emitter.emit(EmitterEvents.RICH_TEXT_COMMAND, { action: { command: 'color', value: color } })\n  }\n  if (handleElement.value.type === 'table') {\n    const data: TableCell[][] = JSON.parse(JSON.stringify(handleElement.value.data))\n    for (let i = 0; i < data.length; i++) {\n      for (let j = 0; j < data[i].length; j++) {\n        const style = data[i][j].style || {}\n        data[i][j].style = { ...style, color }\n      }\n    }\n    updateElement(handleElementId.value, { data })\n  }\n  if (handleElement.value.type === 'latex') {\n    updateElement(handleElementId.value, { color })\n  }\n}\n\nconst updateFill = (color: string) => {\n  if (!handleElement.value) return\n  if (\n    handleElement.value.type === 'text' ||\n    handleElement.value.type === 'shape' ||\n    handleElement.value.type === 'chart'\n  ) updateElement(handleElementId.value, { fill: color })\n\n  if (handleElement.value.type === 'table') {\n    const data: TableCell[][] = JSON.parse(JSON.stringify(handleElement.value.data))\n    for (let i = 0; i < data.length; i++) {\n      for (let j = 0; j < data[i].length; j++) {\n        const style = data[i][j].style || {}\n        data[i][j].style = { ...style, backcolor: color }\n      }\n    }\n    updateElement(handleElementId.value, { data })\n  }\n\n  if (handleElement.value.type === 'audio') updateElement(handleElementId.value, { color })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconTextBold = _resolveComponent(\"IconTextBold\")!\n  const _component_IconTextItalic = _resolveComponent(\"IconTextItalic\")!\n  const _component_IconTextUnderline = _resolveComponent(\"IconTextUnderline\")!\n  const _component_IconStrikethrough = _resolveComponent(\"IconStrikethrough\")!\n  const _component_IconFontSize = _resolveComponent(\"IconFontSize\")!\n  const _component_IconAlignTextLeft = _resolveComponent(\"IconAlignTextLeft\")!\n  const _component_IconAlignTextCenter = _resolveComponent(\"IconAlignTextCenter\")!\n  const _component_IconAlignTextRight = _resolveComponent(\"IconAlignTextRight\")!\n  const _component_IconCopy = _resolveComponent(\"IconCopy\")!\n  const _component_IconDelete = _resolveComponent(\"IconDelete\")!\n  const _component_IconSendToBack = _resolveComponent(\"IconSendToBack\")!\n  const _component_IconBringToFrontOne = _resolveComponent(\"IconBringToFrontOne\")!\n  const _component_IconBringToFront = _resolveComponent(\"IconBringToFront\")!\n  const _component_IconSentToBack = _resolveComponent(\"IconSentToBack\")!\n  const _component_IconAlignLeft = _resolveComponent(\"IconAlignLeft\")!\n  const _component_IconAlignVertically = _resolveComponent(\"IconAlignVertically\")!\n  const _component_IconAlignRight = _resolveComponent(\"IconAlignRight\")!\n  const _component_IconAlignTop = _resolveComponent(\"IconAlignTop\")!\n  const _component_IconAlignHorizontally = _resolveComponent(\"IconAlignHorizontally\")!\n  const _component_IconAlignBottom = _resolveComponent(\"IconAlignBottom\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(tabs, (item) => {\n        return _createElementVNode(\"div\", {\n          class: _normalizeClass([\"tab\", { 'active': activeTab.value === item.key }]),\n          key: item.key,\n          onClick: ($event: any) => (activeTab.value = item.key)\n        }, _toDisplayString(item.label), 11, _hoisted_3)\n      }), 64))\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      (activeTab.value === 'style')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createVNode(CheckboxButtonGroup, { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(CheckboxButton, {\n                  style: {\"flex\":\"1\"},\n                  checked: _unref(richTextAttrs).bold,\n                  onClick: _cache[0] || (_cache[0] = ($event: any) => (emitRichTextCommand('bold')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconTextBold)\n                  ]),\n                  _: 1\n                }, 8, [\"checked\"]),\n                _createVNode(CheckboxButton, {\n                  style: {\"flex\":\"1\"},\n                  checked: _unref(richTextAttrs).em,\n                  onClick: _cache[1] || (_cache[1] = ($event: any) => (emitRichTextCommand('em')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconTextItalic)\n                  ]),\n                  _: 1\n                }, 8, [\"checked\"]),\n                _createVNode(CheckboxButton, {\n                  style: {\"flex\":\"1\"},\n                  checked: _unref(richTextAttrs).underline,\n                  onClick: _cache[2] || (_cache[2] = ($event: any) => (emitRichTextCommand('underline')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconTextUnderline)\n                  ]),\n                  _: 1\n                }, 8, [\"checked\"]),\n                _createVNode(CheckboxButton, {\n                  style: {\"flex\":\"1\"},\n                  checked: _unref(richTextAttrs).strikethrough,\n                  onClick: _cache[3] || (_cache[3] = ($event: any) => (emitRichTextCommand('strikethrough')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconStrikethrough)\n                  ]),\n                  _: 1\n                }, 8, [\"checked\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"2\"},\n                  onClick: _cache[4] || (_cache[4] = ($event: any) => (emitRichTextCommand('fontsize-add')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconFontSize),\n                    _createTextVNode(\"+ \")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"2\"},\n                  onClick: _cache[5] || (_cache[5] = ($event: any) => (emitRichTextCommand('fontsize-reduce')))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconFontSize),\n                    _createTextVNode(\"- \")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(Divider), { style: {\"margin\":\"20px 0\"} }),\n            _createVNode(_unref(RadioGroup), {\n              class: \"row\",\n              \"button-style\": \"solid\",\n              value: _unref(richTextAttrs).align,\n              onChange: _cache[6] || (_cache[6] = e => emitRichTextCommand('align', e.target.value))\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(RadioButton), {\n                  value: \"left\",\n                  style: {\"flex\":\"1\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignTextLeft)\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(RadioButton), {\n                  value: \"center\",\n                  style: {\"flex\":\"1\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignTextCenter)\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(RadioButton), {\n                  value: \"right\",\n                  style: {\"flex\":\"1\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignTextRight)\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"value\"]),\n            _createVNode(_unref(Divider), { style: {\"margin\":\"20px 0\"} }),\n            _createElementVNode(\"div\", _hoisted_6, [\n              _hoisted_7,\n              _createElementVNode(\"div\", _hoisted_8, [\n                (_openBlock(), _createElementBlock(_Fragment, null, _renderList(colors, (color) => {\n                  return _createElementVNode(\"div\", {\n                    class: \"color\",\n                    key: color,\n                    onClick: ($event: any) => (updateFontColor(color))\n                  }, [\n                    _createElementVNode(\"div\", {\n                      class: \"color-block\",\n                      style: _normalizeStyle({ backgroundColor: color })\n                    }, null, 4)\n                  ], 8, _hoisted_9)\n                }), 64))\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_10, [\n              _hoisted_11,\n              _createElementVNode(\"div\", _hoisted_12, [\n                (_openBlock(), _createElementBlock(_Fragment, null, _renderList(colors, (color) => {\n                  return _createElementVNode(\"div\", {\n                    class: \"color\",\n                    key: color,\n                    onClick: ($event: any) => (updateFill(color))\n                  }, [\n                    _createElementVNode(\"div\", {\n                      class: \"color-block\",\n                      style: _normalizeStyle({ backgroundColor: color })\n                    }, null, 4)\n                  ], 8, _hoisted_13)\n                }), 64))\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"\", true),\n      (activeTab.value === 'common')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n            _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[7] || (_cache[7] = ($event: any) => (copyElement()))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconCopy, { class: \"icon\" }),\n                    _createTextVNode(\" Copy \")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[8] || (_cache[8] = ($event: any) => (_unref(deleteElement)()))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconDelete, { class: \"icon\" }),\n                    _createTextVNode(\" delete \")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(Divider), { style: {\"margin\":\"20px 0\"} }),\n            _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[9] || (_cache[9] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).TOP)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconSendToBack, { class: \"icon\" }),\n                    _createTextVNode(\"Top \")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[10] || (_cache[10] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).BOTTOM)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconBringToFrontOne, { class: \"icon\" }),\n                    _createTextVNode(\" Bottom \")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[11] || (_cache[11] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).UP)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconBringToFront, { class: \"icon\" }),\n                    _createTextVNode(\" move up \")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[12] || (_cache[12] = ($event: any) => (_unref(orderElement)(_unref(handleElement)!, _unref(ElementOrderCommands).DOWN)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconSentToBack, { class: \"icon\" }),\n                    _createTextVNode(\" move down \")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(Divider), { style: {\"margin\":\"20px 0\"} }),\n            _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[13] || (_cache[13] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).LEFT)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignLeft, { class: \"icon\" }),\n                    _createTextVNode(\" left alignment \")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[14] || (_cache[14] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).HORIZONTAL)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignVertically, { class: \"icon\" }),\n                    _createTextVNode(\" horizontally centered \")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[15] || (_cache[15] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).RIGHT)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignRight, { class: \"icon\" }),\n                    _createTextVNode(\" Right alignment \")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(ButtonGroup), { class: \"row\" }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[16] || (_cache[16] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).TOP)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignTop, { class: \"icon\" }),\n                    _createTextVNode(\" top alignment \")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[17] || (_cache[17] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).VERTICAL)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignHorizontally, { class: \"icon\" }),\n                    _createTextVNode(\" vertically centered \")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(Button), {\n                  style: {\"flex\":\"1\"},\n                  onClick: _cache[18] || (_cache[18] = ($event: any) => (_unref(alignElementToCanvas)(_unref(ElementAlignCommands).BOTTOM)))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_IconAlignBottom, { class: \"icon\" }),\n                    _createTextVNode(\" Bottom alignment \")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./ElementToolbar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ElementToolbar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ElementToolbar.vue?vue&type=style&index=0&id=08adb0b5&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-08adb0b5\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8639f30e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"mobile-editor-header\" }\nconst _hoisted_2 = { class: \"history\" }\n\nimport { PropType } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSnapshotStore } from '@/store'\nimport { Mode } from '@/types/mobile'\nimport useHistorySnapshot from '@/hooks/useHistorySnapshot'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Header',\n  props: {\n  changeMode: {\n    type: Function as PropType<(mode: Mode) => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nconst { canUndo, canRedo } = storeToRefs(useSnapshotStore())\nconst { redo, undo } = useHistorySnapshot()\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconBack = _resolveComponent(\"IconBack\")!\n  const _component_IconNext = _resolveComponent(\"IconNext\")!\n  const _component_IconLogout = _resolveComponent(\"IconLogout\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"history-item\", { 'disable': !_unref(canUndo) }]),\n        onClick: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (_unref(undo)()), [\"stop\"]))\n      }, [\n        _createVNode(_component_IconBack),\n        _createTextVNode(\" 撤销\")\n      ], 2),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"history-item\", { 'disable': !_unref(canRedo) }]),\n        onClick: _cache[1] || (_cache[1] = _withModifiers(($event: any) => (_unref(redo)()), [\"stop\"]))\n      }, [\n        _createVNode(_component_IconNext),\n        _createTextVNode(\" 重做\")\n      ], 2)\n    ]),\n    _createElementVNode(\"div\", {\n      class: \"back\",\n      onClick: _cache[2] || (_cache[2] = ($event: any) => (__props.changeMode('preview')))\n    }, [\n      _createVNode(_component_IconLogout),\n      _createTextVNode(\" 退出编辑\")\n    ])\n  ]))\n}\n}\n\n})","import script from \"./Header.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Header.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=8639f30e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8639f30e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8cdcde82\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"mobile-editor\" }\n\nimport { computed, onMounted, PropType, ref, watchEffect } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useMainStore, useSlidesStore } from '@/store'\nimport { PPTElement } from '@/types/slides'\nimport { AlignmentLineProps } from '@/types/edit'\nimport { Mode } from '@/types/mobile'\nimport { VIEWPORT_SIZE } from '@/configs/canvas'\nimport useSlideBackgroundStyle from '@/hooks/useSlideBackgroundStyle'\nimport useDragElement from '@/views/Editor/Canvas/hooks/useDragElement'\nimport useScaleElement from '@/views/Editor/Canvas/hooks/useScaleElement'\n\nimport AlignmentLine from '@/views/Editor/Canvas/AlignmentLine.vue'\nimport MobileEditableElement from './MobileEditableElement.vue'\nimport MobileOperate from './MobileOperate.vue'\nimport SlideToolbar from './SlideToolbar.vue'\nimport ElementToolbar from './ElementToolbar.vue'\nimport Header from './Header.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  changeMode: {\n    type: Function as PropType<(mode: Mode) => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nconst slidesStore = useSlidesStore()\nconst mainStore = useMainStore()\nconst { slideIndex, currentSlide, viewportRatio } = storeToRefs(slidesStore)\nconst { activeElementIdList, handleElement } = storeToRefs(mainStore)\n\nconst contentRef = ref<HTMLElement>()\n\nconst alignmentLines = ref<AlignmentLineProps[]>([])\n\nconst background = computed(() => currentSlide.value.background)\nconst { backgroundStyle } = useSlideBackgroundStyle(background)\n\nconst canvasScale = computed(() => {\n  if (!contentRef.value) return 1\n  const contentWidth = contentRef.value.clientWidth\n  const contentheight = contentRef.value.clientHeight\n\n  const contentRatio = contentheight / contentWidth\n  if (contentRatio >= viewportRatio.value) return (contentWidth - 20) / VIEWPORT_SIZE\n  return (contentheight - 20) / viewportRatio.value / VIEWPORT_SIZE\n})\n\nonMounted(() => {\n  if (activeElementIdList.value.length) mainStore.setActiveElementIdList([])\n  if (slideIndex.value !== 0) slidesStore.updateSlideIndex(0)\n})\n\nconst viewportStyles = computed(() => ({\n  width: VIEWPORT_SIZE * canvasScale.value + 'px',\n  height: VIEWPORT_SIZE * viewportRatio.value * canvasScale.value + 'px',\n}))\n\nconst elementList = ref<PPTElement[]>([])\nconst setLocalElementList = () => {\n  elementList.value = currentSlide.value ? JSON.parse(JSON.stringify(currentSlide.value.elements)) : []\n}\nwatchEffect(setLocalElementList)\n\nconst { dragElement } = useDragElement(elementList, alignmentLines, canvasScale)\nconst { scaleElement } = useScaleElement(elementList, alignmentLines, canvasScale)\n\nconst selectElement = (e: TouchEvent, element: PPTElement, startMove = true) => {\n  if (!activeElementIdList.value.includes(element.id)) {\n    mainStore.setActiveElementIdList([element.id])\n    mainStore.setHandleElementId(element.id)\n  }\n  if (startMove) dragElement(e, element)\n}\n\nconst handleClickBlankArea = () => {\n  mainStore.setActiveElementIdList([])\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Header, { changeMode: __props.changeMode }, null, 8, [\"changeMode\"]),\n    _createElementVNode(\"div\", {\n      class: \"content\",\n      ref_key: \"contentRef\",\n      ref: contentRef,\n      onTouchstart: _cache[0] || (_cache[0] = ($event: any) => (handleClickBlankArea()))\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"viewport-wrapper\",\n        style: _normalizeStyle(viewportStyles.value)\n      }, [\n        _createElementVNode(\"div\", {\n          class: \"background\",\n          style: _normalizeStyle(_unref(backgroundStyle))\n        }, null, 4),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(alignmentLines.value, (line, index) => {\n          return (_openBlock(), _createBlock(AlignmentLine, {\n            key: index,\n            type: line.type,\n            axis: line.axis,\n            length: line.length,\n            canvasScale: canvasScale.value\n          }, null, 8, [\"type\", \"axis\", \"length\", \"canvasScale\"]))\n        }), 128)),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elementList.value, (element) => {\n          return (_openBlock(), _createElementBlock(_Fragment, {\n            key: element.id\n          }, [\n            (element.type !== 'line')\n              ? (_openBlock(), _createBlock(MobileOperate, {\n                  key: 0,\n                  elementInfo: element,\n                  isSelected: _unref(activeElementIdList).includes(element.id),\n                  canvasScale: canvasScale.value,\n                  scaleElement: _unref(scaleElement)\n                }, null, 8, [\"elementInfo\", \"isSelected\", \"canvasScale\", \"scaleElement\"]))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        }), 128)),\n        _createElementVNode(\"div\", {\n          class: \"viewport\",\n          style: _normalizeStyle({ transform: `scale(${canvasScale.value})` })\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elementList.value, (element, index) => {\n            return (_openBlock(), _createBlock(MobileEditableElement, {\n              key: element.id,\n              elementInfo: element,\n              elementIndex: index + 1,\n              selectElement: selectElement\n            }, null, 8, [\"elementInfo\", \"elementIndex\"]))\n          }), 128))\n        ], 4)\n      ], 4)\n    ], 544),\n    _createVNode(SlideToolbar),\n    (_unref(handleElement))\n      ? (_openBlock(), _createBlock(ElementToolbar, { key: 0 }))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=8cdcde82&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8cdcde82\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2c80920e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"mobile-thumbnails\" }\nconst _hoisted_2 = [\"onClick\"]\nconst _hoisted_3 = { class: \"label\" }\n\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useLoadSlides from '@/hooks/useLoadSlides'\nimport useSlideHandler from '@/hooks/useSlideHandler'\n\nimport Draggable from 'vuedraggable'\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MobileThumbnails',\n  setup(__props) {\n\nconst slidesStore = useSlidesStore()\nconst { slides, slideIndex } = storeToRefs(slidesStore)\n\nconst { sortSlides } = useSlideHandler()\n\nconst { slidesLoadLimit } = useLoadSlides()\nconst changeSlideIndex = (index: number) => {\n  slidesStore.updateSlideIndex(index)\n}\n\n// 拖拽调整顺序后进行数据的同步\nconst handleDragEnd = (eventData: { newIndex: number; oldIndex: number }) => {\n  const { newIndex, oldIndex } = eventData\n  if (newIndex === undefined || oldIndex === undefined || newIndex === oldIndex) return\n  sortSlides(newIndex, oldIndex)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(Draggable), {\n      class: \"thumbnail-list\",\n      modelValue: _unref(slides),\n      animation: 200,\n      scroll: true,\n      scrollSensitivity: 50,\n      delayOnTouchOnly: true,\n      delay: 800,\n      itemKey: \"id\",\n      onEnd: handleDragEnd\n    }, {\n      item: _withCtx(({ element, index }) => [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"thumbnail-item\", { 'active': _unref(slideIndex) === index }]),\n          onClick: ($event: any) => (changeSlideIndex(index))\n        }, [\n          _createElementVNode(\"div\", _hoisted_3, _toDisplayString(index + 1), 1),\n          _createVNode(ThumbnailSlide, {\n            class: \"thumbnail\",\n            slide: element,\n            size: 120,\n            visible: index < _unref(slidesLoadLimit)\n          }, null, 8, [\"slide\", \"visible\"])\n        ], 10, _hoisted_2)\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ]))\n}\n}\n\n})","import script from \"./MobileThumbnails.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MobileThumbnails.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MobileThumbnails.vue?vue&type=style&index=0&id=2c80920e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2c80920e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5293de3b\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"header\" }\n\nimport { computed, onMounted, PropType, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport { Mode } from '@/types/mobile'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport MobileThumbnails from './MobileThumbnails.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MobilePlayer',\n  props: {\n  changeMode: {\n    type: Function as PropType<(mode: Mode) => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nconst slidesStore = useSlidesStore()\nconst { slides, slideIndex, currentSlide, viewportRatio } = storeToRefs(slidesStore)\n\nconst toolVisible = ref(false)\n\nconst playerSize = ref({ width: 0, height: 0 })\n\nonMounted(() => {\n  if (slideIndex.value !== 0) slidesStore.updateSlideIndex(0)\n\n  playerSize.value = {\n    width: document.body.clientHeight,\n    height: document.body.clientWidth,\n  }\n})\n\nconst slideSize = computed(() => {\n  const playerRatio = playerSize.value.height / playerSize.value.width\n\n  let slideWidth = 0\n  let slideHeight = 0\n\n  if (playerRatio >= viewportRatio.value) {\n    slideWidth = playerSize.value.width\n    slideHeight = slideWidth * viewportRatio.value\n  }\n  else {\n    slideHeight = playerSize.value.height\n    slideWidth = slideHeight / viewportRatio.value\n  }\n\n  return {\n    width: slideWidth,\n    height: slideHeight,\n  }\n})\n\nconst touchInfo = ref<{ x: number; y: number; } | null>(null)\nconst touchStartListener = (e: TouchEvent) => {\n  touchInfo.value = {\n    x: e.changedTouches[0].pageX,\n    y: e.changedTouches[0].pageY,\n  }\n}\nconst touchEndListener = (e: TouchEvent) => {\n  if (!touchInfo.value) return\n\n  const offsetY = Math.abs(touchInfo.value.y - e.changedTouches[0].pageY)\n  const offsetX = e.changedTouches[0].pageX - touchInfo.value.x\n\n  if ( Math.abs(offsetX) > offsetY && Math.abs(offsetX) > 50 ) {\n    touchInfo.value = null\n\n    if (offsetX < 0 && slideIndex.value > 0) slidesStore.updateSlideIndex(slideIndex.value - 1)\n    if (offsetX > 0 && slideIndex.value < slides.value.length - 1) slidesStore.updateSlideIndex(slideIndex.value + 1)\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconLogout = _resolveComponent(\"IconLogout\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"mobile-player\",\n    style: _normalizeStyle({\n      width: playerSize.value.width + 'px',\n      height: playerSize.value.height + 'px',\n      transform: `rotate(90deg) translateY(-${playerSize.value.height}px)`,\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"screen-slide-list\",\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (toolVisible.value = !toolVisible.value)),\n      onTouchstart: _cache[1] || (_cache[1] = $event => touchStartListener($event)),\n      onTouchend: _cache[2] || (_cache[2] = $event => touchEndListener($event))\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slides), (slide, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: _normalizeClass([\n          'slide-item', \n          `turning-mode-${slide.turningMode || 'slideY'}`,\n          {\n            'current': index === _unref(slideIndex),\n            'before': index < _unref(slideIndex),\n            'after': index > _unref(slideIndex),\n            'hide': (index === _unref(slideIndex) - 1 || index === _unref(slideIndex) + 1) && slide.turningMode !== _unref(currentSlide).turningMode,\n          }\n        ]),\n          key: slide.id\n        }, [\n          (Math.abs(_unref(slideIndex) - index) < 2)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"slide-content\",\n                style: _normalizeStyle({\n            width: slideSize.value.width + 'px',\n            height: slideSize.value.height + 'px',\n          })\n              }, [\n                _createVNode(ThumbnailSlide, {\n                  slide: slide,\n                  size: slideSize.value.width\n                }, null, 8, [\"slide\", \"size\"])\n              ], 4))\n            : _createCommentVNode(\"\", true)\n        ], 2))\n      }), 128))\n    ], 32),\n    (toolVisible.value)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createElementVNode(\"div\", {\n              class: \"back\",\n              onClick: _cache[3] || (_cache[3] = ($event: any) => (__props.changeMode('preview')))\n            }, [\n              _createVNode(_component_IconLogout),\n              _createTextVNode(\" 退出播放\")\n            ])\n          ]),\n          _createVNode(MobileThumbnails, { class: \"thumbnails\" })\n        ], 64))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}\n}\n\n})","import script from \"./MobilePlayer.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MobilePlayer.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MobilePlayer.vue?vue&type=style&index=0&id=5293de3b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5293de3b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-489de657\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"thumbnail-list\" }\nconst _hoisted_2 = { class: \"menu\" }\n\nimport { PropType, onMounted, ref } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useSlidesStore } from '@/store'\nimport useLoadSlides from '@/hooks/useLoadSlides'\nimport { Mode } from '@/types/mobile'\n\nimport ThumbnailSlide from '@/views/components/ThumbnailSlide/index.vue'\nimport { Divider } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MobilePreview',\n  props: {\n  changeMode: {\n    type: Function as PropType<(mode: Mode) => void>,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nconst { slides } = storeToRefs(useSlidesStore())\nconst { slidesLoadLimit } = useLoadSlides()\n\nconst mobileRef = ref<HTMLElement>()\nconst screenWidth = ref(0)\n\nonMounted(() => {\n  if (!mobileRef.value) return\n  screenWidth.value = mobileRef.value.clientWidth\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_IconEdit = _resolveComponent(\"IconEdit\")!\n  const _component_IconFullScreenPlay = _resolveComponent(\"IconFullScreenPlay\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"mobile-preview\",\n    ref_key: \"mobileRef\",\n    ref: mobileRef\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slides), (slide, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"thumbnail-item\",\n          key: slide.id\n        }, [\n          _createVNode(ThumbnailSlide, {\n            slide: slide,\n            size: screenWidth.value - 20,\n            visible: index < _unref(slidesLoadLimit)\n          }, null, 8, [\"slide\", \"size\", \"visible\"])\n        ]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        class: \"menu-item\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (__props.changeMode('editor')))\n      }, [\n        _createVNode(_component_IconEdit, { class: \"icon\" }),\n        _createTextVNode(\" Edit\")\n      ]),\n      _createVNode(_unref(Divider), {\n        type: \"vertical\",\n        style: {\"height\":\"30px\"}\n      }),\n      _createElementVNode(\"div\", {\n        class: \"menu-item\",\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (__props.changeMode('player')))\n      }, [\n        _createVNode(_component_IconFullScreenPlay, { class: \"icon\" }),\n        _createTextVNode(\" Play\")\n      ])\n    ])\n  ], 512))\n}\n}\n\n})","import script from \"./MobilePreview.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MobilePreview.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MobilePreview.vue?vue&type=style&index=0&id=489de657&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-489de657\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1fb24d48\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"mobile\" }\n\nimport { computed, ref } from 'vue'\nimport { Mode } from '@/types/mobile'\n\nimport MobileEditor from './MobileEditor/index.vue'\nimport MobilePlayer from './MobilePlayer.vue'\nimport MobilePreview from './MobilePreview.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst mode = ref<Mode>('preview')\n    \nconst changeMode = (_mode: Mode) => mode.value = _mode\n\nconst currentComponent = computed(() => {\n  const componentMap = {\n    'editor': MobileEditor,\n    'player': MobilePlayer,\n    'preview': MobilePreview,\n  }\n  return componentMap[mode.value] || null\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(currentComponent.value), { changeMode: changeMode }))\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1fb24d48&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1fb24d48\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport { onMounted } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useScreenStore, useMainStore, useSnapshotStore } from '@/store'\nimport { LOCALSTORAGE_KEY_DISCARDED_DB } from '@/configs/storage'\nimport { deleteDiscardedDB } from '@/utils/database'\nimport { isPC } from './utils/common'\n\nimport Editor from './views/Editor/index.vue'\nimport Screen from './views/Screen/index.vue'\nimport Mobile from './views/Mobile/index.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\nconst _isPC = isPC()\n\nconst mainStore = useMainStore()\nconst snapshotStore = useSnapshotStore()\nconst { databaseId } = storeToRefs(mainStore)\nconst { screening } = storeToRefs(useScreenStore())\n\nif (process.env.NODE_ENV === 'production') {\n  window.onbeforeunload = () => false\n}\n\nonMounted(async () => {\n  await deleteDiscardedDB()\n  snapshotStore.initSnapshotDatabase()\n  mainStore.setAvailableFonts()\n})\n\n// 应用注销时向 localStorage 中记录下本次 indexedDB 的数据库ID，用于之后清除数据库\nwindow.addEventListener('unload', () => {\n  const discardedDB = localStorage.getItem(LOCALSTORAGE_KEY_DISCARDED_DB)\n  const discardedDBList: string[] = discardedDB ? JSON.parse(discardedDB) : []\n\n  discardedDBList.push(databaseId.value)\n\n  const newDiscardedDB = JSON.stringify(discardedDBList)\n  localStorage.setItem(LOCALSTORAGE_KEY_DISCARDED_DB, newDiscardedDB)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_unref(screening))\n    ? (_openBlock(), _createBlock(Screen, { key: 0 }))\n    : (_unref(_isPC))\n      ? (_openBlock(), _createBlock(Editor, { key: 1 }))\n      : (_openBlock(), _createBlock(Mobile, { key: 2 }))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./App.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./App.vue?vue&type=style&index=0&id=685e8c72&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered() {\n      console.log('Service worker has been registered.')\n    },\n    cached() {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound() {\n      console.log('New content is downloading.')\n    },\n    updated() {\n      console.log('New content is available; please refresh.')\n    },\n    offline() {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error(error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","// https://iconpark.bytedance.com/official\n\nimport { App } from 'vue'\nimport {\n  PlayOne,\n  FullScreenPlay,\n  Lock,\n  Unlock,\n  Ppt,\n  Format,\n  Picture,\n  FullScreen,\n  List,\n  OrderedList,\n  Helpcenter,\n  FlipVertically,\n  FlipHorizontally,\n  FontSize,\n  Code,\n  TextBold,\n  TextItalic,\n  TextUnderline,\n  Strikethrough,\n  Edit,\n  Quote,\n  BackgroundColor,\n  Group,\n  Ungroup,\n  Back,\n  Next,\n  Fullwidth,\n  AlignTop,\n  AlignLeft,\n  AlignRight,\n  AlignBottom,\n  AlignVertically,\n  AlignHorizontally,\n  BringToFront,\n  SendToBack,\n  AlignTextLeft,\n  AlignTextRight,\n  AlignTextCenter,\n  RowHeight,\n  Write,\n  InsertTable,\n  AddText,\n  Fill,\n  Tailoring,\n  Effects,\n  ColorFilter,\n  Up,\n  Down,\n  Plus,\n  Minus,\n  Connection,\n  BringToFrontOne,\n  SentToBack,\n  Github,\n  ChartProportion,\n  ChartHistogram,\n  ChartHistogramOne,\n  ChartLineArea,\n  ChartRing,\n  ChartScatter,\n  ChartLine,\n  ChartPie,\n  Text,\n  Rotate,\n  LeftTwo,\n  RightTwo,\n  Platte,\n  Close,\n  CloseSmall,\n  Undo,\n  Transform,\n  Click,\n  Theme,\n  ArrowCircleLeft,\n  GraphicDesign,\n  Logout,\n  Erase,\n  Clear,\n  FolderClose,\n  AlignTextTopOne,\n  AlignTextBottomOne,\n  AlignTextMiddleOne,\n  Pause,\n  VolumeMute,\n  VolumeNotice,\n  VolumeSmall,\n  VideoTwo,\n  Formula,\n  LinkOne,\n  FullScreenOne,\n  OffScreenOne,\n  Power,\n  ListView,\n  Magic,\n  HighLight,\n  Share,\n  IndentLeft,\n  IndentRight,\n  VerticalSpacingBetweenItems,\n  Copy,\n  Delete,\n  Square,\n  Round,\n  Needle,\n  TextRotationNone,\n  TextRotationDown,\n  FormatBrush,\n  PreviewOpen,\n  PreviewClose,\n  StopwatchStart,\n} from '@icon-park/vue-next'\n\ninterface Icons {\n  [key: string]: typeof PlayOne\n}\n\nexport const icons: Icons = {\n  IconPlayOne: PlayOne,\n  IconFullScreenPlay: FullScreenPlay,\n  IconLock: Lock,\n  IconUnlock: Unlock,\n  IconPpt: Ppt,\n  IconFormat: Format,\n  IconPicture: Picture,\n  IconFullScreen: FullScreen,\n  IconList: List,\n  IconOrderedList: OrderedList,\n  IconHelpcenter: Helpcenter,\n  IconFlipVertically: FlipVertically,\n  IconFlipHorizontally: FlipHorizontally,\n  IconFontSize: FontSize,\n  IconCode: Code,\n  IconTextBold: TextBold,\n  IconTextItalic: TextItalic,\n  IconTextUnderline: TextUnderline,\n  IconStrikethrough: Strikethrough,\n  IconEdit: Edit,\n  IconQuote: Quote,\n  IconBackgroundColor: BackgroundColor,\n  IconGroup: Group,\n  IconUngroup: Ungroup,\n  IconBack: Back,\n  IconNext: Next,\n  IconFullwidth: Fullwidth,\n  IconAlignTop: AlignTop,\n  IconAlignLeft: AlignLeft,\n  IconAlignRight: AlignRight,\n  IconAlignBottom: AlignBottom,\n  IconAlignVertically: AlignVertically,\n  IconAlignHorizontally: AlignHorizontally,\n  IconBringToFront: BringToFront,\n  IconSendToBack: SendToBack,\n  IconAlignTextLeft: AlignTextLeft,\n  IconAlignTextRight: AlignTextRight,\n  IconAlignTextCenter: AlignTextCenter,\n  IconRowHeight: RowHeight,\n  IconWrite: Write,\n  IconInsertTable: InsertTable,\n  IconAddText: AddText,\n  IconFill: Fill,\n  IconTailoring: Tailoring,\n  IconEffects: Effects,\n  IconColorFilter: ColorFilter,\n  IconUp: Up,\n  IconDown: Down,\n  IconPlus: Plus,\n  IconMinus: Minus,\n  IconConnection: Connection,\n  IconBringToFrontOne: BringToFrontOne,\n  IconSentToBack: SentToBack,\n  IconGithub: Github,\n  IconChartProportion: ChartProportion,\n  IconChartHistogram: ChartHistogram,\n  IconChartHistogramOne: ChartHistogramOne,\n  IconChartLineArea: ChartLineArea,\n  IconChartRing: ChartRing,\n  IconChartScatter: ChartScatter,\n  IconChartLine: ChartLine,\n  IconChartPie: ChartPie,\n  IconText: Text,\n  IconRotate: Rotate,\n  IconLeftTwo: LeftTwo,\n  IconRightTwo: RightTwo,\n  IconPlatte: Platte,\n  IconClose: Close,\n  IconCloseSmall: CloseSmall,\n  IconUndo: Undo,\n  IconTransform: Transform,\n  IconClick: Click,\n  IconTheme: Theme,\n  IconArrowCircleLeft: ArrowCircleLeft,\n  IconGraphicDesign: GraphicDesign,\n  IconLogout: Logout,\n  IconErase: Erase,\n  IconClear: Clear,\n  IconFolderClose: FolderClose,\n  IconAlignTextTopOne: AlignTextTopOne,\n  IconAlignTextBottomOne: AlignTextBottomOne,\n  IconAlignTextMiddleOne: AlignTextMiddleOne,\n  IconPause: Pause,\n  IconVolumeMute: VolumeMute,\n  IconVolumeNotice: VolumeNotice,\n  IconVolumeSmall: VolumeSmall,\n  IconVideoTwo: VideoTwo,\n  IconFormula: Formula,\n  IconLinkOne: LinkOne,\n  IconFullScreenOne: FullScreenOne,\n  IconOffScreenOne: OffScreenOne,\n  IconPower: Power,\n  IconListView: ListView,\n  IconMagic: Magic,\n  IconHighLight: HighLight,\n  IconShare: Share,\n  IconIndentLeft: IndentLeft,\n  IconIndentRight: IndentRight,\n  IconVerticalSpacingBetweenItems: VerticalSpacingBetweenItems,\n  IconCopy: Copy,\n  IconDelete: Delete,\n  IconSquare: Square,\n  IconRound: Round,\n  IconNeedle: Needle,\n  IconTextRotationNone: TextRotationNone,\n  IconTextRotationDown: TextRotationDown,\n  IconFormatBrush: FormatBrush,\n  IconPreviewOpen: PreviewOpen,\n  IconPreviewClose: PreviewClose,\n  IconStopwatchStart: StopwatchStart,\n}\n\nexport default {\n  install(app: App) {\n    for (const key of Object.keys(icons)) {\n      app.component(key, icons[key])\n    }\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, normalizeClass as _normalizeClass, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e470e712\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"menu-content\" }\nconst _hoisted_2 = [\"onClick\"]\nconst _hoisted_3 = { class: \"text\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"sub-text\"\n}\n\nimport { PropType } from 'vue'\nimport { ContextmenuItem } from './types'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MenuContent',\n  props: {\n  menus: {\n    type: Array as PropType<ContextmenuItem[]>,\n    required: true,\n  },\n  handleClickMenuItem: {\n    type: Function,\n    required: true,\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_menu_content = _resolveComponent(\"menu-content\", true)!\n\n  return (_openBlock(), _createElementBlock(\"ul\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.menus, (menu, index) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: menu.text || index\n      }, [\n        (!menu.hide)\n          ? (_openBlock(), _createElementBlock(\"li\", {\n              key: 0,\n              class: _normalizeClass([\"menu-item\", {'divider': menu.divider, 'disable': menu.disable}]),\n              onClick: _withModifiers(($event: any) => (__props.handleClickMenuItem(menu)), [\"stop\"])\n            }, [\n              (!menu.divider)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: _normalizeClass([\"menu-item-content\", {\n            'has-children': menu.children,\n            'has-handler': menu.handler,\n          }])\n                  }, [\n                    _createElementVNode(\"span\", _hoisted_3, _toDisplayString(menu.text), 1),\n                    (menu.subText && !menu.children)\n                      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString(menu.subText), 1))\n                      : _createCommentVNode(\"\", true),\n                    (menu.children && menu.children.length)\n                      ? (_openBlock(), _createBlock(_component_menu_content, {\n                          key: 1,\n                          class: \"sub-menu\",\n                          menus: menu.children,\n                          handleClickMenuItem: __props.handleClickMenuItem\n                        }, null, 8, [\"menus\", \"handleClickMenuItem\"]))\n                      : _createCommentVNode(\"\", true)\n                  ], 2))\n                : _createCommentVNode(\"\", true)\n            ], 10, _hoisted_2))\n          : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128))\n  ]))\n}\n}\n\n})","import script from \"./MenuContent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MenuContent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MenuContent.vue?vue&type=style&index=0&id=e470e712&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e470e712\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { withModifiers as _withModifiers, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeStyle as _normalizeStyle, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, PropType } from 'vue'\nimport { ContextmenuItem, Axis } from './types'\n\nimport MenuContent from './MenuContent.vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n  axis: {\n    type: Object as PropType<Axis>,\n    required: true,\n  },\n  el: {\n    type: Object as PropType<HTMLElement>,\n    required: true,\n  },\n  menus: {\n    type: Array as PropType<ContextmenuItem[]>,\n    required: true,\n  },\n  removeContextmenu: {\n    type: Function,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst style = computed(() => {\n  const MENU_WIDTH = 170\n  const MENU_HEIGHT = 30\n  const DIVIDER_HEIGHT = 11\n  const PADDING = 5\n\n  const { x, y } = props.axis\n  const menuCount = props.menus.filter(menu => !(menu.divider || menu.hide)).length\n  const dividerCount = props.menus.filter(menu => menu.divider).length\n\n  const menuWidth = MENU_WIDTH\n  const menuHeight = menuCount * MENU_HEIGHT + dividerCount * DIVIDER_HEIGHT + PADDING * 2\n\n  const screenWidth = document.body.clientWidth\n  const screenHeight = document.body.clientHeight\n\n  return {\n    left: screenWidth <= x + menuWidth ? x - menuWidth : x,\n    top: screenHeight <= y + menuHeight ? y - menuHeight : y,\n  }\n})\n\nconst handleClickMenuItem = (item: ContextmenuItem) => {\n  if (item.disable) return\n  if (item.children && !item.handler) return\n  if (item.handler) item.handler(props.el)\n  props.removeContextmenu()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", {\n      class: \"mask\",\n      onContextmenu: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (__props.removeContextmenu()), [\"prevent\"])),\n      onMousedown: _cache[1] || (_cache[1] = ($event: any) => (__props.removeContextmenu()))\n    }, null, 32),\n    _createElementVNode(\"div\", {\n      class: \"contextmenu\",\n      style: _normalizeStyle({\n      left: style.value.left + 'px',\n      top: style.value.top + 'px',\n    }),\n      onContextmenu: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      _createVNode(MenuContent, {\n        menus: __props.menus,\n        handleClickMenuItem: handleClickMenuItem\n      }, null, 8, [\"menus\"])\n    ], 36)\n  ], 64))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=e70aeb5c&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { Directive, createVNode, render, DirectiveBinding } from 'vue'\nimport ContextmenuComponent from '@/components/Contextmenu/index.vue'\n\nconst CTX_CONTEXTMENU_HANDLER = 'CTX_CONTEXTMENU_HANDLER'\n\ninterface CustomHTMLElement extends HTMLElement {\n  [CTX_CONTEXTMENU_HANDLER]?: (event: MouseEvent) => void\n} \n\nconst contextmenuListener = (el: HTMLElement, event: MouseEvent, binding: DirectiveBinding) => {\n  event.stopPropagation()\n  event.preventDefault()\n\n  const menus = binding.value(el)\n  if (!menus) return\n\n  let container: HTMLDivElement | null = null\n\n  // 移除右键菜单并取消相关的事件监听\n  const removeContextmenu = () => {\n    if (container) {\n      document.body.removeChild(container)\n      container = null\n    }\n    el.classList.remove('contextmenu-active')\n    document.body.removeEventListener('scroll', removeContextmenu)  \n    window.removeEventListener('resize', removeContextmenu)\n  }\n\n  // 创建自定义菜单\n  const options = {\n    axis: { x: event.x, y: event.y },\n    el,\n    menus,\n    removeContextmenu,\n  }\n  container = document.createElement('div')\n  const vm = createVNode(ContextmenuComponent, options, null)\n  render(vm, container)\n  document.body.appendChild(container)\n\n  // 为目标节点添加菜单激活状态的className\n  el.classList.add('contextmenu-active')\n\n  // 页面变化时移除菜单\n  document.body.addEventListener('scroll', removeContextmenu)\n  window.addEventListener('resize', removeContextmenu)\n}\n\nconst ContextmenuDirective: Directive = {\n  mounted(el: CustomHTMLElement, binding) {\n    el[CTX_CONTEXTMENU_HANDLER] = (event: MouseEvent) => contextmenuListener(el, event, binding)\n    el.addEventListener('contextmenu', el[CTX_CONTEXTMENU_HANDLER])\n  },\n\n  unmounted(el: CustomHTMLElement) {\n    if (el && el[CTX_CONTEXTMENU_HANDLER]) {\n      el.removeEventListener('contextmenu', el[CTX_CONTEXTMENU_HANDLER])\n      delete el[CTX_CONTEXTMENU_HANDLER]\n    }\n  },\n}\n\nexport default ContextmenuDirective","import { Directive, DirectiveBinding } from 'vue'\n\nconst CTX_CLICK_OUTSIDE_HANDLER = 'CTX_CLICK_OUTSIDE_HANDLER'\n\ninterface CustomHTMLElement extends HTMLElement {\n  [CTX_CLICK_OUTSIDE_HANDLER]?: (event: MouseEvent) => void\n} \n\nconst clickListener = (el: HTMLElement, event: MouseEvent, binding: DirectiveBinding) => {\n  const handler = binding.value\n\n  const path = event.composedPath()\n  const isClickOutside = path ? path.indexOf(el) < 0 : !el.contains(event.target as HTMLElement)\n\n  if (!isClickOutside) return\n  handler(event)\n}\n\nconst ClickOutsideDirective: Directive = {\n  mounted(el: CustomHTMLElement, binding) {\n    el[CTX_CLICK_OUTSIDE_HANDLER] = (event: MouseEvent) => clickListener(el, event, binding)\n    setTimeout(() => {\n      document.addEventListener('click', el[CTX_CLICK_OUTSIDE_HANDLER]!)\n    }, 0)\n  },\n  \n  unmounted(el: CustomHTMLElement) {\n    if (el[CTX_CLICK_OUTSIDE_HANDLER]) {\n      document.removeEventListener('click', el[CTX_CLICK_OUTSIDE_HANDLER])\n      delete el[CTX_CLICK_OUTSIDE_HANDLER]\n    }\n  },\n}\n\nexport default ClickOutsideDirective","import { App } from 'vue'\n\nimport Contextmenu from './contextmenu'\nimport ClickOutside from './clickOutside'\n\nexport default {\n  install(app: App) {\n    app.directive('contextmenu', Contextmenu)\n    app.directive('click-outside', ClickOutside)\n  }\n}\n","import { createApp } from 'vue'\nimport { createPinia } from 'pinia'\nimport App from './App.vue'\nimport './registerServiceWorker'\n\nimport '@icon-park/vue-next/styles/index.css'\nimport 'prosemirror-view/style/prosemirror.css'\nimport 'animate.css'\n\nimport '@/assets/styles/prosemirror.scss'\nimport '@/assets/styles/global.scss'\nimport '@/assets/styles/antd.scss'\nimport '@/assets/styles/font.scss'\n\nimport Icon from '@/plugins/icon'\nimport Directive from '@/plugins/directive'\n\nconst app = createApp(App)\n\napp.use(Icon)\napp.use(Directive)\n\napp.use(createPinia())\napp.mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksuper_ppt\"] = self[\"webpackChunksuper_ppt\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(7102); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["ToolbarStates","SYS_FONTS","label","value","WEB_FONTS","autoSelectAll","view","empty","state","selection","selectAll","dispatch","addMark","editorView","mark","tr","from","to","$from","$to","pos","findNodesWithSameMark","doc","markType","ii","finder","type","firstMark","fromNode","toNode","node","nodeAt","marks","find","fromPos","toPos","jj","nodeSize","equalNodeType","nodeType","Array","isArray","indexOf","findParentNodeClosestToPos","$pos","predicate","i","depth","before","start","findParentNode","_ref","findParentNodeOfType","isActiveOfParentNodeType","schema","nodes","getMarkAttrs","lastChild","getAttrValue","attr","name","attrs","isActiveMark","markActive","isInSet","storedMarks","rangeHasMark","getAttrValueInSelection","keepChecking","nodesBetween","_defaultAttrs","color","backcolor","fontsize","fontname","align","getTextAttrs","defaultAttrs","isBold","isEm","isUnderline","isStrikethrough","isSuperscript","isSubscript","isCode","link","isBulletList","isOrderedList","isBlockquote","bold","em","underline","strikethrough","superscript","subscript","code","bulletList","orderedList","blockquote","getFontsize","parseInt","defaultRichTextAttrs","isSupportFont","fontName","arial","toLowerCase","size","width","height","str","canvas","document","createElement","ctx","getContext","textAlign","fillStyle","textBaseline","getDotArray","_fontFamily","clearRect","font","fillText","imageData","getImageData","data","slice","call","filter","item","join","slides","id","elements","left","top","viewBox","path","fill","fixedRatio","opacity","rotate","flipV","lineHeight","content","defaultFontName","defaultColor","end","points","style","background","wordSpace","theme","themeColor","fontColor","backgroundColor","layouts","outline","text","useSlidesStore","defineStore","slideIndex","viewportRatio","getters","currentSlide","currentSlideAnimations","animations","els","elIds","map","el","animation","includes","elId","formatedAnimations","trigger","length","last","push","autoNext","subColor","tinycolor","isDark","layoutsString","JSON","stringify","replaceAll","parse","actions","setTheme","themeProps","this","setViewportRatio","setSlides","addSlide","slide","addIndex","splice","updateSlide","props","deleteSlide","slideId","slidesId","deleteSlidesIndex","index","findIndex","newIndex","Math","min","maxIndex","updateSlideIndex","addElement","element","currentSlideEls","newEls","deleteElement","elementId","elementIdList","updateElement","elIdList","removeElementProps","propName","propsNames","omit","nanoid","customAlphabet","databaseId","useMainStore","activeElementIdList","handleElementId","activeGroupElementId","hiddenElementIdList","canvasPercentage","canvasScale","canvasDragged","thumbnailsFocus","editorAreaFocus","disableHotkeys","gridLineSize","showRuler","creatingElement","availableFonts","toolbarState","SLIDE_DESIGN","clipingImageElementId","richTextAttrs","selectedTableCells","isScaling","selectedSlidesIndex","dialogForExport","textFormatPainter","showSelectPanel","activeElementList","slidesStore","handleElement","setActiveElementIdList","setHandleElementId","setActiveGroupElementId","setHiddenElementIdList","setCanvasPercentage","percentage","setCanvasScale","scale","setCanvasDragged","isDragged","setThumbnailsFocus","isFocus","setEditorareaFocus","setDisableHotkeysState","disable","setGridLineSize","setRulerState","show","setCreatingElement","setAvailableFonts","setToolbarState","setClipingImageElementId","setRichtextAttrs","setSelectedTableCells","cells","setScalingState","updateSelectedSlidesIndex","setDialogForExport","setTextFormatPainter","setSelectPanelState","LOCALSTORAGE_KEY_DISCARDED_DB","databaseNamePrefix","deleteDiscardedDB","async","now","Date","getTime","localStorageDiscardedDB","localStorage","getItem","localStorageDiscardedDBList","databaseNames","Dexie","getDatabaseNames","discardedDBNames","prefix","time","split","delete","removeItem","PPTistDB","constructor","super","_defineProperty","version","stores","snapshots","writingBoardImgs","table","db","useSnapshotStore","snapshotCursor","snapshotLength","canUndo","canRedo","setSnapshotCursor","cursor","setSnapshotLength","newFirstSnapshot","add","allKeys","orderBy","keys","needDeleteKeys","snapshot","snapshotLengthLimit","update","bulkDelete","mainStore","toArray","useKeyboardStore","ctrlKeyState","shiftKeyState","spaceKeyState","ctrlOrShiftKeyActive","setCtrlKeyState","active","setShiftKeyState","setSpaceKeyState","useScreenStore","screening","setScreening","fillDigit","digit","len","padStart","isPC","navigator","userAgent","match","ElementOrderCommands","ElementAlignCommands","OperateBorderLines","OperateResizeHandlers","OperateLineHandlers","KEYS","HOTKEY_DOC","children","CRYPTO_KEY","encrypt","msg","CryptoJS","toString","decrypt","ciphertext","bytes","Utf8","copyText","Promise","resolve","reject","fakeElement","clipboard","Clipboard","action","container","body","on","e","destroy","appendChild","click","removeChild","readClipboard","readText","then","pasteCustomClipboardString","clipboardData","pasteExcelClipboardString","lines","pop","colCount","getRectRotatedRange","radius","sqrt","pow","auxiliaryAngle","atan","PI","tlbraRadian","trblaRadian","middleLeft","middleTop","xAxis","cos","yAxis","sin","xRange","max","yRange","getRectRotatedOffset","originXRange","originYRange","rotatedXRange","rotatedYRange","offsetX","offsetY","getElementRange","minX","maxX","minY","maxY","getElementListRange","elementList","leftValues","topValues","rightValues","bottomValues","forEach","uniqAlignLines","uniqLines","line","_line","uniqLine","rangeMin","range","rangeMax","createSlideIdMap","slideIdMap","createElementIdMap","groupIdMap","elIdMap","groupId","getTableSubThemeColor","rgba","setAlpha","toRgbString","getLineElementPath","broken","mid","curve","cubic","c1","c2","p1","p2","parseText2Paragraphs","htmlText","replace","paragraphs","string","paragraph","getImageSize","src","img","onload","imgWidth","clientWidth","imgHeight","clientHeight","onerror","getImageDataURL","file","reader","FileReader","addEventListener","result","readAsDataURL","VIEWPORT_SIZE","ShapePathFormulasKeys","ElementTypes","SHAPE_PATH_FORMULAS","ROUND_RECT","editable","defaultValue","relative","getBaseSize","formula","CUT_RECT_DIAGONAL","CUT_RECT_SINGLE","CUT_RECT_SAMESIDE","ROUND_RECT_DIAGONAL","ROUND_RECT_SINGLE","ROUND_RECT_SAMESIDE","CUT_ROUND_RECT","MESSAGE","arrowWidth","arrowheight","ROUND_MESSAGE","L","lineWidth","RING_RECT","PLUS","TRIANGLE","vertex","PARALLELOGRAM_LEFT","point","PARALLELOGRAM_RIGHT","TRAPEZOID","BULLET","INDICATOR","SHAPE_LIST","pptxShapeType","pathFormula","special","outlined","CHART_TYPES","bar","horizontalBar","area","scatter","pie","ring","snapshotStore","addHistorySnapshot","debounce","addSnapshot","trailing","redo","throttle","reDo","leading","undo","unDo","storeToRefs","useHistorySnapshot","callback","setTimeout","createImageElement","createChartElement","newElement","chartType","gridColor","labels","legends","series","options","horizontalBars","stackBars","showLine","lineSmooth","showArea","donut","createTableElement","row","col","rowCells","j","colspan","rowspan","DEFAULT_CELL_WIDTH","DEFAULT_CELL_HEIGHT","colWidths","rowHeader","rowFooter","colHeader","colFooter","cellMinHeight","createTextElement","position","vertical","editorRef","querySelector","focus","createShapeElement","keypoint","createLineElement","isBroken","isCurve","isCubic","createLatexElement","w","h","latex","strokeWidth","createVideoElement","createAudioElement","loop","autoplay","addElementsFromData","currentSlideElementIdList","inCurrentSlide","Object","values","addSlidesFromData","newSlides","target","useCreateElement","useAddSlidesOrElements","createTextElementFromClipboard","pasteTextClipboardData","onlySlide","onlyElements","_selectedSlidesIndex","computed","selectedSlides","selectedSlidesId","usePasteTextClipboardData","resetSlides","emptySlide","command","UP","DOWN","copySlide","pasteSlide","catch","err","_message","warning","createSlide","createSlideByTemplate","newSlide","copyAndPasteSlide","targetSlidesId","cutSlide","selectAllSlide","newSelectedSlidesIndex","sortSlides","oldIndex","_slides","_slide","lockElement","newElementList","lock","unlockElement","groupElementIdList","deleteAllElements","canCombine","firstGroupId","inSameGroup","every","combineElements","combineElementList","combineElementMaxLevel","_element","combineElementIdList","insertLevel","uncombineElements","hasElementInGroup","some","handleElementIdList","useDeleteElement","copyElement","cutElement","pasteElement","quickCopyElement","selectAllElement","unlockedElements","newActiveElementIdList","moveElement","step","move","LEFT","RIGHT","getCombineElementLevelRange","minLevel","maxLevel","moveUpElement","copyOfElementList","nextElement","movedElementList","nextCombineElementList","level","movedElement","moveDownElement","prevElement","prevCombineElementList","moveTopElement","moveBottomElement","unshift","orderElement","TOP","BOTTOM","enterFullscreen","docElm","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","isFullscreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","webkitCurrentFullScreenElement","screenStore","enterScreening","enterScreeningFromStart","exitScreening","canvasScalePercentage","round","scaleCanvas","setCanvasScalePercentage","resetCanvas","keyboardStore","useSlideHandler","useCombineElement","useLockElement","useCopyAndPasteElement","useSelectAllElement","useMoveElement","useOrderElement","useScreening","useScaleCanvas","copy","cut","quickCopy","combine","uncombine","remove","key","moveSlide","PAGEUP","PAGEDOWN","order","create","tabActiveElement","firstElement","currentIndex","nextIndex","nextElementId","keydownListener","ctrlKey","shiftKey","altKey","metaKey","ctrlOrMetaKeyActive","toUpperCase","SPACE","P","preventDefault","F5","C","X","D","Z","Y","A","G","F","B","DELETE","BACKSPACE","ENTER","MINUS","EQUAL","DIGIT_0","TAB","keyupListener","onMounted","window","onUnmounted","removeEventListener","pasteImageFile","imageFile","dataURL","pasteListener","clipboardDataItems","items","clipboardDataFirstItem","kind","getAsFile","getAsString","exporting","ref","importSpecificFile","files","cover","error","readAsText","parseLineElement","isFlipV","isFlipH","borderWidth","borderType","borderColor","shapType","importPPTXFile","shapeList","json","image","picBase64","imageSize","parseElements","fillColor","lineElement","shape","cellData","rowSpan","xlabels","v","y","_el","readAsArrayBuffer","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_defineComponent","__name","setup","__props","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","_renderList","_unref","_createElementVNode","_toDisplayString","hotkey","__exports__","accept","String","default","emits","emit","inputRef","handleClick","handleChange","onClick","$event","_renderSlot","$slots","ref_key","onChange","_withScopeId","n","_pushScopeId","_popScopeId","loading","Boolean","tip","_createCommentVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","href","_hoisted_13","MenuItem","_Menu","useImport","toggleGridLines","toggleRuler","openSelectPanel","hotkeyDrawerVisible","goLink","url","open","_component_IconFolderClose","_resolveComponent","_component_IconEdit","_component_IconPpt","_component_IconHelpcenter","_component_IconShare","_component_IconGithub","_createVNode","_Dropdown","overlay","_withCtx","FileInput","_createTextVNode","_","_Tooltip","mouseLeaveDelay","title","_Drawer","placement","closable","visible","onClose","HotkeyDoc","FullscreenSpin","injectKeySlideScale","Symbol","injectKeySlideId","removeAllRanges","getSelection","canvasRef","viewportLeft","viewportTop","initViewportPosition","canvasWidth","canvasHeight","viewportActualWidth","viewportActualHeight","setViewportPosition","newValue","oldValue","newViewportActualWidth","oldViewportActualWidth","newViewportActualHeight","oldViewportActualHeight","watch","viewportStyles","resizeObserver","ResizeObserver","observe","unobserve","dragViewport","isMouseDown","startPageX","pageX","startPageY","pageY","originLeft","originTop","onmousemove","currentPageX","currentPageY","onmouseup","viewportRef","mouseSelectionVisible","mouseSelectionQuadrant","mouseSelection","updateMouseSelection","viewportRect","getBoundingClientRect","minSelectionRange","x","offsetWidth","offsetHeight","abs","quadrant","inRangeElementList","mouseSelectionLeft","mouseSelectionTop","mouseSelectionWidth","mouseSelectionHeight","isInclude","inRangeElement","inRangeElementIdList","groupElementList","groupElement","elementRef","handleDrop","dataTransfer","dataTransferItem","ondragleave","ondrop","ondragenter","ondragover","getAngleFromCoordinate","radian","atan2","angle","rotateElement","elOriginRotate","elLeft","elTop","elWidth","elHeight","centerX","centerY","mouseX","mouseY","sorptionRange","ELEMENT_TYPE_ZH","chart","video","audio","MIN_SIZE","getRotateElementPoints","taRadian","raRadian","halfWidth","halfHeight","leftTopPoint","topPoint","rightTopPoint","rightPoint","rightBottomPoint","bottomPoint","leftBottomPoint","leftPoint","getOppositePoint","direction","oppositeMap","RIGHT_BOTTOM","LEFT_BOTTOM","LEFT_TOP","RIGHT_TOP","ClipPathTypes","ClipPaths","alignmentLines","scaleElement","isTouchEvent","MouseEvent","changedTouches","elOriginLeft","elOriginTop","elOriginWidth","elOriginHeight","originTableCellMinHeight","elRotate","rotateRadian","aspectRatio","minSize","getSizeWithinRange","baseLeft","baseTop","horizontalLines","verticalLines","oppositePoint","edgeWidth","edgeHeight","isActiveGroupElement","right","bottom","topLine","bottomLine","leftLine","rightLine","edgeTopLine","edgeBottomLine","edgeHorizontalCenterLine","edgeLeftLine","edgeRightLine","edgeVerticalCenterLine","alignedAdsorption","currentX","currentY","_alignmentLines","isVerticalAdsorbed","isHorizontalAdsorbed","correctionVal","axis","handleMousemove","revisedX","revisedY","currentPoints","currentOppositePoint","currentBaseLeft","currentBaseTop","moveX","moveY","handleMouseup","ontouchmove","ontouchend","scaleMultiElement","operateWidth","operateHeight","originElementList","currentMinX","currentMaxX","currentMinY","currentMaxY","currentOppositeWidth","currentOppositeHeight","widthScale","heightScale","originElement","originEl","selectElement","startMove","newActiveIdList","groupMembersId","uniq","dragElement","originActiveElementList","isMisoperation","horizontalCenterLine","verticalCenterLine","targetMinX","targetMaxX","targetMinY","targetMaxY","targetLeft","targetTop","targetCenterX","targetCenterY","dragLineElement","adsorptionPoints","startX","startY","endX","endY","midX","midY","c1X","c1Y","c2X","c2Y","START","adsorptionPoint","END","C1","C2","newEl","moveShapeKeypoint","shapePathData","baseSize","originPos","shapeElement","formatCreateSelection","selectionData","formatCreateSelectionForLine","_start","_end","insertElementFromCreateSelection","alignElementToCanvas","viewportWidth","viewportHeight","CENTER","VERTICAL","HORIZONTAL","shadow","shadowStyle","blur","flipH","flipStyle","CLIPPATHS","rect","RECT","rect2","POLYGON","createPath","rect3","roundRect","ellipse","ELLIPSE","triangle","triangle2","triangle3","rhombus","pentagon","hexagon","heptagon","octagon","chevron","arrow","parallelogram","parallelogram2","trapezoid","trapezoid2","clip","clipShape","imgPosition","filters","outlineWidth","outlineStyle","outlineColor","Number","required","useElementOutline","toRef","overflow","rx","ry","stroke","cx","cy","Function","d","elementInfo","useClipImage","_createBlock","ImageRectOutline","ImageEllipseOutline","ImagePolygonOutline","clipData","clipPath","clipWrapperPositionStyle","isSettingClipRange","currentRange","getClipDataTransformInfo","bottomImgPositionStyle","topImgWrapperPosition","topImgWrapperPositionStyle","topImgPositionStyle","bottomWidth","bottomHeight","initClipPosition","handleClip","clipedEmitData","keyboardListener","updateRange","retPosition","moveClipRange","bottomPosition","originPositopn","scaleClipRange","minWidth","minHeight","targetWidth","targetHeight","rotateClassName","cornerPoint","edgePoints","_directive_click_outside","_resolveDirective","_withDirectives","_normalizeStyle","draggable","alt","onMousedown","_withModifiers","_normalizeClass","contextmenus","isCliping","useElementShadow","useElementFlip","useFilter","handleSelectElement","stopPropagation","originClip","centerOffsetX","centerOffsetY","rotatedCenterX","rotatedCenterY","_props","_directive_contextmenu","transform","ImageClipHandler","onClip","onTouchstart","ImageOutline","onDragstart","colorMask","buildKeymap","bind","cmd","joinUp","joinDown","undoInputRule","selectParentNode","toggleMark","strong","chainCommands","splitListItem","list_item","newlineInCode","createParagraphNear","liftEmptyBlock","splitBlockKeepMarks","liftListItem","sinkListItem","blockQuoteRule","wrappingInputRule","orderedListRule","childCount","bulletListRule","codeBlockRule","textblockTypeInputRule","linkRule","urlRegEx","InputRule","insertText","buildInputRules","rules","smartQuotes","ellipsis","emDash","ordered_list","bullet_list","code_block","inputRules","buildPlugins","keymap","baseKeymap","dropCursor","gapCursor","history","listStyleType","group","parseDOM","tag","getAttrs","dom","hasAttribute","getAttribute","toDOM","listItem","_listItem","indent","test","ignore","skip","hard_break","otherNodes","excludes","forecolor","inline","inclusive","schemaNodes","schemaMarks","Schema","createDocument","htmlString","parser","DOMParser","parseFromString","firstElementChild","fromSchema","initProsemirrorEditor","EditorView","EditorState","plugins","EmitterEvents","emitter","mitt","setTextAlign","alignment","tasks","allowedNodeTypes","Set","has","task","setNodeMarkup","alignmentCommand","setSelection","isList","toggleList","listType","itemType","blockRange","parentList","validContent","nodeAttrs","wrapInList","setNodeIndentMarkup","delta","minIndent","maxIndent","setTextIndent","TextSelection","AllSelection","indentCommand","docChanged","autoFocus","expose","__expose","editorViewRef","handleInput","innerHTML","handleFocus","handleBlur","handleKeydown","textContent","hasFocus","replaceRangeWith","setProps","execCommand","wrapIn","removeMark","handleDOMEvents","keydown","mouseup","RICH_TEXT_COMMAND","off","canMove","realHeightCache","realWidthCache","updateTextElementHeight","entries","contentRect","realHeight","realWidth","updateContent","checkEmptyText","pureText","isHandleElement","textShadow","letterSpacing","fontFamily","writingMode","ElementOutline","ProsemirrorEditor","textIndent","undefined","paragraphSpace","onUpdate","color1","color2","x1","y1","x2","y2","gradientTransform","offset","defaultText","updateText","_text","prosemirrorEditorRef","startEdit","nextTick","onDblclick","gradient","GradientDefs","onBlur","pathMap","dot","rotateMap","markerUnits","orient","markerWidth","markerHeight","refX","refY","svgWidth","svgHeight","lineDashArray","LinePointMarker","legend","chartRef","slideScale","inject","chartHeight","getPieChartData","getOptions","propsOptopns","renderChart","BarChart","LineChart","PieChart","updateChart","themeColors","colors","analogous","supplement","updateTheme","setProperty","updateGridColor","flexDirection","openDataEditor","OPEN_CHART_DATA_EDITOR","Chart","getTextStyle","textDecoration","fontWeight","fontStyle","fontSize","formatText","hideCells","cell","subThemeColor","immediate","textareaRef","onpaste","excelData","onBeforeUnmount","contenteditable","onFocus","onInput","isStartSelect","startCell","endCell","tableCells","get","set","newData","useSubThemeColor","colSizeList","totalWidth","reduce","a","b","removeSelectedCells","dragLinePosition","useHideCells","selectedCells","isEqual","activedCell","handleCellMousedown","rowIndex","colIndex","button","handleCellMouseenter","isHideCell","selectCol","maxRow","selectRow","maxCol","deleteRow","_tableCells","targetCells","hideCellsPos","deleteCol","insertRow","insertCol","fillTable","rowCount","defaultCell","newRows","mergeCells","splitCells","handleMousedownColHandler","originWidth","clearSelectedCellText","tabActiveCell","getNextCell","nextRow","nextCol","nextCell","textRef","insertExcelData","fillRowCount","fillColCount","getEffectiveTableCells","effectiveTableCells","_rowCells","checkCanDeleteRowOrCol","canDeleteRow","canDeleteCol","checkCanMergeOrSplit","isMultiSelected","targetCell","canMerge","canSplit","cellIndex","dataset","handler","divider","span","borderStyle","onMouseenter","CustomTextarea","onUpdateValue","onInsertExcelData","_vShow","updateTableElementHeight","updateTableCells","updateColWidths","widths","updateSelectedCells","EditableTable","onChangeColWidths","onChangeSelectedCells","openLatexEditor","OPEN_LATEX_EDITOR","videoRef","exec","canPlayType","Hls","isSupported","hls","loadSource","attachMedia","flvjs","flvPlayer","createPlayer","attachMediaElement","load","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","poster","secondToTime","second","isNaN","add0","num","hour","floor","sec","getBoundingClientRectViewLeft","playBarWrap","volumeBarRef","volume","paused","currentTime","duration","loaded","bezelTransition","playbackRate","playBarTimeVisible","playBarTime","playBarTimeLeft","ptime","dtime","playedBarWidth","loadedBarWidth","volumeBarWidth","speedMenuVisible","speedOptions","seek","play","pause","toggle","setVolume","muted","speed","rate","handleDurationchange","handleTimeupdate","handleEnded","handleProgress","buffered","loadError","handleError","thumbMove","clientX","thumbUp","handleMousedownPlayBar","volumeMove","volumeUp","handleMousedownVolumeBar","handleClickVolumeBar","handleMousemovePlayBar","px","tx","toggleVolume","toggleLoop","autoHideControllerTimer","hideController","autoHideController","clearTimeout","played","useMSE","_component_IconPause","_component_IconPlayOne","_component_IconVolumeMute","_component_IconVolumeNotice","_component_IconVolumeSmall","onMousemove","playsinline","onDurationchange","onTimeupdate","onEnded","onProgress","onPlay","onPause","onError","onAnimationend","onMouseleave","VideoPlayer","audioRef","handlePlayed","audioIconSize","audioPlayerPosition","audioWidth","audioHeight","AudioPlayer","elementIndex","isMultiSelect","openLinkDialog","currentElementComponent","elementTypeMap","IMAGE","ImageElement","TEXT","TextElement","SHAPE","ShapeElement","LINE","LineElement","CHART","ChartElement","TABLE","TableElement","LATEX","LatexElement","VIDEO","VideoElement","AUDIO","AudioElement","useAlignElementToCanvas","subText","hide","zIndex","_resolveDynamicComponent","validator","bgColor","colorList","mostReadable","includeFallbackColors","p","backgroundStyle","gradientColor","gradientRotate","gradientType","backgroundImage","backgroundRepeat","backgroundSize","useSlideBackgroundStyle","GridLines","sizeStyle","markerSize","marker","selectionRef","createSelection","absX","absY","isOpposite","endPageX","endPageY","defaultSize","lineData","_startX","_startY","_endX","_endY","onContextmenu","resizeHandlers","textElementResizeHandlers","verticalTextElementResizeHandlers","borderLines","T","R","isWide","localActiveElementList","useCommonOperate","setRange","watchEffect","disableResize","BorderLine","ResizeHandler","script","render","__default__","inheritAttrs","handlerVisible","scaleWidth","scaleHeight","RotateHandler","keypointStyle","keypointPos","handlers","ctrlHandler","ctrlHandler1","ctrlHandler2","cannotRotate","setLink","linkRegExp","removeLink","useLink","turnTarget","targetIndex","_Divider","isSelected","isActive","currentOperateComponent","ImageElementOperate","TextElementOperate","ShapeElementOperate","LineElementOperate","TableElementOperate","CommonElementOperate","elementIndexListInAnimation","indexList","transformOrigin","LinkHandler","cssVar","needScaleSize","zoom","StaticTable","BaseImageElement","BaseTextElement","BaseShapeElement","BaseLineElement","BaseChartElement","BaseTableElement","BaseLatexElement","BaseVideoElement","BaseAudioElement","provide","ThumbnailElement","SelectOption","_Select","Option","address","selectedSlide","tabs","save","success","tab","_Input","placeholder","disabled","ThumbnailSlide","_Button","linkDialogVisible","setLocalElementList","useViewportSize","useDropImageOrText","useMouseSelection","useDragElement","useDragLineElement","useSelectElement","useScaleElement","useRotateElement","useMoveShapeKeypoint","handleClickBlankArea","removeEditorAreaFocus","throttleScaleCanvas","throttleUpdateSlideIndex","handleMousewheelCanvas","deltaY","useInsertFromCreateSelection","onWheel","ElementCreateSelection","onCreated","AlignmentLine","MultiSelectOperate","Operate","ViewportBackground","MouseSelection","EditableElement","Ruler","_Modal","footer","centered","destroyOnClose","LinkDialog","selectShape","ShapeItemThumbnail","LINE_LIST","selectLine","chartList","selectChart","_component_IconChartLine","_component_IconChartHistogram","_component_IconChartPie","_component_IconChartHistogramOne","_component_IconChartLineArea","_component_IconChartRing","_component_IconChartScatter","customRow","customCol","isCustom","handleClickTable","insertCustomTable","close","_InputNumber","videoSrc","audioSrc","insertVideo","insertAudio","hfmathConfig","SUB_SUP_SCALE","FORMULA_LIST","SYMBOL_LIST","box","pathd","eq","hfmath","boxW","boxH","svg","SCALE_X","SCALE_Y","TextArea","formulaList","symbolList","textAreaRef","selectedSymbolKey","symbolPool","selectedSymbol","insertSymbol","FormulaContent","SymbolContent","canvasScalePresetList","canvasScaleVisible","applyCanvasPresetScale","insertImageElement","shapePoolVisible","linePoolVisible","chartPoolVisible","tableGeneratorVisible","mediaInputVisible","latexEditorVisible","textTypeSelectVisible","drawText","drawShape","drawLine","_component_IconBack","_component_IconNext","_component_IconFontSize","_component_IconTextRotationNone","_component_IconTextRotationDown","_component_IconDown","_component_IconPicture","_component_IconGraphicDesign","_component_IconConnection","_component_IconChartProportion","_component_IconInsertTable","_component_IconFormula","_component_IconVideoTwo","_component_IconMinus","_component_IconPlus","_component_IconFullScreen","mouseEnterDelay","_Popover","ShapePool","onSelect","LinePool","ChartPool","TableGenerator","onInsert","MediaInput","onInsertVideo","onInsertAudio","LaTeXEditor","timer","slidesLoadLimit","loadSlide","selectSlideTemplate","useLoadSlides","presetLayoutPopoverVisible","changeSlideIndex","handleClickSlideThumbnail","minIndex","handleDragEnd","eventData","contextmenusThumbnails","contextmenusThumbnailItem","LayoutPool","Draggable","modelValue","scroll","scrollSensitivity","onEnd","itemKey","toggleFormatPainter","deep","updateOpacity","_Slider","_component_IconPlatte","white","grey","checkboardCache","renderCheckboard","fillRect","translate","toDataURL","getCheckboard","checkboard","bgStyle","rgbaStr","r","g","alphaRef","containerWidth","xOffset","pageXOffset","unbindEventListeners","handleMouseDown","Checkboard","hue","oldHue","pullDirection","hsla","toHsl","pointerLeft","s","hueRef","percent","l","hsva","toHsv","pointerTop","emitChangeEvent","param","saturationRef","containerHeight","yOffset","pageYOffset","clamp","saturation","bright","val","_hex","toHex8String","toHexString","toRgb","RECENT_COLORS","presetColorConfig","startColor","endColor","_startColor","_endColor","rStep","gStep","bStep","gradientColorArr","getPresetColors","presetColors","standardColors","recentColors","rgbaString","currentColor","selectPresetColor","colorString","updateRecentColorsCache","_color","maxLength","recentColorsCache","setItem","changeColor","openEyeDropper","isSupportedEyeDropper","browserEyeDropper","customEyeDropper","eyeDropper","EyeDropper","tColor","sRGBHex","targetRef","maskRef","cssText","colorBlockRef","tagName","classList","contains","toCanvas","fontEmbedCSS","pixelRatio","toFixed","handleMouseleave","handleMousedown","_component_IconNeedle","Saturation","onColorChange","Hue","Alpha","EditableInput","c","fixed","hasOutline","updateOutline","outlineProps","toggleOutline","checked","_outline","_Switch","ColorPicker","ColorButton","hasShadow","updateShadow","shadowProps","_shadow","toggleShadow","_hoisted_23","_hoisted_24","_hoisted_25","Group","RadioGroup","Button","RadioButton","_Radio","OptGroup","SelectOptGroup","InputGroup","ButtonGroup","presetStyles","useTextFormatPainter","bulletListPanelVisible","orderedListPanelVisible","bulletListStyleTypeOption","orderedListStyleTypeOption","fontSizeOptions","lineHeightOptions","wordSpaceOptions","textIndentOptions","paragraphSpaceOptions","updateLineHeight","updateParagraphSpace","updateWordSpace","updateTextIndent","updateFill","emitRichTextCommand","emitBatchRichTextCommand","linkPopoverVisible","openLinkPopover","updateLink","_component_IconAddText","_component_IconText","_component_IconHighLight","_component_IconTextBold","_component_IconTextItalic","_component_IconTextUnderline","_component_IconStrikethrough","_component_IconCode","_component_IconQuote","_component_IconFormat","_component_IconFormatBrush","_component_IconLinkOne","_component_IconAlignTextLeft","_component_IconAlignTextCenter","_component_IconAlignTextRight","_component_IconList","_component_IconOrderedList","_component_IconIndentLeft","_component_IconIndentRight","_component_IconRowHeight","_component_IconVerticalSpacingBetweenItems","_component_IconFullwidth","compact","suffixIcon","TextColorButton","CheckboxButtonGroup","CheckboxButton","ElementShadow","ElementOpacity","updateFlip","flipProps","_component_IconFlipVertically","_component_IconFlipHorizontally","defaultFilters","unit","filterOptions","hasFilters","filterItem","updateFilter","_handleElement","originFilters","toggleFilters","defaultColorMask","hasColorMask","toggleColorMask","updateColorMask","colorMaskProp","newColorMask","shapeClipPathOptions","ratioClipOptions","ratio","handleImageElement","clipPanelVisible","clipImage","getImageElementDataBeforeClip","imgLeft","imgTop","originClipRange","originHeight","presetImageClip","imageRatio","distance","replaceImage","resetImage","setBackgroundImage","_component_IconTailoring","_component_IconTransform","_component_IconUndo","_component_IconTheme","ElementFlip","ElementColorMask","ElementFilter","handleShapeElement","fillType","updateFillType","updateGradient","gradientProps","_gradient","changeShape","updateTextAlign","_component_IconAlignTextTopOne","_component_IconAlignTextMiddleOne","_component_IconAlignTextBottomOne","handleLineElement","updateLine","CELL_WIDTH","CELL_HEIGHT","selectedRange","tempRangeSize","focusCell","rangeLines","resizablePointStyle","initData","_data","moveNextRow","getTableData","labelsItem","labelInputRef","legendsItem","seriesItem","valueInputRef","clear","handlePaste","closeEditor","changeSelectRange","autocomplete","onPaste","presetChartThemes","handleChartElement","chartDataEditorVisible","presetThemesVisible","presetThemeColorHoverIndex","_lineSmooth","_showLine","_showArea","_horizontalBars","_donut","_stackBars","updateData","updateOptions","optionProps","newOptions","addThemeColor","applyPresetTheme","deleteThemeColor","updateLegend","_component_IconCloseSmall","_Checkbox","itemIndex","ChartDataEditor","onSave","textAttrs","hasTheme","minRowCount","minColCount","updateTextAttrState","selectedCell","updateTextAttrs","textAttrProp","themeProp","_theme","toggleTheme","setTableRow","newTableCells","setTableCol","newColSizeList","_component_IconFill","handleLatexElement","updateLatex","updateLatexData","handleVideoElement","updateVideo","setVideoPoster","handleAudioElement","updateAudio","updateFontStyle","panelMap","TextStylePanel","ImageStylePanel","ShapeStylePanel","LineStylePanel","ChartStylePanel","TableStylePanel","LatexStylePanel","VideoStylePanel","AudioStylePanel","currentPanelComponent","MultiStylePanel","activeGroupElement","isHorizontalText","isVerticalText","updateLeft","updateTop","updateShapePathData","updateWidth","updateHeight","updateRotate","updateFixedRatio","updateRotate45","_rotate","_component_IconSendToBack","_component_IconBringToFrontOne","_component_IconBringToFront","_component_IconSentToBack","_component_IconAlignLeft","_component_IconAlignVertically","_component_IconAlignRight","_component_IconAlignTop","_component_IconAlignHorizontally","_component_IconAlignBottom","_component_IconLock","_component_IconUnlock","_component_IconRotate","ANIMATION_DEFAULT_DURATION","ANIMATION_DEFAULT_TRIGGER","ANIMATION_CLASS_PREFIX","ENTER_ANIMATIONS","EXIT_ANIMATIONS","ATTENTION_ANIMATIONS","animationEffects","effect","animationTypes","activeTab","animationPoolVisible","hoverPreviewAnimation","animationSequence","elType","animationEffect","handleElementAnimation","deleteAnimation","runAnimation","elRef","animationName","handleAnimationEnd","removeProperty","once","updateElementAnimationDuration","updateElementAnimationTrigger","updateElementAnimation","handleAnimationId","animationItem","addAnimation","popoverMaskHide","handlePopoverVisibleChange","openAnimationPool","in","out","attention","_component_IconEffects","_component_IconClick","onVisibleChange","handle","PRESET_THEMES","getSlideAllColors","getAlpha","createSlideThemeColorMap","newColors","oldColors","themeColorMap","otherColors","setSlideTheme","colorMap","applyPresetThemeToSingleSlide","applyPresetThemeToAllSlides","applyThemeToAllSlides","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","useSlideTheme","updateBackgroundType","newBackground","updateBackground","uploadBackgroundImage","applyBackgroundAllSlide","updateViewportRatio","currentTurningMode","turningMode","updateTurningMode","mode","applyAllSlide","alignActiveElement","groupElementRangeMap","activeElement","groupElements","horizontalCenter","center","verticalCenter","displayItemCount","count","groupIdList","uniformHorizontalDisplay","copyOfActiveElementList","singleElemetList","groupList","groupEl","formatedGroupList","groupItem","list","sort","itemA","itemB","sortedElementData","firstItem","lastPos","lastWidth","currentPos","currentWidth","sortedItem","uniformVerticalDisplay","totalHeight","lastHeight","currentHeight","useAlignActiveElement","useUniformDisplayElement","alignElement","_component_IconGroup","_component_IconUngroup","selectSymbol","elementTabs","EL_STYLE","SYMBOL","EL_POSITION","EL_ANIMATION","slideTabs","SLIDE_ANIMATION","multiSelectTabs","MULTI_POSITION","currentTabs","currentTabsValue","ElementStylePanel","ElementPositionPanel","ElementAnimationPanel","SlideDesignPanel","SlideAnimationPanel","MultiPositionPanel","SymbolPanel","remark","resize","newHeight","childlessTags","closingTags","closingTagAncestorBreakers","li","dt","dd","tbody","thead","tfoot","td","voidTags","jumpPosition","movePositopn","findTextEnd","isEnd","textEnd","char","charAt","lexText","tokens","lexComment","contentEnd","commentEnd","lexTagName","isTagChar","lexTagAttributes","quote","wordBegin","words","isQuoteEnd","isTagEnd","isWordEnd","isQuoteStart","word","isNotPair","secondWord","startsWith","newWord","thirdWord","endsWith","lexSkipTag","safeTagName","nextTag","tagState","lexTag","textStart","secondChar","tagStartClose","firstChar","tagEndClose","lex","isComment","safeTag","lexer","root","stack","hasTerminalParent","tagParents","parentTagName","rewindStack","newLength","token","tagToken","shouldRewind","isClosingTag","shouldRewindToAutoClose","previousIndex","attributes","tagEndToken","_token","elementNode","hasChildren","innerState","splitHead","sep","idx","unquote","car","formatAttributes","attribute","parts","trim","format","toAST","typeMap","toPoints","pathData","SVGPathData","commands","lastPoint","cubicBezierPoints","arcToBezier","py","rX","rY","xAxisRotation","xRot","largeArcFlag","lArcFlag","sweepFlag","cbPoint","characters","PREFIX","utf8Encode","utftext","charCodeAt","fromCharCode","encode","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","svg2Base64","XMLS","XMLSerializer","serializeToString","INCH_PX_RATIO","PT_PX_RATIO","exportImage","domRef","quality","ignoreWebfont","toImage","toPng","toJpeg","foreignObjectSpans","querySelectorAll","spanRef","removeAttribute","config","dataUrl","saveAs","exportSpecificFile","blob","Blob","exportJSON","formatColor","alpha","formatHTML","html","ast","bulletFlag","slices","obj","baseStyleObj","isBlockTag","lastSlice","breakLine","styleObj","styleAttr","styleArr","styleItem","_key","_value","dataIndentAttr","highlight","strike","italic","fontFace","hyperlink","bullet","paraSpaceBefore","indentLevel","formatPoints","moveTo","getShadowOption","getOutlineOption","transparency","dashType","getLinkOption","exportPPTX","masterOverwrite","pptx","pptxgen","layout","defineLayout","bgAlpha","defineSlideMaster","pptxSlide","mix","addNotes","textProps","valign","margin","lineSpacingMultiple","autoFit","charSpacing","vert","addText","linkOption","rounding","originW","originH","sizing","addImage","svgRef","base64SVG","addShape","beginArrowType","endArrowType","chartData","chartColors","plotArea","showLegend","legendPos","legendColor","legendFontSize","ChartType","barDir","lineSize","doughnut","holeSize","addChart","hiddenCells","rowData","tableData","subThemeColors","_row","cellOptions","colW","border","pt","addTable","writeFile","fileName","imageThumbnailsRef","rangeType","renderSlides","useExport","expImage","createIframe","iframe","writeContent","printNode","docType","styleSheets","styleSheet","cssRules","rule","head","write","print","iframeContentWindow","contentWindow","contentDocument","handleLoadIframe","handleAfterprint","pdfThumbnailsRef","padding","expPDF","pageSize","currentDialogComponent","dialogMap","ExportImage","ExportJSON","ExportPDF","ExportPPTX","ExportSpecificFile","moveable","windowWidth","_component_IconClose","_elements","lastItem","selectGroupEl","idList","selectEl","hideElement","showAll","currentSlideElIdList","needHiddenElementIdList","hideAll","editingElId","saveElementName","enterEdit","_component_IconUp","_component_IconPreviewClose","_component_IconPreviewOpen","MoveablePanel","onKeydown","_withKeys","closeExportDialog","remarkHeight","useGlobalHotkey","usePasteEvent","EditorHeader","Thumbnails","CanvasTool","Canvas","Remark","Toolbar","SelectPanel","onCancel","ExportDialog","animationIndex","inAnimation","playedSlidesMinIndex","endAnimationCount","classname","revokeAnimation","execPrev","autoPlayTimer","closeAutoPlay","clearInterval","throttleMassage","execNext","autoPlay","setInterval","mousewheelListener","touchInfo","touchStartListener","touchEndListener","turnPrevSlide","turnNextSlide","turnSlideToIndex","turnSlideToId","wrapRef","slideWidth","slideHeight","setSlideContentSize","slideWrapRef","winWidth","winHeight","fullscreenState","escExit","handleFullscreenChange","manualExitFullscreen","audioPlayerRef","ScreenChartElement","ScreenVideoElement","ScreenAudioElement","needWaitAnimation","elementIndexInAnimation","firstAnimation","openLink","visibility","ScreenElement","ScreenSlide","turnSlide","_component_IconArrowCircleLeft","model","blackboard","penSize","markSize","rubberSize","writingBoardRef","lastTime","lastLineWidth","mouse","mouseInCanvas","updateCanvasSize","initCanvas","lineCap","lineJoin","updateCtx","globalCompositeOperation","globalAlpha","draw","posX","posY","lastPosX","lastPosY","strokeStyle","beginPath","lineTo","closePath","erase","sinRadius","cosRadius","rectPoint1","rectPoint2","rectPoint3","rectPoint4","arc","restore","getDistance","getLineWidth","t","maxV","minV","maxWidth","handleMove","getMouseOffsetPosition","event","canvasRect","clearCanvas","setImageDataURL","imageDataURL","Image","drawImage","_component_IconWrite","onMouseup","onTouchmove","onTouchend","writingBoardColors","writingBoardColor","writingBoardModel","sizePopoverType","changeModel","closeWritingBoard","where","equals","ret","currentImg","hanldeWritingEnd","_component_IconErase","_component_IconClear","WritingBoard","inTiming","isCountdown","minute","inputEditable","clearTimer","reset","toggleCountdown","changeTime","isNumber","maxlength","changeViewMode","useExecPlay","useSlideSize","useFullscreen","rightToolsVisible","writingBoardToolVisible","timerlVisible","slideThumbnailModelVisible","laserPen","_component_IconLeftTwo","_component_IconRightTwo","_component_IconMagic","_component_IconStopwatchStart","_component_IconListView","_component_IconOffScreenOne","_component_IconFullScreenOne","_component_IconPower","ScreenSlideList","SlideThumbnails","WritingBoardTool","CountdownTimer","slideListWrapRef","thumbnailsRef","remarkFontSize","currentSlideRemark","handleMousewheelThumbnails","scrollBy","setRemarkFontSize","activeThumbnailRef","offsetLeft","scrollTo","behavior","viewMode","ESC","BaseView","PresenterView","_resizeHandlers","insertTextElement","insertShapeElement","square","handleInputMark","_component_IconCopy","_component_IconDelete","_component_IconSquare","_component_IconRound","_component_Mobile","updateFontColor","changeMode","_component_IconLogout","contentRef","contentWidth","contentheight","contentRatio","Header","MobileOperate","MobileEditableElement","SlideToolbar","ElementToolbar","delayOnTouchOnly","delay","toolVisible","playerSize","slideSize","playerRatio","MobileThumbnails","mobileRef","screenWidth","_component_IconFullScreenPlay","_mode","currentComponent","componentMap","MobileEditor","MobilePlayer","MobilePreview","_isPC","onbeforeunload","initSnapshotDatabase","discardedDB","discardedDBList","newDiscardedDB","Screen","Editor","Mobile","register","ready","console","log","registered","cached","updatefound","updated","offline","icons","IconPlayOne","_PlayOne","IconFullScreenPlay","_FullScreenPlay","IconLock","_Lock","IconUnlock","_Unlock","IconPpt","_Ppt","IconFormat","_Format","IconPicture","_Picture","IconFullScreen","_FullScreen","IconList","_List","IconOrderedList","_OrderedList","IconHelpcenter","_Helpcenter","IconFlipVertically","_FlipVertically","IconFlipHorizontally","_FlipHorizontally","IconFontSize","_FontSize","IconCode","_Code","IconTextBold","_TextBold","IconTextItalic","_TextItalic","IconTextUnderline","_TextUnderline","IconStrikethrough","_Strikethrough","IconEdit","_Edit","IconQuote","_Quote","IconBackgroundColor","_BackgroundColor","IconGroup","_Group","IconUngroup","_Ungroup","IconBack","_Back","IconNext","_Next","IconFullwidth","_Fullwidth","IconAlignTop","_AlignTop","IconAlignLeft","_AlignLeft","IconAlignRight","_AlignRight","IconAlignBottom","_AlignBottom","IconAlignVertically","_AlignVertically","IconAlignHorizontally","_AlignHorizontally","IconBringToFront","_BringToFront","IconSendToBack","_SendToBack","IconAlignTextLeft","_AlignTextLeft","IconAlignTextRight","_AlignTextRight","IconAlignTextCenter","_AlignTextCenter","IconRowHeight","_RowHeight","IconWrite","_Write","IconInsertTable","_InsertTable","IconAddText","_AddText","IconFill","_Fill","IconTailoring","_Tailoring","IconEffects","_Effects","IconColorFilter","_ColorFilter","IconUp","_Up","IconDown","_Down","IconPlus","_Plus","IconMinus","_Minus","IconConnection","_Connection","IconBringToFrontOne","_BringToFrontOne","IconSentToBack","_SentToBack","IconGithub","_Github","IconChartProportion","_ChartProportion","IconChartHistogram","_ChartHistogram","IconChartHistogramOne","_ChartHistogramOne","IconChartLineArea","_ChartLineArea","IconChartRing","_ChartRing","IconChartScatter","_ChartScatter","IconChartLine","_ChartLine","IconChartPie","_ChartPie","IconText","_Text","IconRotate","_Rotate","IconLeftTwo","_LeftTwo","IconRightTwo","_RightTwo","IconPlatte","_Platte","IconClose","_Close","IconCloseSmall","_CloseSmall","IconUndo","_Undo","IconTransform","_Transform","IconClick","_Click","IconTheme","_Theme","IconArrowCircleLeft","_ArrowCircleLeft","IconGraphicDesign","_GraphicDesign","IconLogout","_Logout","IconErase","_Erase","IconClear","_Clear","IconFolderClose","_FolderClose","IconAlignTextTopOne","_AlignTextTopOne","IconAlignTextBottomOne","_AlignTextBottomOne","IconAlignTextMiddleOne","_AlignTextMiddleOne","IconPause","_Pause","IconVolumeMute","_VolumeMute","IconVolumeNotice","_VolumeNotice","IconVolumeSmall","_VolumeSmall","IconVideoTwo","_VideoTwo","IconFormula","_Formula","IconLinkOne","_LinkOne","IconFullScreenOne","_FullScreenOne","IconOffScreenOne","_OffScreenOne","IconPower","_Power","IconListView","_ListView","IconMagic","_Magic","IconHighLight","_HighLight","IconShare","_Share","IconIndentLeft","_IndentLeft","IconIndentRight","_IndentRight","IconVerticalSpacingBetweenItems","_VerticalSpacingBetweenItems","IconCopy","_Copy","IconDelete","_Delete","IconSquare","_Square","IconRound","_Round","IconNeedle","_Needle","IconTextRotationNone","_TextRotationNone","IconTextRotationDown","_TextRotationDown","IconFormatBrush","_FormatBrush","IconPreviewOpen","_PreviewOpen","IconPreviewClose","_PreviewClose","IconStopwatchStart","_StopwatchStart","install","app","component","menus","handleClickMenuItem","_component_menu_content","menu","removeContextmenu","MENU_WIDTH","MENU_HEIGHT","DIVIDER_HEIGHT","PADDING","menuCount","dividerCount","menuWidth","menuHeight","screenHeight","MenuContent","CTX_CONTEXTMENU_HANDLER","contextmenuListener","binding","vm","createVNode","ContextmenuComponent","ContextmenuDirective","mounted","unmounted","CTX_CLICK_OUTSIDE_HANDLER","clickListener","composedPath","isClickOutside","ClickOutsideDirective","directive","Contextmenu","ClickOutside","createApp","App","use","Icon","Directive","createPinia","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","prop","prototype","hasOwnProperty","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}